import{a as w,b as $,c as _t,d as Ew,e as Iw,f as h,h as bh,i as Dh,l as Sw,m as Ch}from"./chunk-PZ5UXJ7I.js";var Ff=_t(Pf=>{"use strict";Object.defineProperty(Pf,"__esModule",{value:!0});var kf=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}};Pf.default=kf});var jf=_t(Ao=>{"use strict";var Ny=Ao&&Ao.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ao,"__esModule",{value:!0});var SM=Ny((Ch(),Iw(Sw))),MM=Ny(Ff()),Lf=class{constructor(n){this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=n.headers,this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=n.shouldThrowOnError,this.signal=n.signal,this.isMaybeSingle=n.isMaybeSingle,n.fetch?this.fetch=n.fetch:typeof fetch>"u"?this.fetch=SM.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,e){return this.headers=Object.assign({},this.headers),this.headers[n]=e,this}then(n,e){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(o=>h(this,null,function*(){var s,a,l;let c=null,u=null,d=null,p=o.status,f=o.statusText;if(o.ok){if(this.method!=="HEAD"){let I=yield o.text();I===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=I:u=JSON.parse(I))}let _=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),b=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");_&&b&&b.length>1&&(d=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,p=406,f="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{let _=yield o.text();try{c=JSON.parse(_),Array.isArray(c)&&o.status===404&&(u=[],c=null,p=200,f="OK")}catch{o.status===404&&_===""?(p=204,f="No Content"):c={message:_}}if(c&&this.isMaybeSingle&&(!((l=c?.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,p=200,f="OK"),c&&this.shouldThrowOnError)throw new MM.default(c)}return{error:c,data:u,count:d,status:p,statusText:f}}));return this.shouldThrowOnError||(i=i.catch(o=>{var s,a,l;return{error:{message:`${(s=o?.name)!==null&&s!==void 0?s:"FetchError"}: ${o?.message}`,details:`${(a=o?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=o?.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(n,e)}returns(){return this}overrideTypes(){return this}};Ao.default=Lf});var Uf=_t(No=>{"use strict";var TM=No&&No.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(No,"__esModule",{value:!0});var xM=TM(jf()),Vf=class extends xM.default{select(n){let e=!1,r=(n??"*").split("").map(i=>/\s/.test(i)&&!e?"":(i==='"'&&(e=!e),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:e=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){let s=o?`${o}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${n}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:e,referencedTable:r=e}={}){let i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${n}`),this}range(n,e,{foreignTable:r,referencedTable:i=r}={}){let o=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${n}`),this.url.searchParams.set(s,`${e-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:e=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){var a;let l=[n?"analyze":null,e?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${c}"; options=${l};`,s==="json"?this:this}rollback(){var n;return((n=this.headers.Prefer)!==null&&n!==void 0?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};No.default=Vf});var xl=_t(Ro=>{"use strict";var AM=Ro&&Ro.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ro,"__esModule",{value:!0});var NM=AM(Uf()),$f=class extends NM.default{eq(n,e){return this.url.searchParams.append(n,`eq.${e}`),this}neq(n,e){return this.url.searchParams.append(n,`neq.${e}`),this}gt(n,e){return this.url.searchParams.append(n,`gt.${e}`),this}gte(n,e){return this.url.searchParams.append(n,`gte.${e}`),this}lt(n,e){return this.url.searchParams.append(n,`lt.${e}`),this}lte(n,e){return this.url.searchParams.append(n,`lte.${e}`),this}like(n,e){return this.url.searchParams.append(n,`like.${e}`),this}likeAllOf(n,e){return this.url.searchParams.append(n,`like(all).{${e.join(",")}}`),this}likeAnyOf(n,e){return this.url.searchParams.append(n,`like(any).{${e.join(",")}}`),this}ilike(n,e){return this.url.searchParams.append(n,`ilike.${e}`),this}ilikeAllOf(n,e){return this.url.searchParams.append(n,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(n,e){return this.url.searchParams.append(n,`ilike(any).{${e.join(",")}}`),this}is(n,e){return this.url.searchParams.append(n,`is.${e}`),this}in(n,e){let r=Array.from(new Set(e)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(n,`in.(${r})`),this}contains(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cs.{${e.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(e)}`),this}containedBy(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cd.{${e.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(e)}`),this}rangeGt(n,e){return this.url.searchParams.append(n,`sr.${e}`),this}rangeGte(n,e){return this.url.searchParams.append(n,`nxl.${e}`),this}rangeLt(n,e){return this.url.searchParams.append(n,`sl.${e}`),this}rangeLte(n,e){return this.url.searchParams.append(n,`nxr.${e}`),this}rangeAdjacent(n,e){return this.url.searchParams.append(n,`adj.${e}`),this}overlaps(n,e){return typeof e=="string"?this.url.searchParams.append(n,`ov.${e}`):this.url.searchParams.append(n,`ov.{${e.join(",")}}`),this}textSearch(n,e,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(n,`${o}fts${s}.${e}`),this}match(n){return Object.entries(n).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(n,e,r){return this.url.searchParams.append(n,`not.${e}.${r}`),this}or(n,{foreignTable:e,referencedTable:r=e}={}){let i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${n})`),this}filter(n,e,r){return this.url.searchParams.append(n,`${e}.${r}`),this}};Ro.default=$f});var Hf=_t(ko=>{"use strict";var RM=ko&&ko.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ko,"__esModule",{value:!0});var Oo=RM(xl()),Bf=class{constructor(n,{headers:e={},schema:r,fetch:i}){this.url=n,this.headers=e,this.schema=r,this.fetch=i}select(n,{head:e=!1,count:r}={}){let i=e?"HEAD":"GET",o=!1,s=(n??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new Oo.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:e,defaultToNull:r=!0}={}){let i="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),e&&o.push(`count=${e}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(n)){let s=n.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(s.length>0){let a=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Oo.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:e,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){let s="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(e!==void 0&&this.url.searchParams.set("on_conflict",e),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(n)){let l=n.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){let c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Oo.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:e}={}){let r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),e&&i.push(`count=${e}`),this.headers.Prefer=i.join(","),new Oo.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){let e="DELETE",r=[];return n&&r.push(`count=${n}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Oo.default({method:e,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ko.default=Bf});var Ry=_t(Al=>{"use strict";Object.defineProperty(Al,"__esModule",{value:!0});Al.version=void 0;Al.version="0.0.0-automated"});var Oy=_t(Nl=>{"use strict";Object.defineProperty(Nl,"__esModule",{value:!0});Nl.DEFAULT_HEADERS=void 0;var OM=Ry();Nl.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${OM.version}`}});var Py=_t(Po=>{"use strict";var ky=Po&&Po.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Po,"__esModule",{value:!0});var kM=ky(Hf()),PM=ky(xl()),FM=Oy(),zf=class t{constructor(n,{headers:e={},schema:r,fetch:i}={}){this.url=n,this.headers=Object.assign(Object.assign({},FM.DEFAULT_HEADERS),e),this.schemaName=r,this.fetch=i}from(n){let e=new URL(`${this.url}/${n}`);return new kM.default(e,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new t(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,e={},{head:r=!1,get:i=!1,count:o}={}){let s,a=new URL(`${this.url}/rpc/${n}`),l;r||i?(s=r?"HEAD":"GET",Object.entries(e).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(s="POST",l=e);let c=Object.assign({},this.headers);return o&&(c.Prefer=`count=${o}`),new PM.default({method:s,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Po.default=zf});var By=_t(Me=>{"use strict";var si=Me&&Me.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Me,"__esModule",{value:!0});Me.PostgrestError=Me.PostgrestBuilder=Me.PostgrestTransformBuilder=Me.PostgrestFilterBuilder=Me.PostgrestQueryBuilder=Me.PostgrestClient=void 0;var Fy=si(Py());Me.PostgrestClient=Fy.default;var Ly=si(Hf());Me.PostgrestQueryBuilder=Ly.default;var jy=si(xl());Me.PostgrestFilterBuilder=jy.default;var Vy=si(Uf());Me.PostgrestTransformBuilder=Vy.default;var Uy=si(jf());Me.PostgrestBuilder=Uy.default;var $y=si(Ff());Me.PostgrestError=$y.default;Me.default={PostgrestClient:Fy.default,PostgrestQueryBuilder:Ly.default,PostgrestFilterBuilder:jy.default,PostgrestTransformBuilder:Vy.default,PostgrestBuilder:Uy.default,PostgrestError:$y.default}});var Gy=_t((Dj,qy)=>{"use strict";qy.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}});function Dc(t,n){return Object.is(t,n)}var ye=null,ds=!1,Cc=1,Ye=Symbol("SIGNAL");function B(t){let n=ye;return ye=t,n}function Ec(){return ye}var Ti={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function xi(t){if(ds)throw new Error("");if(ye===null)return;ye.consumerOnSignalRead(t);let n=ye.nextProducerIndex++;if(gs(ye),n<ye.producerNode.length&&ye.producerNode[n]!==t&&Mi(ye)){let e=ye.producerNode[n];ps(e,ye.producerIndexOfThis[n])}ye.producerNode[n]!==t&&(ye.producerNode[n]=t,ye.producerIndexOfThis[n]=Mi(ye)?Ih(t,ye,n):0),ye.producerLastReadVersion[n]=t.version}function Eh(){Cc++}function Ic(t){if(!(Mi(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Cc)){if(!t.producerMustRecompute(t)&&!xc(t)){bc(t);return}t.producerRecomputeValue(t),bc(t)}}function Sc(t){if(t.liveConsumerNode===void 0)return;let n=ds;ds=!0;try{for(let e of t.liveConsumerNode)e.dirty||Mw(e)}finally{ds=n}}function Mc(){return ye?.consumerAllowSignalWrites!==!1}function Mw(t){t.dirty=!0,Sc(t),t.consumerMarkedDirty?.(t)}function bc(t){t.dirty=!1,t.lastCleanEpoch=Cc}function hs(t){return t&&(t.nextProducerIndex=0),B(t)}function Tc(t,n){if(B(n),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Mi(t))for(let e=t.nextProducerIndex;e<t.producerNode.length;e++)ps(t.producerNode[e],t.producerIndexOfThis[e]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function xc(t){gs(t);for(let n=0;n<t.producerNode.length;n++){let e=t.producerNode[n],r=t.producerLastReadVersion[n];if(r!==e.version||(Ic(e),r!==e.version))return!0}return!1}function Ac(t){if(gs(t),Mi(t))for(let n=0;n<t.producerNode.length;n++)ps(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ih(t,n,e){if(Sh(t),t.liveConsumerNode.length===0&&Mh(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Ih(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(e),t.liveConsumerNode.push(n)-1}function ps(t,n){if(Sh(t),t.liveConsumerNode.length===1&&Mh(t))for(let r=0;r<t.producerNode.length;r++)ps(t.producerNode[r],t.producerIndexOfThis[r]);let e=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[e],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[e],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[n],i=t.liveConsumerNode[n];gs(i),i.producerIndexOfThis[r]=n}}function Mi(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function gs(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Sh(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Mh(t){return t.producerNode!==void 0}function Nc(t,n){let e=Object.create(Tw);e.computation=t,n!==void 0&&(e.equal=n);let r=()=>{if(Ic(e),xi(e),e.value===fs)throw e.error;return e.value};return r[Ye]=e,r}var _c=Symbol("UNSET"),wc=Symbol("COMPUTING"),fs=Symbol("ERRORED"),Tw=$(w({},Ti),{value:_c,dirty:!0,error:null,equal:Dc,kind:"computed",producerMustRecompute(t){return t.value===_c||t.value===wc},producerRecomputeValue(t){if(t.value===wc)throw new Error("Detected cycle in computations.");let n=t.value;t.value=wc;let e=hs(t),r,i=!1;try{r=t.computation(),B(null),i=n!==_c&&n!==fs&&r!==fs&&t.equal(n,r)}catch(o){r=fs,t.error=o}finally{Tc(t,e)}if(i){t.value=n;return}t.value=r,t.version++}});function xw(){throw new Error}var Th=xw;function xh(t){Th(t)}function Rc(t){Th=t}var Aw=null;function Oc(t,n){let e=Object.create(ms);e.value=t,n!==void 0&&(e.equal=n);let r=()=>(xi(e),e.value);return r[Ye]=e,r}function Ai(t,n){Mc()||xh(t),t.equal(t.value,n)||(t.value=n,Nw(t))}function kc(t,n){Mc()||xh(t),Ai(t,n(t.value))}var ms=$(w({},Ti),{equal:Dc,value:void 0,kind:"signal"});function Nw(t){t.version++,Eh(),Sc(t),Aw?.()}function Pc(t){let n=B(null);try{return t()}finally{B(n)}}var Fc;function Ni(){return Fc}function qt(t){let n=Fc;return Fc=t,n}var vs=Symbol("NotFound");function k(t){return typeof t=="function"}function fr(t){let e=t(r=>{Error.call(r),r.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var ys=fr(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function Ri(t,n){if(t){let e=t.indexOf(n);0<=e&&t.splice(e,1)}}var he=class t{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let o of e)o.remove(this);else e.remove(this);let{initialTeardown:r}=this;if(k(r))try{r()}catch(o){n=o instanceof ys?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Ah(o)}catch(s){n=n??[],s instanceof ys?n=[...n,...s.errors]:n.push(s)}}if(n)throw new ys(n)}}add(n){var e;if(n&&n!==this)if(this.closed)Ah(n);else{if(n instanceof t){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(n)}}_hasParent(n){let{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){let{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&Ri(e,n)}remove(n){let{_finalizers:e}=this;e&&Ri(e,n),n instanceof t&&n._removeParent(this)}};he.EMPTY=(()=>{let t=new he;return t.closed=!0,t})();var Lc=he.EMPTY;function _s(t){return t instanceof he||t&&"closed"in t&&k(t.remove)&&k(t.add)&&k(t.unsubscribe)}function Ah(t){k(t)?t():t.unsubscribe()}var ut={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var hr={setTimeout(t,n,...e){let{delegate:r}=hr;return r?.setTimeout?r.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){let{delegate:n}=hr;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ws(t){hr.setTimeout(()=>{let{onUnhandledError:n}=ut;if(n)n(t);else throw t})}function Oi(){}var Nh=jc("C",void 0,void 0);function Rh(t){return jc("E",void 0,t)}function Oh(t){return jc("N",t,void 0)}function jc(t,n,e){return{kind:t,value:n,error:e}}var Sn=null;function pr(t){if(ut.useDeprecatedSynchronousErrorHandling){let n=!Sn;if(n&&(Sn={errorThrown:!1,error:null}),t(),n){let{errorThrown:e,error:r}=Sn;if(Sn=null,e)throw r}}else t()}function kh(t){ut.useDeprecatedSynchronousErrorHandling&&Sn&&(Sn.errorThrown=!0,Sn.error=t)}var Mn=class extends he{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,_s(n)&&n.add(this)):this.destination=Lw}static create(n,e,r){return new gr(n,e,r)}next(n){this.isStopped?Uc(Oh(n),this):this._next(n)}error(n){this.isStopped?Uc(Rh(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Uc(Nh,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Pw=Function.prototype.bind;function Vc(t,n){return Pw.call(t,n)}var $c=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(r){bs(r)}}error(n){let{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(r){bs(r)}else bs(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){bs(e)}}},gr=class extends Mn{constructor(n,e,r){super();let i;if(k(n)||!n)i={next:n??void 0,error:e??void 0,complete:r??void 0};else{let o;this&&ut.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&Vc(n.next,o),error:n.error&&Vc(n.error,o),complete:n.complete&&Vc(n.complete,o)}):i=n}this.destination=new $c(i)}};function bs(t){ut.useDeprecatedSynchronousErrorHandling?kh(t):ws(t)}function Fw(t){throw t}function Uc(t,n){let{onStoppedNotification:e}=ut;e&&hr.setTimeout(()=>e(t,n))}var Lw={closed:!0,next:Oi,error:Fw,complete:Oi};var mr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ze(t){return t}function Bc(...t){return Hc(t)}function Hc(t){return t.length===0?ze:t.length===1?t[0]:function(e){return t.reduce((r,i)=>i(r),e)}}var K=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){let r=new t;return r.source=this,r.operator=e,r}subscribe(e,r,i){let o=Vw(e)?e:new gr(e,r,i);return pr(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return r=Ph(r),new r((i,o)=>{let s=new gr({next:a=>{try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)}[mr](){return this}pipe(...e){return Hc(e)(this)}toPromise(e){return e=Ph(e),new e((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=n=>new t(n),t})();function Ph(t){var n;return(n=t??ut.Promise)!==null&&n!==void 0?n:Promise}function jw(t){return t&&k(t.next)&&k(t.error)&&k(t.complete)}function Vw(t){return t&&t instanceof Mn||jw(t)&&_s(t)}function zc(t){return k(t?.lift)}function W(t){return n=>{if(zc(n))return n.lift(function(e){try{return t(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function H(t,n,e,r,i){return new qc(t,n,e,r,i)}var qc=class extends Mn{constructor(n,e,r,i,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){n.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function vr(){return W((t,n)=>{let e=null;t._refCount++;let r=H(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){e=null;return}let i=t._connection,o=e;e=null,i&&(!o||i===o)&&i.unsubscribe(),n.unsubscribe()});t.subscribe(r),r.closed||(e=t.connect())})}var yr=class extends K{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,zc(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new he;let e=this.getSubject();n.add(this.source.subscribe(H(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=he.EMPTY)}return n}refCount(){return vr()(this)}};var Fh=fr(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var pe=(()=>{class t extends K{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let r=new Ds(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new Fh}next(e){pr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(e)}})}error(e){pr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){pr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Lc:(this.currentObservers=null,o.push(e),new he(()=>{this.currentObservers=null,Ri(o,e)}))}_checkFinalizedStatuses(e){let{hasError:r,thrownError:i,isStopped:o}=this;r?e.error(i):o&&e.complete()}asObservable(){let e=new K;return e.source=this,e}}return t.create=(n,e)=>new Ds(n,e),t})(),Ds=class extends pe{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.next)===null||r===void 0||r.call(e,n)}error(n){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.error)===null||r===void 0||r.call(e,n)}complete(){var n,e;(e=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||e===void 0||e.call(n)}_subscribe(n){var e,r;return(r=(e=this.source)===null||e===void 0?void 0:e.subscribe(n))!==null&&r!==void 0?r:Lc}};var Ce=class extends pe{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){let{hasError:n,thrownError:e,_value:r}=this;if(n)throw e;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}};var Ne=new K(t=>t.complete());function Lh(t){return t&&k(t.schedule)}function jh(t){return t[t.length-1]}function Cs(t){return k(jh(t))?t.pop():void 0}function on(t){return Lh(jh(t))?t.pop():void 0}function Uh(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})}function Vh(t){var n=typeof Symbol=="function"&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Tn(t){return this instanceof Tn?(this.v=t,this):new Tn(t)}function $h(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(t,n||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(f){return function(g){return Promise.resolve(g).then(f,d)}}function a(f,g){r[f]&&(i[f]=function(_){return new Promise(function(b,I){o.push([f,_,b,I])>1||l(f,_)})},g&&(i[f]=g(i[f])))}function l(f,g){try{c(r[f](g))}catch(_){p(o[0][3],_)}}function c(f){f.value instanceof Tn?Promise.resolve(f.value.v).then(u,d):p(o[0][2],f)}function u(f){l("next",f)}function d(f){l("throw",f)}function p(f,g){f(g),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Bh(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t[Symbol.asyncIterator],e;return n?n.call(t):(t=typeof Vh=="function"?Vh(t):t[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(o){e[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var Es=t=>t&&typeof t.length=="number"&&typeof t!="function";function Is(t){return k(t?.then)}function Ss(t){return k(t[mr])}function Ms(t){return Symbol.asyncIterator&&k(t?.[Symbol.asyncIterator])}function Ts(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Uw(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var xs=Uw();function As(t){return k(t?.[xs])}function Ns(t){return $h(this,arguments,function*(){let e=t.getReader();try{for(;;){let{value:r,done:i}=yield Tn(e.read());if(i)return yield Tn(void 0);yield yield Tn(r)}}finally{e.releaseLock()}})}function Rs(t){return k(t?.getReader)}function ge(t){if(t instanceof K)return t;if(t!=null){if(Ss(t))return $w(t);if(Es(t))return Bw(t);if(Is(t))return Hw(t);if(Ms(t))return Hh(t);if(As(t))return zw(t);if(Rs(t))return qw(t)}throw Ts(t)}function $w(t){return new K(n=>{let e=t[mr]();if(k(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Bw(t){return new K(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}function Hw(t){return new K(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,ws)})}function zw(t){return new K(n=>{for(let e of t)if(n.next(e),n.closed)return;n.complete()})}function Hh(t){return new K(n=>{Gw(t,n).catch(e=>n.error(e))})}function qw(t){return Hh(Ns(t))}function Gw(t,n){var e,r,i,o;return Uh(this,void 0,void 0,function*(){try{for(e=Bh(t);r=yield e.next(),!r.done;){let s=r.value;if(n.next(s),n.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=e.return)&&(yield o.call(e))}finally{if(i)throw i.error}}n.complete()})}function Re(t,n,e,r=0,i=!1){let o=n.schedule(function(){e(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Os(t,n=0){return W((e,r)=>{e.subscribe(H(r,i=>Re(r,t,()=>r.next(i),n),()=>Re(r,t,()=>r.complete(),n),i=>Re(r,t,()=>r.error(i),n)))})}function ks(t,n=0){return W((e,r)=>{r.add(t.schedule(()=>e.subscribe(r),n))})}function zh(t,n){return ge(t).pipe(ks(n),Os(n))}function qh(t,n){return ge(t).pipe(ks(n),Os(n))}function Gh(t,n){return new K(e=>{let r=0;return n.schedule(function(){r===t.length?e.complete():(e.next(t[r++]),e.closed||this.schedule())})})}function Wh(t,n){return new K(e=>{let r;return Re(e,n,()=>{r=t[xs](),Re(e,n,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){e.error(s);return}o?e.complete():e.next(i)},0,!0)}),()=>k(r?.return)&&r.return()})}function Ps(t,n){if(!t)throw new Error("Iterable cannot be null");return new K(e=>{Re(e,n,()=>{let r=t[Symbol.asyncIterator]();Re(e,n,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function Zh(t,n){return Ps(Ns(t),n)}function Yh(t,n){if(t!=null){if(Ss(t))return zh(t,n);if(Es(t))return Gh(t,n);if(Is(t))return qh(t,n);if(Ms(t))return Ps(t,n);if(As(t))return Wh(t,n);if(Rs(t))return Zh(t,n)}throw Ts(t)}function ie(t,n){return n?Yh(t,n):ge(t)}function R(...t){let n=on(t);return ie(t,n)}function _r(t,n){let e=k(t)?t:()=>t,r=i=>i.error(e());return new K(n?i=>n.schedule(r,0,i):r)}function Gc(t){return!!t&&(t instanceof K||k(t.lift)&&k(t.subscribe))}var Gt=fr(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function z(t,n){return W((e,r)=>{let i=0;e.subscribe(H(r,o=>{r.next(t.call(n,o,i++))}))})}var{isArray:Ww}=Array;function Zw(t,n){return Ww(n)?t(...n):t(n)}function Fs(t){return z(n=>Zw(t,n))}var{isArray:Yw}=Array,{getPrototypeOf:Kw,prototype:Qw,keys:Jw}=Object;function Ls(t){if(t.length===1){let n=t[0];if(Yw(n))return{args:n,keys:null};if(Xw(n)){let e=Jw(n);return{args:e.map(r=>n[r]),keys:e}}}return{args:t,keys:null}}function Xw(t){return t&&typeof t=="object"&&Kw(t)===Qw}function js(t,n){return t.reduce((e,r,i)=>(e[r]=n[i],e),{})}function ki(...t){let n=on(t),e=Cs(t),{args:r,keys:i}=Ls(t);if(r.length===0)return ie([],n);let o=new K(eb(r,n,i?s=>js(i,s):ze));return e?o.pipe(Fs(e)):o}function eb(t,n,e=ze){return r=>{Kh(n,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)Kh(n,()=>{let c=ie(t[l],n),u=!1;c.subscribe(H(r,d=>{o[l]=d,u||(u=!0,a--),a||r.next(e(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Kh(t,n,e){t?Re(e,t,n):n()}function Qh(t,n,e,r,i,o,s,a){let l=[],c=0,u=0,d=!1,p=()=>{d&&!l.length&&!c&&n.complete()},f=_=>c<r?g(_):l.push(_),g=_=>{o&&n.next(_),c++;let b=!1;ge(e(_,u++)).subscribe(H(n,I=>{i?.(I),o?f(I):n.next(I)},()=>{b=!0},void 0,()=>{if(b)try{for(c--;l.length&&c<r;){let I=l.shift();s?Re(n,s,()=>g(I)):g(I)}p()}catch(I){n.error(I)}}))};return t.subscribe(H(n,f,()=>{d=!0,p()})),()=>{a?.()}}function le(t,n,e=1/0){return k(n)?le((r,i)=>z((o,s)=>n(r,o,i,s))(ge(t(r,i))),e):(typeof n=="number"&&(e=n),W((r,i)=>Qh(r,i,t,e)))}function wr(t=1/0){return le(ze,t)}function Jh(){return wr(1)}function br(...t){return Jh()(ie(t,on(t)))}function Vs(t){return new K(n=>{ge(t()).subscribe(n)})}function Wc(...t){let n=Cs(t),{args:e,keys:r}=Ls(t),i=new K(o=>{let{length:s}=e;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let d=!1;ge(e[u]).subscribe(H(o,p=>{d||(d=!0,c--),a[u]=p},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(r?js(r,a):a),o.complete())}))}});return n?i.pipe(Fs(n)):i}function qe(t,n){return W((e,r)=>{let i=0;e.subscribe(H(r,o=>t.call(n,o,i++)&&r.next(o)))})}function Wt(t){return W((n,e)=>{let r=null,i=!1,o;r=n.subscribe(H(e,void 0,void 0,s=>{o=ge(t(s,Wt(t)(n))),r?(r.unsubscribe(),r=null,o.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(e))})}function Xh(t,n,e,r,i){return(o,s)=>{let a=e,l=n,c=0;o.subscribe(H(s,u=>{let d=c++;l=a?t(l,u,d):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function sn(t,n){return k(n)?le(t,n,1):le(t,1)}function an(t){return W((n,e)=>{let r=!1;n.subscribe(H(e,i=>{r=!0,e.next(i)},()=>{r||e.next(t),e.complete()}))})}function Zt(t){return t<=0?()=>Ne:W((n,e)=>{let r=0;n.subscribe(H(e,i=>{++r<=t&&(e.next(i),t<=r&&e.complete())}))})}function Us(t=tb){return W((n,e)=>{let r=!1;n.subscribe(H(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(t())))})}function tb(){return new Gt}function Pi(t){return W((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}function Yt(t,n){let e=arguments.length>=2;return r=>r.pipe(t?qe((i,o)=>t(i,o,r)):ze,Zt(1),e?an(n):Us(()=>new Gt))}function Dr(t){return t<=0?()=>Ne:W((n,e)=>{let r=[];n.subscribe(H(e,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function Zc(t,n){let e=arguments.length>=2;return r=>r.pipe(t?qe((i,o)=>t(i,o,r)):ze,Dr(1),e?an(n):Us(()=>new Gt))}function Yc(t,n){return W(Xh(t,n,arguments.length>=2,!0))}function Kc(...t){let n=on(t);return W((e,r)=>{(n?br(t,e,n):br(t,e)).subscribe(r)})}function Ke(t,n){return W((e,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();e.subscribe(H(r,l=>{i?.unsubscribe();let c=0,u=o++;ge(t(l,u)).subscribe(i=H(r,d=>r.next(n?n(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Qc(t){return W((n,e)=>{ge(t).subscribe(H(e,()=>e.complete(),Oi)),!e.closed&&n.subscribe(e)})}function Ee(t,n,e){let r=k(t)||n||e?{next:t,error:n,complete:e}:t;return r?W((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(H(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):ze}var Bp="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",C=class extends Error{code;constructor(n,e){super(Hp(n,e)),this.code=n}};function nb(t){return`NG0${Math.abs(t)}`}function Hp(t,n){return`${nb(t)}${n?": "+n:""}`}var zp=Symbol("InputSignalNode#UNSET"),rb=$(w({},ms),{transformFn:void 0,applyValueToInputSignal(t,n){Ai(t,n)}});function qp(t,n){let e=Object.create(rb);e.value=t,e.transformFn=n?.transform;function r(){if(xi(e),e.value===zp){let i=null;throw new C(-950,i)}return e.value}return r[Ye]=e,r}function Gi(t){return{toString:t}.toString()}var $s="__parameters__";function ib(t){return function(...e){if(t){let r=t(...e);for(let i in r)this[i]=r[i]}}}function Gp(t,n,e){return Gi(()=>{let r=ib(n);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,c,u){let d=l.hasOwnProperty($s)?l[$s]:Object.defineProperty(l,$s,{value:[]})[$s];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var du=globalThis;function X(t){for(let n in t)if(t[n]===X)return n;throw Error("Could not find renamed property on target object.")}function ob(t,n){for(let e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function ke(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(ke).join(", ")}]`;if(t==null)return""+t;let n=t.overriddenName||t.name;if(n)return`${n}`;let e=t.toString();if(e==null)return""+e;let r=e.indexOf(`
`);return r>=0?e.slice(0,r):e}function ep(t,n){return t?n?`${t} ${n}`:t:n||""}var sb=X({__forward_ref__:X});function et(t){return t.__forward_ref__=et,t.toString=function(){return ke(this())},t}function Te(t){return Wp(t)?t():t}function Wp(t){return typeof t=="function"&&t.hasOwnProperty(sb)&&t.__forward_ref__===et}function E(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Mt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Da(t){return tp(t,Yp)||tp(t,Kp)}function Zp(t){return Da(t)!==null}function tp(t,n){return t.hasOwnProperty(n)?t[n]:null}function ab(t){let n=t&&(t[Yp]||t[Kp]);return n||null}function np(t){return t&&(t.hasOwnProperty(rp)||t.hasOwnProperty(lb))?t[rp]:null}var Yp=X({\u0275prov:X}),rp=X({\u0275inj:X}),Kp=X({ngInjectableDef:X}),lb=X({ngInjectorDef:X}),S=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,e){this._desc=n,this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=E({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Qp(t){return t&&!!t.\u0275providers}var cb=X({\u0275cmp:X}),ub=X({\u0275dir:X}),db=X({\u0275pipe:X}),fb=X({\u0275mod:X}),Ys=X({\u0275fac:X}),Vi=X({__NG_ELEMENT_ID__:X}),ip=X({__NG_ENV_ID__:X});function Ca(t){return typeof t=="string"?t:t==null?"":String(t)}function hb(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Ca(t)}function Jp(t,n){throw new C(-200,t)}function Xu(t,n){throw new C(-201,!1)}var L=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(L||{}),fu;function Xp(){return fu}function Oe(t){let n=fu;return fu=t,n}function eg(t,n,e){let r=Da(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(e&L.Optional)return null;if(n!==void 0)return n;Xu(t,"Injector")}var pb={},xn=pb,hu="__NG_DI_FLAG__",Ks=class{injector;constructor(n){this.injector=n}retrieve(n,e){let r=e;return this.injector.get(n,r.optional?vs:xn,r)}},Qs="ngTempTokenPath",gb="ngTokenPath",mb=/\n/gm,vb="\u0275",op="__source";function yb(t,n=L.Default){if(Ni()===void 0)throw new C(-203,!1);if(Ni()===null)return eg(t,void 0,n);{let e=Ni(),r;return e instanceof Ks?r=e.injector:r=e,r.get(t,n&L.Optional?null:void 0,n)}}function N(t,n=L.Default){return(Xp()||yb)(Te(t),n)}function m(t,n=L.Default){return N(t,Ea(n))}function Ea(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function pu(t){let n=[];for(let e=0;e<t.length;e++){let r=Te(t[e]);if(Array.isArray(r)){if(r.length===0)throw new C(900,!1);let i,o=L.Default;for(let s=0;s<r.length;s++){let a=r[s],l=_b(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}n.push(N(i,o))}else n.push(N(r))}return n}function tg(t,n){return t[hu]=n,t.prototype[hu]=n,t}function _b(t){return t[hu]}function wb(t,n,e,r){let i=t[Qs];throw n[op]&&i.unshift(n[op]),t.message=bb(`
`+t.message,i,e,r),t[gb]=i,t[Qs]=null,t}function bb(t,n,e,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==vb?t.slice(2):t;let i=ke(n);if(Array.isArray(n))i=n.map(ke).join(" -> ");else if(typeof n=="object"){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):ke(a)))}i=`{${o.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${t.replace(mb,`
  `)}`}var Db=tg(Gp("Optional"),8);var Cb=tg(Gp("SkipSelf"),4);function Nn(t,n){let e=t.hasOwnProperty(Ys);return e?t[Ys]:null}function ed(t,n){t.forEach(e=>Array.isArray(e)?ed(e,n):n(e))}function ng(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function Js(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Eb(t,n,e,r){let i=t.length;if(i==n)t.push(e,r);else if(i===1)t.push(r,t[0]),t[0]=e;else{for(i--,t.push(t[i-1],t[i]);i>n;){let o=i-2;t[i]=t[o],i--}t[n]=e,t[n+1]=r}}function Ib(t,n,e){let r=Wi(t,n);return r>=0?t[r|1]=e:(r=~r,Eb(t,r,n,e)),r}function Jc(t,n){let e=Wi(t,n);if(e>=0)return t[e|1]}function Wi(t,n){return Sb(t,n,1)}function Sb(t,n,e){let r=0,i=t.length>>e;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<e];if(n===s)return o<<e;s>n?i=o:r=o+1}return~(i<<e)}var Rn={},Qe=[],Ui=new S(""),rg=new S("",-1),ig=new S(""),Xs=class{get(n,e=xn){if(e===xn){let r=new Error(`NullInjectorError: No provider for ${ke(n)}!`);throw r.name="NullInjectorError",r}return e}};function og(t,n){let e=t[fb]||null;if(!e&&n===!0)throw new Error(`Type ${ke(t)} does not have '\u0275mod' property.`);return e}function On(t){return t[cb]||null}function Mb(t){return t[ub]||null}function Tb(t){return t[db]||null}function Ia(t){return{\u0275providers:t}}function xb(...t){return{\u0275providers:sg(!0,t),\u0275fromNgModule:!0}}function sg(t,...n){let e=[],r=new Set,i,o=s=>{e.push(s)};return ed(n,s=>{let a=s;gu(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&ag(i,o),e}function ag(t,n){for(let e=0;e<t.length;e++){let{ngModule:r,providers:i}=t[e];td(i,o=>{n(o,r)})}}function gu(t,n,e,r){if(t=Te(t),!t)return!1;let i=null,o=np(t),s=!o&&On(t);if(!o&&!s){let l=t.ngModule;if(o=np(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)gu(c,n,e,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{ed(o.imports,u=>{gu(u,n,e,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&ag(c,n)}if(!a){let c=Nn(i)||(()=>new i);n({provide:i,useFactory:c,deps:Qe},i),n({provide:ig,useValue:i,multi:!0},i),n({provide:Ui,useValue:()=>N(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=t;td(l,u=>{n(u,c)})}}else return!1;return i!==t&&t.providers!==void 0}function td(t,n){for(let e of t)Qp(e)&&(e=e.\u0275providers),Array.isArray(e)?td(e,n):n(e)}var Ab=X({provide:String,useValue:X});function lg(t){return t!==null&&typeof t=="object"&&Ab in t}function Nb(t){return!!(t&&t.useExisting)}function Rb(t){return!!(t&&t.useFactory)}function xr(t){return typeof t=="function"}function Ob(t){return!!t.useClass}var Sa=new S(""),zs={},sp={},Xc;function nd(){return Xc===void 0&&(Xc=new Xs),Xc}var Pe=class{},$i=class extends Pe{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,e,r,i){super(),this.parent=e,this.source=r,this.scopes=i,vu(n,s=>this.processProvider(s)),this.records.set(rg,Cr(void 0,this)),i.has("environment")&&this.records.set(Pe,Cr(void 0,this));let o=this.records.get(Sa);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(ig,Qe,L.Self))}retrieve(n,e){let r=e;return this.get(n,r.optional?vs:xn,r)}destroy(){Li(this),this._destroyed=!0;let n=B(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of e)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),B(n)}}onDestroy(n){return Li(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){Li(this);let e=qt(this),r=Oe(void 0),i;try{return n()}finally{qt(e),Oe(r)}}get(n,e=xn,r=L.Default){if(Li(this),n.hasOwnProperty(ip))return n[ip](this);r=Ea(r);let i,o=qt(this),s=Oe(void 0);try{if(!(r&L.SkipSelf)){let l=this.records.get(n);if(l===void 0){let c=jb(n)&&Da(n);c&&this.injectableDefInScope(c)?l=Cr(mu(n),zs):l=null,this.records.set(n,l)}if(l!=null)return this.hydrate(n,l,r)}let a=r&L.Self?nd():this.parent;return e=r&L.Optional&&e===xn?null:e,a.get(n,e)}catch(a){if(a.name==="NullInjectorError"){if((a[Qs]=a[Qs]||[]).unshift(ke(n)),o)throw a;return wb(a,n,"R3InjectorError",this.source)}else throw a}finally{Oe(s),qt(o)}}resolveInjectorInitializers(){let n=B(null),e=qt(this),r=Oe(void 0),i;try{let o=this.get(Ui,Qe,L.Self);for(let s of o)s()}finally{qt(e),Oe(r),B(n)}}toString(){let n=[],e=this.records;for(let r of e.keys())n.push(ke(r));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=Te(n);let e=xr(n)?n:Te(n&&n.provide),r=Pb(n);if(!xr(n)&&n.multi===!0){let i=this.records.get(e);i||(i=Cr(void 0,zs,!0),i.factory=()=>pu(i.multi),this.records.set(e,i)),e=n,i.multi.push(n)}this.records.set(e,r)}hydrate(n,e,r){let i=B(null);try{return e.value===sp?Jp(ke(n)):e.value===zs&&(e.value=sp,e.value=e.factory(void 0,r)),typeof e.value=="object"&&e.value&&Lb(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{B(i)}}injectableDefInScope(n){if(!n.providedIn)return!1;let e=Te(n.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(n){let e=this._onDestroyHooks.indexOf(n);e!==-1&&this._onDestroyHooks.splice(e,1)}};function mu(t){let n=Da(t),e=n!==null?n.factory:Nn(t);if(e!==null)return e;if(t instanceof S)throw new C(204,!1);if(t instanceof Function)return kb(t);throw new C(204,!1)}function kb(t){if(t.length>0)throw new C(204,!1);let e=ab(t);return e!==null?()=>e.factory(t):()=>new t}function Pb(t){if(lg(t))return Cr(void 0,t.useValue);{let n=cg(t);return Cr(n,zs)}}function cg(t,n,e){let r;if(xr(t)){let i=Te(t);return Nn(i)||mu(i)}else if(lg(t))r=()=>Te(t.useValue);else if(Rb(t))r=()=>t.useFactory(...pu(t.deps||[]));else if(Nb(t))r=(i,o)=>N(Te(t.useExisting),o!==void 0&&o&L.Optional?L.Optional:void 0);else{let i=Te(t&&(t.useClass||t.provide));if(Fb(t))r=()=>new i(...pu(t.deps));else return Nn(i)||mu(i)}return r}function Li(t){if(t.destroyed)throw new C(205,!1)}function Cr(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function Fb(t){return!!t.deps}function Lb(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function jb(t){return typeof t=="function"||typeof t=="object"&&t instanceof S}function vu(t,n){for(let e of t)Array.isArray(e)?vu(e,n):e&&Qp(e)?vu(e.\u0275providers,n):n(e)}function tt(t,n){let e;t instanceof $i?(Li(t),e=t):e=new Ks(t);let r,i=qt(e),o=Oe(void 0);try{return n()}finally{qt(i),Oe(o)}}function ug(){return Xp()!==void 0||Ni()!=null}function Vb(t){if(!ug())throw new C(-203,!1)}function Ub(t){return typeof t=="function"}var Jt=0,q=1,P=2,xe=3,ft=4,pt=5,ea=6,ta=7,Fe=8,Ar=9,Kt=10,_e=11,Bi=12,ap=13,jr=14,bt=15,Nr=16,Er=17,Rr=18,Ma=19,dg=20,ln=21,eu=22,na=23,Je=24,Mr=25,ht=26,fg=1;var kn=7,ra=8,ia=9,Xe=10;function cn(t){return Array.isArray(t)&&typeof t[fg]=="object"}function Xt(t){return Array.isArray(t)&&t[fg]===!0}function hg(t){return(t.flags&4)!==0}function Vr(t){return t.componentOffset>-1}function rd(t){return(t.flags&1)===1}function Dt(t){return!!t.template}function oa(t){return(t[P]&512)!==0}function Ur(t){return(t[P]&256)===256}var yu=class{previousValue;currentValue;firstChange;constructor(n,e,r){this.previousValue=n,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}};function pg(t,n,e,r){n!==null?n.applyValueToInputSignal(n,r):t[e]=r}var Tt=(()=>{let t=()=>gg;return t.ngInherit=!0,t})();function gg(t){return t.type.prototype.ngOnChanges&&(t.setInput=Bb),$b}function $b(){let t=vg(this),n=t?.current;if(n){let e=t.previous;if(e===Rn)t.previous=n;else for(let r in n)e[r]=n[r];t.current=null,this.ngOnChanges(n)}}function Bb(t,n,e,r,i){let o=this.declaredInputs[r],s=vg(t)||Hb(t,{previous:Rn,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new yu(c&&c.currentValue,e,l===Rn),pg(t,n,i,e)}var mg="__ngSimpleChanges__";function vg(t){return t[mg]||null}function Hb(t,n){return t[mg]=n}var lp=null;var Q=function(t,n=null,e){lp?.(t,n,e)},zb="svg",qb="math";function Ct(t){for(;Array.isArray(t);)t=t[Jt];return t}function yg(t,n){return Ct(n[t])}function xt(t,n){return Ct(n[t.index])}function _g(t,n){return t.data[n]}function Gb(t,n){return t[n]}function Wb(t,n,e,r){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=r}function Et(t,n){let e=n[t];return cn(e)?e:e[Jt]}function id(t){return(t[P]&128)===128}function Zb(t){return Xt(t[xe])}function sa(t,n){return n==null?null:t[n]}function wg(t){t[Er]=0}function bg(t){t[P]&1024||(t[P]|=1024,id(t)&&Zi(t))}function Yb(t,n){for(;t>0;)n=n[jr],t--;return n}function Ta(t){return!!(t[P]&9216||t[Je]?.dirty)}function _u(t){t[Kt].changeDetectionScheduler?.notify(8),t[P]&64&&(t[P]|=1024),Ta(t)&&Zi(t)}function Zi(t){t[Kt].changeDetectionScheduler?.notify(0);let n=Pn(t);for(;n!==null&&!(n[P]&8192||(n[P]|=8192,!id(n)));)n=Pn(n)}function Dg(t,n){if(Ur(t))throw new C(911,!1);t[ln]===null&&(t[ln]=[]),t[ln].push(n)}function Kb(t,n){if(t[ln]===null)return;let e=t[ln].indexOf(n);e!==-1&&t[ln].splice(e,1)}function Pn(t){let n=t[xe];return Xt(n)?n[xe]:n}function Cg(t){return t[ta]??=[]}function Eg(t){return t.cleanup??=[]}var V={lFrame:Rg(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var wu=!1;function Qb(){return V.lFrame.elementDepthCount}function Jb(){V.lFrame.elementDepthCount++}function Xb(){V.lFrame.elementDepthCount--}function Ig(){return V.bindingsEnabled}function eD(){return V.skipHydrationRootTNode!==null}function tD(t){return V.skipHydrationRootTNode===t}function nD(){V.skipHydrationRootTNode=null}function ee(){return V.lFrame.lView}function Le(){return V.lFrame.tView}function ue(t){return V.lFrame.contextLView=t,t[Fe]}function de(t){return V.lFrame.contextLView=null,t}function je(){let t=Sg();for(;t!==null&&t.type===64;)t=t.parent;return t}function Sg(){return V.lFrame.currentTNode}function rD(){let t=V.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}function Yi(t,n){let e=V.lFrame;e.currentTNode=t,e.isParent=n}function Mg(){return V.lFrame.isParent}function iD(){V.lFrame.isParent=!1}function Tg(){return wu}function cp(t){let n=wu;return wu=t,n}function oD(){let t=V.lFrame,n=t.bindingRootIndex;return n===-1&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function sD(t){return V.lFrame.bindingIndex=t}function xa(){return V.lFrame.bindingIndex++}function aD(t){let n=V.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function lD(){return V.lFrame.inI18n}function cD(t,n){let e=V.lFrame;e.bindingIndex=e.bindingRootIndex=t,bu(n)}function uD(){return V.lFrame.currentDirectiveIndex}function bu(t){V.lFrame.currentDirectiveIndex=t}function dD(t){let n=V.lFrame.currentDirectiveIndex;return n===-1?null:t[n]}function xg(t){V.lFrame.currentQueryIndex=t}function fD(t){let n=t[q];return n.type===2?n.declTNode:n.type===1?t[pt]:null}function Ag(t,n,e){if(e&L.SkipSelf){let i=n,o=t;for(;i=i.parent,i===null&&!(e&L.Host);)if(i=fD(o),i===null||(o=o[jr],i.type&10))break;if(i===null)return!1;n=i,t=o}let r=V.lFrame=Ng();return r.currentTNode=n,r.lView=t,!0}function od(t){let n=Ng(),e=t[q];V.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function Ng(){let t=V.lFrame,n=t===null?null:t.child;return n===null?Rg(t):n}function Rg(t){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=n),n}function Og(){let t=V.lFrame;return V.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var kg=Og;function sd(){let t=Og();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function hD(t){return(V.lFrame.contextLView=Yb(t,V.lFrame.contextLView))[Fe]}function $r(){return V.lFrame.selectedIndex}function Fn(t){V.lFrame.selectedIndex=t}function ad(){let t=V.lFrame;return _g(t.tView,t.selectedIndex)}function pD(){return V.lFrame.currentNamespace}var Pg=!0;function ld(){return Pg}function cd(t){Pg=t}function gD(t,n,e){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=n.type.prototype;if(r){let s=gg(n);(e.preOrderHooks??=[]).push(t,s),(e.preOrderCheckHooks??=[]).push(t,s)}i&&(e.preOrderHooks??=[]).push(0-t,i),o&&((e.preOrderHooks??=[]).push(t,o),(e.preOrderCheckHooks??=[]).push(t,o))}function Fg(t,n){for(let e=n.directiveStart,r=n.directiveEnd;e<r;e++){let o=t.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-e,s),a&&((t.contentHooks??=[]).push(e,a),(t.contentCheckHooks??=[]).push(e,a)),l&&(t.viewHooks??=[]).push(-e,l),c&&((t.viewHooks??=[]).push(e,c),(t.viewCheckHooks??=[]).push(e,c)),u!=null&&(t.destroyHooks??=[]).push(e,u)}}function qs(t,n,e){Lg(t,n,3,e)}function Gs(t,n,e,r){(t[P]&3)===e&&Lg(t,n,e,r)}function tu(t,n){let e=t[P];(e&3)===n&&(e&=16383,e+=1,t[P]=e)}function Lg(t,n,e,r){let i=r!==void 0?t[Er]&65535:0,o=r??-1,s=n.length-1,a=0;for(let l=i;l<s;l++)if(typeof n[l+1]=="number"){if(a=n[l],r!=null&&a>=r)break}else n[l]<0&&(t[Er]+=65536),(a<o||o==-1)&&(mD(t,e,n,l),t[Er]=(t[Er]&4294901760)+l+2),l++}function up(t,n){Q(4,t,n);let e=B(null);try{n.call(t)}finally{B(e),Q(5,t,n)}}function mD(t,n,e,r){let i=e[r]<0,o=e[r+1],s=i?-e[r]:e[r],a=t[s];i?t[P]>>14<t[Er]>>16&&(t[P]&3)===n&&(t[P]+=16384,up(a,o)):up(a,o)}var Tr=-1,Ln=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,e,r){this.factory=n,this.canSeeViewProviders=e,this.injectImpl=r}};function vD(t){return(t.flags&8)!==0}function yD(t){return(t.flags&16)!==0}function _D(t,n,e){let r=0;for(;r<e.length;){let i=e[r];if(typeof i=="number"){if(i!==0)break;r++;let o=e[r++],s=e[r++],a=e[r++];t.setAttribute(n,s,a,o)}else{let o=i,s=e[++r];wD(o)?t.setProperty(n,o,s):t.setAttribute(n,o,s),r++}}return r}function jg(t){return t===3||t===4||t===6}function wD(t){return t.charCodeAt(0)===64}function Hi(t,n){if(!(n===null||n.length===0))if(t===null||t.length===0)t=n.slice();else{let e=-1;for(let r=0;r<n.length;r++){let i=n[r];typeof i=="number"?e=i:e===0||(e===-1||e===2?dp(t,e,i,null,n[++r]):dp(t,e,i,null,null))}}return t}function dp(t,n,e,r,i){let o=0,s=t.length;if(n===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===n){s=-1;break}else if(a>n){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===e){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,n),o=s+1),t.splice(o++,0,e),i!==null&&t.splice(o++,0,i)}function Vg(t){return t!==Tr}function aa(t){return t&32767}function bD(t){return t>>16}function la(t,n){let e=bD(t),r=n;for(;e>0;)r=r[jr],e--;return r}var Du=!0;function ca(t){let n=Du;return Du=t,n}var DD=256,Ug=DD-1,$g=5,CD=0,wt={};function ED(t,n,e){let r;typeof e=="string"?r=e.charCodeAt(0)||0:e.hasOwnProperty(Vi)&&(r=e[Vi]),r==null&&(r=e[Vi]=CD++);let i=r&Ug,o=1<<i;n.data[t+(i>>$g)]|=o}function ua(t,n){let e=Bg(t,n);if(e!==-1)return e;let r=n[q];r.firstCreatePass&&(t.injectorIndex=n.length,nu(r.data,t),nu(n,null),nu(r.blueprint,null));let i=ud(t,n),o=t.injectorIndex;if(Vg(i)){let s=aa(i),a=la(i,n),l=a[q].data;for(let c=0;c<8;c++)n[o+c]=a[s+c]|l[s+c]}return n[o+8]=i,o}function nu(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Bg(t,n){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||n[t.injectorIndex+8]===null?-1:t.injectorIndex}function ud(t,n){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let e=0,r=null,i=n;for(;i!==null;){if(r=Wg(i),r===null)return Tr;if(e++,i=i[jr],r.injectorIndex!==-1)return r.injectorIndex|e<<16}return Tr}function Cu(t,n,e){ED(t,n,e)}function ID(t,n){if(n==="class")return t.classes;if(n==="style")return t.styles;let e=t.attrs;if(e){let r=e.length,i=0;for(;i<r;){let o=e[i];if(jg(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof e[i]=="string";)i++;else{if(o===n)return e[i+1];i=i+2}}}return null}function Hg(t,n,e){if(e&L.Optional||t!==void 0)return t;Xu(n,"NodeInjector")}function zg(t,n,e,r){if(e&L.Optional&&r===void 0&&(r=null),(e&(L.Self|L.Host))===0){let i=t[Ar],o=Oe(void 0);try{return i?i.get(n,r,e&L.Optional):eg(n,r,e&L.Optional)}finally{Oe(o)}}return Hg(r,n,e)}function qg(t,n,e,r=L.Default,i){if(t!==null){if(n[P]&2048&&!(r&L.Self)){let s=AD(t,n,e,r,wt);if(s!==wt)return s}let o=Gg(t,n,e,r,wt);if(o!==wt)return o}return zg(n,e,r,i)}function Gg(t,n,e,r,i){let o=TD(e);if(typeof o=="function"){if(!Ag(n,t,r))return r&L.Host?Hg(i,e,r):zg(n,e,r,i);try{let s;if(s=o(r),s==null&&!(r&L.Optional))Xu(e);else return s}finally{kg()}}else if(typeof o=="number"){let s=null,a=Bg(t,n),l=Tr,c=r&L.Host?n[bt][pt]:null;for((a===-1||r&L.SkipSelf)&&(l=a===-1?ud(t,n):n[a+8],l===Tr||!hp(r,!1)?a=-1:(s=n[q],a=aa(l),n=la(l,n)));a!==-1;){let u=n[q];if(fp(o,a,u.data)){let d=SD(a,n,e,s,r,c);if(d!==wt)return d}l=n[a+8],l!==Tr&&hp(r,n[q].data[a+8]===c)&&fp(o,a,n)?(s=u,a=aa(l),n=la(l,n)):a=-1}}return i}function SD(t,n,e,r,i,o){let s=n[q],a=s.data[t+8],l=r==null?Vr(a)&&Du:r!=s&&(a.type&3)!==0,c=i&L.Host&&o===a,u=MD(a,s,e,l,c);return u!==null?da(n,s,u,a,i):wt}function MD(t,n,e,r,i){let o=t.providerIndexes,s=n.data,a=o&1048575,l=t.directiveStart,c=t.directiveEnd,u=o>>20,d=r?a:a+u,p=i?a+u:c;for(let f=d;f<p;f++){let g=s[f];if(f<l&&e===g||f>=l&&g.type===e)return f}if(i){let f=s[l];if(f&&Dt(f)&&f.type===e)return l}return null}function da(t,n,e,r,i){let o=t[e],s=n.data;if(o instanceof Ln){let a=o;a.resolving&&Jp(hb(s[e]));let l=ca(a.canSeeViewProviders);a.resolving=!0;let c,u=a.injectImpl?Oe(a.injectImpl):null,d=Ag(t,r,L.Default);try{o=t[e]=a.factory(void 0,i,s,t,r),n.firstCreatePass&&e>=r.directiveStart&&gD(e,s[e],n)}finally{u!==null&&Oe(u),ca(l),a.resolving=!1,kg()}}return o}function TD(t){if(typeof t=="string")return t.charCodeAt(0)||0;let n=t.hasOwnProperty(Vi)?t[Vi]:void 0;return typeof n=="number"?n>=0?n&Ug:xD:n}function fp(t,n,e){let r=1<<t;return!!(e[n+(t>>$g)]&r)}function hp(t,n){return!(t&L.Self)&&!(t&L.Host&&n)}var An=class{_tNode;_lView;constructor(n,e){this._tNode=n,this._lView=e}get(n,e,r){return qg(this._tNode,this._lView,n,Ea(r),e)}};function xD(){return new An(je(),ee())}function un(t){return Gi(()=>{let n=t.prototype.constructor,e=n[Ys]||Eu(n),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Ys]||Eu(i);if(o&&o!==e)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Eu(t){return Wp(t)?()=>{let n=Eu(Te(t));return n&&n()}:Nn(t)}function AD(t,n,e,r,i){let o=t,s=n;for(;o!==null&&s!==null&&s[P]&2048&&!oa(s);){let a=Gg(o,s,e,r|L.Self,wt);if(a!==wt)return a;let l=o.parent;if(!l){let c=s[dg];if(c){let u=c.get(e,wt,r);if(u!==wt)return u}l=Wg(s),s=s[jr]}o=l}return i}function Wg(t){let n=t[q],e=n.type;return e===2?n.declTNode:e===1?t[pt]:null}function dd(t){return ID(je(),t)}function pp(t,n=null,e=null,r){let i=Zg(t,n,e,r);return i.resolveInjectorInitializers(),i}function Zg(t,n=null,e=null,r,i=new Set){let o=[e||Qe,xb(t)];return r=r||(typeof t=="object"?void 0:ke(t)),new $i(o,n||nd(),r||null,i)}var Ge=class t{static THROW_IF_NOT_FOUND=xn;static NULL=new Xs;static create(n,e){if(Array.isArray(n))return pp({name:""},e,n,"");{let r=n.name??"";return pp({name:r},n.parent,n.providers,r)}}static \u0275prov=E({token:t,providedIn:"any",factory:()=>N(rg)});static __NG_ELEMENT_ID__=-1};var ND=new S("");ND.__NG_ELEMENT_ID__=t=>{let n=je();if(n===null)throw new C(204,!1);if(n.type&2)return n.value;if(t&L.Optional)return null;throw new C(204,!1)};var Yg=!1,Ki=(()=>{class t{static __NG_ELEMENT_ID__=RD;static __NG_ENV_ID__=e=>e}return t})(),Iu=class extends Ki{_lView;constructor(n){super(),this._lView=n}onDestroy(n){let e=this._lView;return Ur(e)?(n(),()=>{}):(Dg(e,n),()=>Kb(e,n))}};function RD(){return new Iu(ee())}var Or=class{},fd=new S("",{providedIn:"root",factory:()=>!1});var Kg=new S(""),Qg=new S(""),Br=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Ce(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=E({token:t,providedIn:"root",factory:()=>new t})}return t})();var Su=class extends pe{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,ug()&&(this.destroyRef=m(Ki,{optional:!0})??void 0,this.pendingTasks=m(Br,{optional:!0})??void 0)}emit(n){let e=B(null);try{super.next(n)}finally{B(e)}}subscribe(n,e,r){let i=n,o=e||(()=>null),s=r;if(n&&typeof n=="object"){let l=n;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return n instanceof he&&n.add(a),a}wrapInTimeout(n){return e=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{n(e)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},oe=Su;function fa(...t){}function Jg(t){let n,e;function r(){t=fa;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{t(),r()})),()=>r()}function gp(t){return queueMicrotask(()=>t()),()=>{t=fa}}var hd="isAngularZone",ha=hd+"_ID",OD=0,ce=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new oe(!1);onMicrotaskEmpty=new oe(!1);onStable=new oe(!1);onError=new oe(!1);constructor(n){let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Yg}=n;if(typeof Zone>"u")throw new C(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,FD(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(hd)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new C(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new C(909,!1)}run(n,e,r){return this._inner.run(n,e,r)}runTask(n,e,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,n,kD,fa,fa);try{return o.runTask(s,e,r)}finally{o.cancelTask(s)}}runGuarded(n,e,r){return this._inner.runGuarded(n,e,r)}runOutsideAngular(n){return this._outer.run(n)}},kD={};function pd(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function PD(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function n(){Jg(()=>{t.callbackScheduled=!1,Mu(t),t.isCheckStableRunning=!0,pd(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{n()}):t._outer.run(()=>{n()}),Mu(t)}function FD(t){let n=()=>{PD(t)},e=OD++;t._inner=t._inner.fork({name:"angular",properties:{[hd]:!0,[ha]:e,[ha+e]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(LD(l))return r.invokeTask(o,s,a,l);try{return mp(t),r.invokeTask(o,s,a,l)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&n(),vp(t)}},onInvoke:(r,i,o,s,a,l,c)=>{try{return mp(t),r.invoke(o,s,a,l,c)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!jD(l)&&n(),vp(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Mu(t),pd(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Mu(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function mp(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function vp(t){t._nesting--,pd(t)}var Tu=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new oe;onMicrotaskEmpty=new oe;onStable=new oe;onError=new oe;run(n,e,r){return n.apply(e,r)}runGuarded(n,e,r){return n.apply(e,r)}runOutsideAngular(n){return n()}runTask(n,e,r,i){return n.apply(e,r)}};function LD(t){return Xg(t,"__ignore_ng_zone__")}function jD(t){return Xg(t,"__scheduler_tick__")}function Xg(t,n){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[n]===!0}var It=class{_console=console;handleError(n){this._console.error("ERROR",n)}},VD=new S("",{providedIn:"root",factory:()=>{let t=m(ce),n=m(It);return e=>t.runOutsideAngular(()=>n.handleError(e))}});function yp(t,n){return qp(t,n)}function UD(t){return qp(zp,t)}var em=(yp.required=UD,yp);function $D(){return Aa(je(),ee())}function Aa(t,n){return new At(xt(t,n))}var At=(()=>{class t{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=$D}return t})();function BD(t){return typeof t=="function"&&t[Ye]!==void 0}function Hr(t,n){let e=Oc(t,n?.equal),r=e[Ye];return e.set=i=>Ai(r,i),e.update=i=>kc(r,i),e.asReadonly=HD.bind(e),e}function HD(){let t=this[Ye];if(t.readonlyFn===void 0){let n=()=>this();n[Ye]=t,t.readonlyFn=n}return t.readonlyFn}function tm(t){return BD(t)&&typeof t.set=="function"}function nm(t){return(t.flags&128)===128}var rm=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(rm||{}),im=new Map,zD=0;function qD(){return zD++}function GD(t){im.set(t[Ma],t)}function xu(t){im.delete(t[Ma])}var _p="__ngContext__";function Qi(t,n){cn(n)?(t[_p]=n[Ma],GD(n)):t[_p]=n}function om(t){return am(t[Bi])}function sm(t){return am(t[ft])}function am(t){for(;t!==null&&!Xt(t);)t=t[ft];return t}var Au;function lm(t){Au=t}function WD(){if(Au!==void 0)return Au;if(typeof document<"u")return document;throw new C(210,!1)}var gd=new S("",{providedIn:"root",factory:()=>ZD}),ZD="ng",md=new S(""),zr=new S("",{providedIn:"platform",factory:()=>"unknown"});var vd=new S("",{providedIn:"root",factory:()=>WD().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var YD="h",KD="b";var cm=!1,QD=new S("",{providedIn:"root",factory:()=>cm});var yd=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(yd||{}),qr=new S(""),wp=new Set;function Gr(t){wp.has(t)||(wp.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var um=(()=>{class t{view;node;constructor(e,r){this.view=e,this.node=r}static __NG_ELEMENT_ID__=JD}return t})();function JD(){return new um(ee(),je())}var Ir=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Ir||{}),dm=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=E({token:t,providedIn:"root",factory:()=>new t})}return t})(),XD=[Ir.EarlyRead,Ir.Write,Ir.MixedReadWrite,Ir.Read],e0=(()=>{class t{ngZone=m(ce);scheduler=m(Or);errorHandler=m(It,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){m(qr,{optional:!0})}execute(){let e=this.sequences.size>0;e&&Q(16),this.executing=!0;for(let r of XD)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),e&&Q(17)}register(e){let{view:r}=e;r!==void 0?((r[Mr]??=[]).push(e),Zi(r),r[P]|=8192):this.executing?this.deferredRegistrations.add(e):this.addSequence(e)}addSequence(e){this.sequences.add(e),this.scheduler.notify(7)}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}maybeTrace(e,r){return r?r.run(yd.AFTER_NEXT_RENDER,e):e()}static \u0275prov=E({token:t,providedIn:"root",factory:()=>new t})}return t})(),Nu=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(n,e,r,i,o,s=null){this.impl=n,this.hooks=e,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let n=this.view?.[Mr];n&&(this.view[Mr]=n.filter(e=>e!==this))}};function _d(t,n){!n?.injector&&Vb(_d);let e=n?.injector??m(Ge);return Gr("NgAfterNextRender"),n0(t,e,n,!0)}function t0(t,n){if(t instanceof Function){let e=[void 0,void 0,void 0,void 0];return e[n]=t,e}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function n0(t,n,e,r){let i=n.get(dm);i.impl??=n.get(e0);let o=n.get(qr,null,{optional:!0}),s=e?.phase??Ir.MixedReadWrite,a=e?.manualCleanup!==!0?n.get(Ki):null,l=n.get(um,null,{optional:!0}),c=new Nu(i.impl,t0(t,s),l?.view,r,a,o?.snapshot(null));return i.impl.register(c),c}var r0=(t,n,e,r)=>{};function i0(t,n,e,r){r0(t,n,e,r)}var o0=()=>null;function fm(t,n,e=!1){return o0(t,n,e)}function hm(t,n){let e=t.contentQueries;if(e!==null){let r=B(null);try{for(let i=0;i<e.length;i+=2){let o=e[i],s=e[i+1];if(s!==-1){let a=t.data[s];xg(o),a.contentQueries(2,n[s],s)}}}finally{B(r)}}}function Ru(t,n,e){xg(0);let r=B(null);try{n(t,e)}finally{B(r)}}function pm(t,n,e){if(hg(n)){let r=B(null);try{let i=n.directiveStart,o=n.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let l=e[s];a.contentQueries(1,l,s)}}}finally{B(r)}}}var St=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(St||{});var Bs;function s0(){if(Bs===void 0&&(Bs=null,du.trustedTypes))try{Bs=du.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Bs}function bp(t){return s0()?.createScriptURL(t)||t}var pa=class{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Bp})`}};function Na(t){return t instanceof pa?t.changingThisBreaksApplicationSecurity:t}function gm(t,n){let e=a0(t);if(e!=null&&e!==n){if(e==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${e} (see ${Bp})`)}return e===n}function a0(t){return t instanceof pa&&t.getTypeName()||null}var l0=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function c0(t){return t=String(t),t.match(l0)?t:"unsafe:"+t}var wd=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(wd||{});function bd(t){let n=vm();return n?n.sanitize(wd.URL,t)||"":gm(t,"URL")?Na(t):c0(Ca(t))}function u0(t){let n=vm();if(n)return bp(n.sanitize(wd.RESOURCE_URL,t)||"");if(gm(t,"ResourceURL"))return bp(Na(t));throw new C(904,!1)}function d0(t,n){return n==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||n==="href"&&(t==="base"||t==="link")?u0:bd}function mm(t,n,e){return d0(n,e)(t)}function vm(){let t=ee();return t&&t[Kt].sanitizer}function ym(t){return t instanceof Function?t():t}function f0(t,n,e){let r=t.length;for(;;){let i=t.indexOf(n,e);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=n.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}e=i+1}}var _m="ng-template";function h0(t,n,e,r){let i=0;if(r){for(;i<n.length&&typeof n[i]=="string";i+=2)if(n[i]==="class"&&f0(n[i+1].toLowerCase(),e,0)!==-1)return!0}else if(Dd(t))return!1;if(i=n.indexOf(1,i),i>-1){let o;for(;++i<n.length&&typeof(o=n[i])=="string";)if(o.toLowerCase()===e)return!0}return!1}function Dd(t){return t.type===4&&t.value!==_m}function p0(t,n,e){let r=t.type===4&&!e?_m:t.value;return n===r}function g0(t,n,e){let r=4,i=t.attrs,o=i!==null?y0(i):0,s=!1;for(let a=0;a<n.length;a++){let l=n[a];if(typeof l=="number"){if(!s&&!dt(r)&&!dt(l))return!1;if(s&&dt(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!p0(t,l,e)||l===""&&n.length===1){if(dt(r))return!1;s=!0}}else if(r&8){if(i===null||!h0(t,i,l,e)){if(dt(r))return!1;s=!0}}else{let c=n[++a],u=m0(l,i,Dd(t),e);if(u===-1){if(dt(r))return!1;s=!0;continue}if(c!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&c!==d){if(dt(r))return!1;s=!0}}}}return dt(r)||s}function dt(t){return(t&1)===0}function m0(t,n,e,r){if(n===null)return-1;let i=0;if(r||!e){let o=!1;for(;i<n.length;){let s=n[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=n[++i];for(;typeof a=="string";)a=n[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return _0(n,t)}function v0(t,n,e=!1){for(let r=0;r<n.length;r++)if(g0(t,n[r],e))return!0;return!1}function y0(t){for(let n=0;n<t.length;n++){let e=t[n];if(jg(e))return n}return t.length}function _0(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){let r=t[e];if(typeof r=="number")return-1;if(r===n)return e;e++}return-1}function Dp(t,n){return t?":not("+n.trim()+")":n}function w0(t){let n=t[0],e=1,r=2,i="",o=!1;for(;e<t.length;){let s=t[e];if(typeof s=="string")if(r&2){let a=t[++e];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!dt(s)&&(n+=Dp(o,i),i=""),r=s,o=o||!dt(r);e++}return i!==""&&(n+=Dp(o,i)),n}function b0(t){return t.map(w0).join(",")}function D0(t){let n=[],e=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&n.push(o,t[++r]):i===8&&e.push(o);else{if(!dt(i))break;i=o}r++}return e.length&&n.push(1,...e),n}var $n={};function C0(t,n){return t.createText(n)}function E0(t,n,e){t.setValue(n,e)}function wm(t,n,e){return t.createElement(n,e)}function ga(t,n,e,r,i){t.insertBefore(n,e,r,i)}function bm(t,n,e){t.appendChild(n,e)}function Cp(t,n,e,r,i){r!==null?ga(t,n,e,r,i):bm(t,n,e)}function I0(t,n,e){t.removeChild(null,n,e)}function S0(t,n,e){t.setAttribute(n,"style",e)}function M0(t,n,e){e===""?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function Dm(t,n,e){let{mergedAttrs:r,classes:i,styles:o}=e;r!==null&&_D(t,n,r),i!==null&&M0(t,n,i),o!==null&&S0(t,n,o)}function Cd(t,n,e,r,i,o,s,a,l,c,u){let d=ht+r,p=d+i,f=T0(d,p),g=typeof c=="function"?c():c;return f[q]={type:t,blueprint:f,template:e,queries:null,viewQuery:a,declTNode:n,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:g,incompleteFirstPass:!1,ssrId:u}}function T0(t,n){let e=[];for(let r=0;r<n;r++)e.push(r<t?null:$n);return e}function x0(t){let n=t.tView;return n===null||n.incompleteFirstPass?t.tView=Cd(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Ed(t,n,e,r,i,o,s,a,l,c,u){let d=n.blueprint.slice();return d[Jt]=i,d[P]=r|4|128|8|64|1024,(c!==null||t&&t[P]&2048)&&(d[P]|=2048),wg(d),d[xe]=d[jr]=t,d[Fe]=e,d[Kt]=s||t&&t[Kt],d[_e]=a||t&&t[_e],d[Ar]=l||t&&t[Ar]||null,d[pt]=o,d[Ma]=qD(),d[ea]=u,d[dg]=c,d[bt]=n.type==2?t[bt]:d,d}function A0(t,n,e){let r=xt(n,t),i=x0(e),o=t[Kt].rendererFactory,s=Id(t,Ed(t,i,null,Cm(e),r,n,null,o.createRenderer(r,e),null,null,null));return t[n.index]=s}function Cm(t){let n=16;return t.signals?n=4096:t.onPush&&(n=64),n}function Em(t,n,e,r){if(e===0)return-1;let i=n.length;for(let o=0;o<e;o++)n.push(r),t.blueprint.push(r),t.data.push(null);return i}function Id(t,n){return t[Bi]?t[ap][ft]=n:t[Bi]=n,t[ap]=n,n}function T(t=1){Im(Le(),ee(),$r()+t,!1)}function Im(t,n,e,r){if(!r)if((n[P]&3)===3){let o=t.preOrderCheckHooks;o!==null&&qs(n,o,e)}else{let o=t.preOrderHooks;o!==null&&Gs(n,o,0,e)}Fn(e)}var Ra=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ra||{});function Ou(t,n,e,r){let i=B(null);try{let[o,s,a]=t.inputs[e],l=null;(s&Ra.SignalBased)!==0&&(l=n[o][Ye]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(n,r)),t.setInput!==null?t.setInput(n,l,r,e,o):pg(n,l,o,r)}finally{B(i)}}function Sm(t,n,e,r,i){let o=$r(),s=r&2;try{Fn(-1),s&&n.length>ht&&Im(t,n,ht,!1),Q(s?2:0,i),e(r,i)}finally{Fn(o),Q(s?3:1,i)}}function Sd(t,n,e){F0(t,n,e),(e.flags&64)===64&&L0(t,n,e)}function Mm(t,n,e=xt){let r=n.localNames;if(r!==null){let i=n.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?e(n,t):t[s];t[i++]=a}}}function N0(t,n,e,r){let o=r.get(QD,cm)||e===St.ShadowDom,s=t.selectRootElement(n,o);return R0(s),s}function R0(t){O0(t)}var O0=()=>null;function k0(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Tm(t,n,e,r,i,o,s,a){if(!a&&Md(n,t,e,r,i)){Vr(n)&&P0(e,n.index);return}if(n.type&3){let l=xt(n,e);r=k0(r),i=s!=null?s(i,n.value||"",r):i,o.setProperty(l,r,i)}else n.type&12}function P0(t,n){let e=Et(n,t);e[P]&16||(e[P]|=64)}function F0(t,n,e){let r=e.directiveStart,i=e.directiveEnd;Vr(e)&&A0(n,e,t.data[r+e.componentOffset]),t.firstCreatePass||ua(e,n);let o=e.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],l=da(n,t,s,e);if(Qi(l,n),o!==null&&$0(n,s-r,l,a,e,o),Dt(a)){let c=Et(e.index,n);c[Fe]=da(n,t,s,e)}}}function L0(t,n,e){let r=e.directiveStart,i=e.directiveEnd,o=e.index,s=uD();try{Fn(o);for(let a=r;a<i;a++){let l=t.data[a],c=n[a];bu(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&j0(l,c)}}finally{Fn(-1),bu(s)}}function j0(t,n){t.hostBindings!==null&&t.hostBindings(1,n)}function xm(t,n){let e=t.directiveRegistry,r=null;if(e)for(let i=0;i<e.length;i++){let o=e[i];v0(n,o.selectors,!1)&&(r??=[],Dt(o)?r.unshift(o):r.push(o))}return r}function V0(t,n,e,r,i,o){let s=xt(t,n);U0(n[_e],s,o,t.value,e,r,i)}function U0(t,n,e,r,i,o,s){if(o==null)t.removeAttribute(n,i,e);else{let a=s==null?Ca(o):s(o,r||"",i);t.setAttribute(n,i,a,e)}}function $0(t,n,e,r,i,o){let s=o[n];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];Ou(r,e,l,c)}}function B0(t,n){let e=t[Ar],r=e?e.get(It,null):null;r&&r.handleError(n)}function Md(t,n,e,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let c=s[l],u=s[l+1],d=n.data[c];Ou(d,e[c],u,i),a=!0}if(o)for(let l of o){let c=e[l],u=n.data[l];Ou(u,c,r,i),a=!0}return a}function H0(t,n){let e=Et(n,t),r=e[q];z0(r,e);let i=e[Jt];i!==null&&e[ea]===null&&(e[ea]=fm(i,e[Ar])),Q(18),Td(r,e,e[Fe]),Q(19,e[Fe])}function z0(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])}function Td(t,n,e){od(n);try{let r=t.viewQuery;r!==null&&Ru(1,r,e);let i=t.template;i!==null&&Sm(t,n,i,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),n[Rr]?.finishViewCreation(t),t.staticContentQueries&&hm(t,n),t.staticViewQueries&&Ru(2,t.viewQuery,e);let o=t.components;o!==null&&q0(n,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{n[P]&=-5,sd()}}function q0(t,n){for(let e=0;e<n.length;e++)H0(t,n[e])}function G0(t,n,e,r){let i=B(null);try{let o=n.tView,a=t[P]&4096?4096:16,l=Ed(t,o,e,a,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=t[n.index];l[Nr]=c;let u=t[Rr];return u!==null&&(l[Rr]=u.createEmbeddedView(o)),Td(o,l,e),l}finally{B(i)}}function Ep(t,n){return!n||n.firstChild===null||nm(t)}var W0;function xd(t,n){return W0(t,n)}var Qt=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Qt||{});function Am(t){return(t.flags&32)===32}function Sr(t,n,e,r,i){if(r!=null){let o,s=!1;Xt(r)?o=r:cn(r)&&(s=!0,r=r[Jt]);let a=Ct(r);t===0&&e!==null?i==null?bm(n,e,a):ga(n,e,a,i||null,!0):t===1&&e!==null?ga(n,e,a,i||null,!0):t===2?I0(n,a,s):t===3&&n.destroyNode(a),o!=null&&oC(n,t,o,e,i)}}function Z0(t,n){Nm(t,n),n[Jt]=null,n[pt]=null}function Y0(t,n,e,r,i,o){r[Jt]=i,r[pt]=n,Oa(t,r,e,1,i,o)}function Nm(t,n){n[Kt].changeDetectionScheduler?.notify(9),Oa(t,n,n[_e],2,null,null)}function K0(t){let n=t[Bi];if(!n)return ru(t[q],t);for(;n;){let e=null;if(cn(n))e=n[Bi];else{let r=n[Xe];r&&(e=r)}if(!e){for(;n&&!n[ft]&&n!==t;)cn(n)&&ru(n[q],n),n=n[xe];n===null&&(n=t),cn(n)&&ru(n[q],n),e=n&&n[ft]}n=e}}function Ad(t,n){let e=t[ia],r=e.indexOf(n);e.splice(r,1)}function Rm(t,n){if(Ur(n))return;let e=n[_e];e.destroyNode&&Oa(t,n,e,3,null,null),K0(n)}function ru(t,n){if(Ur(n))return;let e=B(null);try{n[P]&=-129,n[P]|=256,n[Je]&&Ac(n[Je]),J0(t,n),Q0(t,n),n[q].type===1&&n[_e].destroy();let r=n[Nr];if(r!==null&&Xt(n[xe])){r!==n[xe]&&Ad(r,n);let i=n[Rr];i!==null&&i.detachView(t)}xu(n)}finally{B(e)}}function Q0(t,n){let e=t.cleanup,r=n[ta];if(e!==null)for(let s=0;s<e.length-1;s+=2)if(typeof e[s]=="string"){let a=e[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[e[s+1]];e[s].call(a)}r!==null&&(n[ta]=null);let i=n[ln];if(i!==null){n[ln]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=n[na];if(o!==null){n[na]=null;for(let s of o)s.destroy()}}function J0(t,n){let e;if(t!=null&&(e=t.destroyHooks)!=null)for(let r=0;r<e.length;r+=2){let i=n[e[r]];if(!(i instanceof Ln)){let o=e[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];Q(4,a,l);try{l.call(a)}finally{Q(5,a,l)}}else{Q(4,i,o);try{o.call(i)}finally{Q(5,i,o)}}}}}function X0(t,n,e){return eC(t,n.parent,e)}function eC(t,n,e){let r=n;for(;r!==null&&r.type&168;)n=r,r=n.parent;if(r===null)return e[Jt];if(Vr(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===St.None||i===St.Emulated)return null}return xt(r,e)}function tC(t,n,e){return rC(t,n,e)}function nC(t,n,e){return t.type&40?xt(t,e):null}var rC=nC,Ip;function Nd(t,n,e,r){let i=X0(t,r,n),o=n[_e],s=r.parent||n[pt],a=tC(s,r,n);if(i!=null)if(Array.isArray(e))for(let l=0;l<e.length;l++)Cp(o,i,e[l],a,!1);else Cp(o,i,e,a,!1);Ip!==void 0&&Ip(o,r,n,e,i)}function ji(t,n){if(n!==null){let e=n.type;if(e&3)return xt(n,t);if(e&4)return ku(-1,t[n.index]);if(e&8){let r=n.child;if(r!==null)return ji(t,r);{let i=t[n.index];return Xt(i)?ku(-1,i):Ct(i)}}else{if(e&128)return ji(t,n.next);if(e&32)return xd(n,t)()||Ct(t[n.index]);{let r=Om(t,n);if(r!==null){if(Array.isArray(r))return r[0];let i=Pn(t[bt]);return ji(i,r)}else return ji(t,n.next)}}}return null}function Om(t,n){if(n!==null){let r=t[bt][pt],i=n.projection;return r.projection[i]}return null}function ku(t,n){let e=Xe+t+1;if(e<n.length){let r=n[e],i=r[q].firstChild;if(i!==null)return ji(r,i)}return n[kn]}function Rd(t,n,e,r,i,o,s){for(;e!=null;){if(e.type===128){e=e.next;continue}let a=r[e.index],l=e.type;if(s&&n===0&&(a&&Qi(Ct(a),r),e.flags|=2),!Am(e))if(l&8)Rd(t,n,e.child,r,i,o,!1),Sr(n,t,i,a,o);else if(l&32){let c=xd(e,r),u;for(;u=c();)Sr(n,t,i,u,o);Sr(n,t,i,a,o)}else l&16?iC(t,n,r,e,i,o):Sr(n,t,i,a,o);e=s?e.projectionNext:e.next}}function Oa(t,n,e,r,i,o){Rd(e,r,t.firstChild,n,i,o,!1)}function iC(t,n,e,r,i,o){let s=e[bt],l=s[pt].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];Sr(n,t,i,u,o)}else{let c=l,u=s[xe];nm(r)&&(c.flags|=128),Rd(t,n,c,u,i,o,!0)}}function oC(t,n,e,r,i){let o=e[kn],s=Ct(e);o!==s&&Sr(n,t,r,o,i);for(let a=Xe;a<e.length;a++){let l=e[a];Oa(l[q],l,t,n,r,o)}}function sC(t,n,e,r,i){if(n)i?t.addClass(e,r):t.removeClass(e,r);else{let o=r.indexOf("-")===-1?void 0:Qt.DashCase;i==null?t.removeStyle(e,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Qt.Important),t.setStyle(e,r,i,o))}}function ma(t,n,e,r,i=!1){for(;e!==null;){if(e.type===128){e=i?e.projectionNext:e.next;continue}let o=n[e.index];o!==null&&r.push(Ct(o)),Xt(o)&&aC(o,r);let s=e.type;if(s&8)ma(t,n,e.child,r);else if(s&32){let a=xd(e,n),l;for(;l=a();)r.push(l)}else if(s&16){let a=Om(n,e);if(Array.isArray(a))r.push(...a);else{let l=Pn(n[bt]);ma(l[q],l,a,r,!0)}}e=i?e.projectionNext:e.next}return r}function aC(t,n){for(let e=Xe;e<t.length;e++){let r=t[e],i=r[q].firstChild;i!==null&&ma(r[q],r,i,n)}t[kn]!==t[Jt]&&n.push(t[kn])}function km(t){if(t[Mr]!==null){for(let n of t[Mr])n.impl.addSequence(n);t[Mr].length=0}}var Pm=[];function lC(t){return t[Je]??cC(t)}function cC(t){let n=Pm.pop()??Object.create(dC);return n.lView=t,n}function uC(t){t.lView[Je]!==t&&(t.lView=null,Pm.push(t))}var dC=$(w({},Ti),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Zi(t.lView)},consumerOnSignalRead(){this.lView[Je]=this}});function fC(t){let n=t[Je]??Object.create(hC);return n.lView=t,n}var hC=$(w({},Ti),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let n=Pn(t.lView);for(;n&&!Fm(n[q]);)n=Pn(n);n&&bg(n)},consumerOnSignalRead(){this.lView[Je]=this}});function Fm(t){return t.type!==2}function Lm(t){if(t[na]===null)return;let n=!0;for(;n;){let e=!1;for(let r of t[na])r.dirty&&(e=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));n=e&&!!(t[P]&8192)}}var pC=100;function jm(t,n=!0,e=0){let i=t[Kt].rendererFactory,o=!1;o||i.begin?.();try{gC(t,e)}catch(s){throw n&&B0(t,s),s}finally{o||i.end?.()}}function gC(t,n){let e=Tg();try{cp(!0),Pu(t,n);let r=0;for(;Ta(t);){if(r===pC)throw new C(103,!1);r++,Pu(t,1)}}finally{cp(e)}}function mC(t,n,e,r){if(Ur(n))return;let i=n[P],o=!1,s=!1;od(n);let a=!0,l=null,c=null;o||(Fm(t)?(c=lC(n),l=hs(c)):Ec()===null?(a=!1,c=fC(n),l=hs(c)):n[Je]&&(Ac(n[Je]),n[Je]=null));try{wg(n),sD(t.bindingStartIndex),e!==null&&Sm(t,n,e,2,r);let u=(i&3)===3;if(!o)if(u){let f=t.preOrderCheckHooks;f!==null&&qs(n,f,null)}else{let f=t.preOrderHooks;f!==null&&Gs(n,f,0,null),tu(n,0)}if(s||vC(n),Lm(n),Vm(n,0),t.contentQueries!==null&&hm(t,n),!o)if(u){let f=t.contentCheckHooks;f!==null&&qs(n,f)}else{let f=t.contentHooks;f!==null&&Gs(n,f,1),tu(n,1)}_C(t,n);let d=t.components;d!==null&&$m(n,d,0);let p=t.viewQuery;if(p!==null&&Ru(2,p,r),!o)if(u){let f=t.viewCheckHooks;f!==null&&qs(n,f)}else{let f=t.viewHooks;f!==null&&Gs(n,f,2),tu(n,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),n[eu]){for(let f of n[eu])f();n[eu]=null}o||(km(n),n[P]&=-73)}catch(u){throw o||Zi(n),u}finally{c!==null&&(Tc(c,l),a&&uC(c)),sd()}}function Vm(t,n){for(let e=om(t);e!==null;e=sm(e))for(let r=Xe;r<e.length;r++){let i=e[r];Um(i,n)}}function vC(t){for(let n=om(t);n!==null;n=sm(n)){if(!(n[P]&2))continue;let e=n[ia];for(let r=0;r<e.length;r++){let i=e[r];bg(i)}}}function yC(t,n,e){Q(18);let r=Et(n,t);Um(r,e),Q(19,r[Fe])}function Um(t,n){id(t)&&Pu(t,n)}function Pu(t,n){let r=t[q],i=t[P],o=t[Je],s=!!(n===0&&i&16);if(s||=!!(i&64&&n===0),s||=!!(i&1024),s||=!!(o?.dirty&&xc(o)),s||=!1,o&&(o.dirty=!1),t[P]&=-9217,s)mC(r,t,r.template,t[Fe]);else if(i&8192){Lm(t),Vm(t,1);let a=r.components;a!==null&&$m(t,a,1),km(t)}}function $m(t,n,e){for(let r=0;r<n.length;r++)yC(t,n[r],e)}function _C(t,n){let e=t.hostBindingOpCodes;if(e!==null)try{for(let r=0;r<e.length;r++){let i=e[r];if(i<0)Fn(~i);else{let o=i,s=e[++r],a=e[++r];cD(s,o);let l=n[o];Q(24,l),a(2,l),Q(25,l)}}}finally{Fn(-1)}}function Od(t,n){let e=Tg()?64:1088;for(t[Kt].changeDetectionScheduler?.notify(n);t;){t[P]|=e;let r=Pn(t);if(oa(t)&&!r)return t;t=r}return null}function Bm(t,n,e,r){return[t,!0,0,n,null,r,null,e,null,null]}function wC(t,n,e,r=!0){let i=n[q];if(bC(i,n,t,e),r){let s=ku(e,t),a=n[_e],l=a.parentNode(t[kn]);l!==null&&Y0(i,t[pt],a,n,l,s)}let o=n[ea];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Fu(t,n){if(t.length<=Xe)return;let e=Xe+n,r=t[e];if(r){let i=r[Nr];i!==null&&i!==t&&Ad(i,r),n>0&&(t[e-1][ft]=r[ft]);let o=Js(t,Xe+n);Z0(r[q],r);let s=o[Rr];s!==null&&s.detachView(o[q]),r[xe]=null,r[ft]=null,r[P]&=-129}return r}function bC(t,n,e,r){let i=Xe+r,o=e.length;r>0&&(e[i-1][ft]=n),r<o-Xe?(n[ft]=e[i],ng(e,Xe+r,n)):(e.push(n),n[ft]=null),n[xe]=e;let s=n[Nr];s!==null&&e!==s&&Hm(s,n);let a=n[Rr];a!==null&&a.insertView(t),_u(n),n[P]|=128}function Hm(t,n){let e=t[ia],r=n[xe];if(cn(r))t[P]|=2;else{let i=r[xe][bt];n[bt]!==i&&(t[P]|=2)}e===null?t[ia]=[n]:e.push(n)}var zi=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let n=this._lView,e=n[q];return ma(e,n,e.firstChild,[])}constructor(n,e,r=!0){this._lView=n,this._cdRefInjectingView=e,this.notifyErrorHandler=r}get context(){return this._lView[Fe]}set context(n){this._lView[Fe]=n}get destroyed(){return Ur(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[xe];if(Xt(n)){let e=n[ra],r=e?e.indexOf(this):-1;r>-1&&(Fu(n,r),Js(e,r))}this._attachedToViewContainer=!1}Rm(this._lView[q],this._lView)}onDestroy(n){Dg(this._lView,n)}markForCheck(){Od(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[P]&=-129}reattach(){_u(this._lView),this._lView[P]|=128}detectChanges(){this._lView[P]|=1024,jm(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new C(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=oa(this._lView),e=this._lView[Nr];e!==null&&!n&&Ad(e,this._lView),Nm(this._lView[q],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new C(902,!1);this._appRef=n;let e=oa(this._lView),r=this._lView[Nr];r!==null&&!e&&Hm(r,this._lView),_u(this._lView)}};var ka=(()=>{class t{static __NG_ELEMENT_ID__=EC}return t})(),DC=ka,CC=class extends DC{_declarationLView;_declarationTContainer;elementRef;constructor(n,e,r){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,e){return this.createEmbeddedViewImpl(n,e)}createEmbeddedViewImpl(n,e,r){let i=G0(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:e,dehydratedView:r});return new zi(i)}};function EC(){return IC(je(),ee())}function IC(t,n){return t.type&4?new CC(n,t,Aa(t,n)):null}function kd(t,n,e,r,i){let o=t.data[n];if(o===null)o=SC(t,n,e,r,i),lD()&&(o.flags|=32);else if(o.type&64){o.type=e,o.value=r,o.attrs=i;let s=rD();o.injectorIndex=s===null?-1:s.injectorIndex}return Yi(o,!0),o}function SC(t,n,e,r,i){let o=Sg(),s=Mg(),a=s?o:o&&o.parent,l=t.data[n]=TC(t,a,e,n,r,i);return MC(t,l,o,s),l}function MC(t,n,e,r){t.firstChild===null&&(t.firstChild=n),e!==null&&(r?e.child==null&&n.parent!==null&&(e.child=n):e.next===null&&(e.next=n,n.prev=e))}function TC(t,n,e,r,i,o){let s=n?n.injectorIndex:-1,a=0;return eD()&&(a|=128),{type:e,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var AP=new RegExp(`^(\\d+)*(${KD}|${YD})*(.*)`);var xC=()=>null;function Sp(t,n){return xC(t,n)}var AC=class{},zm=class{},Lu=class{resolveComponentFactory(n){throw Error(`No component factory found for ${ke(n)}.`)}},Pa=class{static NULL=new Lu},kr=class{},en=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>NC()}return t})();function NC(){let t=ee(),n=je(),e=Et(n.index,t);return(cn(e)?e:t)[_e]}var RC=(()=>{class t{static \u0275prov=E({token:t,providedIn:"root",factory:()=>null})}return t})();var iu={},ju=class{injector;parentInjector;constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,r){r=Ea(r);let i=this.injector.get(n,iu,r);return i!==iu||e===iu?i:this.parentInjector.get(n,e,r)}};function Mp(t,n,e){let r=e?t.styles:null,i=e?t.classes:null,o=0;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];if(typeof a=="number")o=a;else if(o==1)i=ep(i,a);else if(o==2){let l=a,c=n[++s];r=ep(r,l+": "+c+";")}}e?t.styles=r:t.stylesWithoutHost=r,e?t.classes=i:t.classesWithoutHost=i}function M(t,n=L.Default){let e=ee();if(e===null)return N(t,n);let r=je();return qg(r,e,Te(t),n)}function qm(){let t="invalid";throw new Error(t)}function Gm(t,n,e,r,i){let o=r===null?null:{"":-1},s=i(t,e);if(s!==null){let a,l=null,c=null,u=kC(s);u===null?a=s:[a,l,c]=u,LC(t,n,e,a,o,l,c)}o!==null&&r!==null&&OC(e,r,o)}function OC(t,n,e){let r=t.localNames=[];for(let i=0;i<n.length;i+=2){let o=e[n[i+1]];if(o==null)throw new C(-301,!1);r.push(n[i],o)}}function kC(t){let n=null,e=!1;for(let s=0;s<t.length;s++){let a=t[s];if(s===0&&Dt(a)&&(n=a),a.findHostDirectiveDefs!==null){e=!0;break}}if(!e)return null;let r=null,i=null,o=null;for(let s of t)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,PC(s,r,o,i)),s===n&&(r??=[],r.push(s));return r!==null?(r.push(...n===null?t:t.slice(1)),[r,i,o]):null}function PC(t,n,e,r){let i=n.length;t.findHostDirectiveDefs(t,n,r),e.set(t,[i,n.length-1])}function FC(t,n,e){n.componentOffset=e,(t.components??=[]).push(n.index)}function LC(t,n,e,r,i,o,s){let a=r.length,l=!1;for(let p=0;p<a;p++){let f=r[p];!l&&Dt(f)&&(l=!0,FC(t,e,p)),Cu(ua(e,n),t,f.type)}HC(e,t.data.length,a);for(let p=0;p<a;p++){let f=r[p];f.providersResolver&&f.providersResolver(f)}let c=!1,u=!1,d=Em(t,n,a,null);a>0&&(e.directiveToIndex=new Map);for(let p=0;p<a;p++){let f=r[p];if(e.mergedAttrs=Hi(e.mergedAttrs,f.hostAttrs),VC(t,e,n,d,f),BC(d,f,i),s!==null&&s.has(f)){let[_,b]=s.get(f);e.directiveToIndex.set(f.type,[d,_+e.directiveStart,b+e.directiveStart])}else(o===null||!o.has(f))&&e.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(e.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(e.flags|=64);let g=f.type.prototype;!c&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),c=!0),!u&&(g.ngOnChanges||g.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),u=!0),d++}jC(t,e,o)}function jC(t,n,e){for(let r=n.directiveStart;r<n.directiveEnd;r++){let i=t.data[r];if(e===null||!e.has(i))Tp(0,n,i,r),Tp(1,n,i,r),Ap(n,r,!1);else{let o=e.get(i);xp(0,n,o,r),xp(1,n,o,r),Ap(n,r,!0)}}}function Tp(t,n,e,r){let i=t===0?e.inputs:e.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=n.inputs??={}:s=n.outputs??={},s[o]??=[],s[o].push(r),Wm(n,o)}}function xp(t,n,e,r){let i=t===0?e.inputs:e.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=n.hostDirectiveInputs??={}:a=n.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),Wm(n,s)}}function Wm(t,n){n==="class"?t.flags|=8:n==="style"&&(t.flags|=16)}function Ap(t,n,e){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!e&&i===null||e&&o===null||Dd(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!e&&i.hasOwnProperty(l)){let c=i[l];for(let u of c)if(u===n){s??=[],s.push(l,r[a+1]);break}}else if(e&&o.hasOwnProperty(l)){let c=o[l];for(let u=0;u<c.length;u+=2)if(c[u]===n){s??=[],s.push(c[u+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function VC(t,n,e,r,i){t.data[r]=i;let o=i.factory||(i.factory=Nn(i.type,!0)),s=new Ln(o,Dt(i),M);t.blueprint[r]=s,e[r]=s,UC(t,n,r,Em(t,e,i.hostVars,$n),i)}function UC(t,n,e,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~n.index;$C(s)!=a&&s.push(a),s.push(e,r,o)}}function $C(t){let n=t.length;for(;n>0;){let e=t[--n];if(typeof e=="number"&&e<0)return e}return 0}function BC(t,n,e){if(e){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)e[n.exportAs[r]]=t;Dt(n)&&(e[""]=t)}}function HC(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}function Zm(t,n,e,r,i,o,s,a){let l=n.consts,c=sa(l,s),u=kd(n,t,2,r,c);return o&&Gm(n,e,u,sa(l,a),i),u.mergedAttrs=Hi(u.mergedAttrs,u.attrs),u.attrs!==null&&Mp(u,u.attrs,!1),u.mergedAttrs!==null&&Mp(u,u.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,u),u}function Ym(t,n){Fg(t,n),hg(n)&&t.queries.elementEnd(n)}var va=class extends Pa{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let e=On(n);return new Pr(e,this.ngModule)}};function zC(t){return Object.keys(t).map(n=>{let[e,r,i]=t[n],o={propName:e,templateName:n,isSignal:(r&Ra.SignalBased)!==0};return i&&(o.transform=i),o})}function qC(t){return Object.keys(t).map(n=>({propName:t[n],templateName:n}))}function GC(t,n,e){let r=n instanceof Pe?n:n?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new ju(e,r):e}function WC(t){let n=t.get(kr,null);if(n===null)throw new C(407,!1);let e=t.get(RC,null),r=t.get(Or,null);return{rendererFactory:n,sanitizer:e,changeDetectionScheduler:r}}function ZC(t,n){let e=(t.selectors[0][0]||"div").toLowerCase();return wm(n,e,e==="svg"?zb:e==="math"?qb:null)}var Pr=class extends zm{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=zC(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=qC(this.componentDef.outputs),this.cachedOutputs}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=b0(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!e}create(n,e,r,i){Q(22);let o=B(null);try{let s=this.componentDef,a=r?["ng-version","19.2.14"]:D0(this.componentDef.selectors[0]),l=Cd(0,null,null,1,0,null,null,null,null,[a],null),c=GC(s,i||this.ngModule,n),u=WC(c),d=u.rendererFactory.createRenderer(null,s),p=r?N0(d,r,s.encapsulation,c):ZC(s,d),f=Ed(null,l,null,512|Cm(s),null,null,u,d,c,null,fm(p,c,!0));f[ht]=p,od(f);let g=null;try{let _=Zm(ht,l,f,"#host",()=>[this.componentDef],!0,0);p&&(Dm(d,p,_),Qi(p,f)),Sd(l,f,_),pm(l,_,f),Ym(l,_),e!==void 0&&YC(_,this.ngContentSelectors,e),g=Et(_.index,f),f[Fe]=g[Fe],Td(l,f,null)}catch(_){throw g!==null&&xu(g),xu(f),_}finally{Q(23),sd()}return new Vu(this.componentType,f)}finally{B(o)}}},Vu=class extends AC{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,e){super(),this._rootLView=e,this._tNode=_g(e[q],ht),this.location=Aa(this._tNode,e),this.instance=Et(this._tNode.index,e)[Fe],this.hostView=this.changeDetectorRef=new zi(e,void 0,!1),this.componentType=n}setInput(n,e){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),e))return;let i=this._rootLView,o=Md(r,i[q],i,n,e);this.previousInputValues.set(n,e);let s=Et(r.index,i);Od(s,1)}get injector(){return new An(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function YC(t,n,e){let r=t.projection=[];for(let i=0;i<n.length;i++){let o=e[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Wr=(()=>{class t{static __NG_ELEMENT_ID__=KC}return t})();function KC(){let t=je();return JC(t,ee())}var QC=Wr,Km=class extends QC{_lContainer;_hostTNode;_hostLView;constructor(n,e,r){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=r}get element(){return Aa(this._hostTNode,this._hostLView)}get injector(){return new An(this._hostTNode,this._hostLView)}get parentInjector(){let n=ud(this._hostTNode,this._hostLView);if(Vg(n)){let e=la(n,this._hostLView),r=aa(n),i=e[q].data[r+8];return new An(i,e)}else return new An(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let e=Np(this._lContainer);return e!==null&&e[n]||null}get length(){return this._lContainer.length-Xe}createEmbeddedView(n,e,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Sp(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(e||{},o,s);return this.insertImpl(a,i,Ep(this._hostTNode,s)),a}createComponent(n,e,r,i,o){let s=n&&!Ub(n),a;if(s)a=e;else{let g=e||{};a=g.index,r=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}let l=s?n:new Pr(On(n)),c=r||this.parentInjector;if(!o&&l.ngModule==null){let _=(s?c:this.parentInjector).get(Pe,null);_&&(o=_)}let u=On(l.componentType??{}),d=Sp(this._lContainer,u?.id??null),p=d?.firstChild??null,f=l.create(c,i,p,o);return this.insertImpl(f.hostView,a,Ep(this._hostTNode,d)),f}insert(n,e){return this.insertImpl(n,e,!0)}insertImpl(n,e,r){let i=n._lView;if(Zb(i)){let a=this.indexOf(n);if(a!==-1)this.detach(a);else{let l=i[xe],c=new Km(l,l[pt],l[xe]);c.detach(c.indexOf(n))}}let o=this._adjustIndex(e),s=this._lContainer;return wC(s,i,o,r),n.attachToViewContainerRef(),ng(ou(s),o,n),n}move(n,e){return this.insert(n,e)}indexOf(n){let e=Np(this._lContainer);return e!==null?e.indexOf(n):-1}remove(n){let e=this._adjustIndex(n,-1),r=Fu(this._lContainer,e);r&&(Js(ou(this._lContainer),e),Rm(r[q],r))}detach(n){let e=this._adjustIndex(n,-1),r=Fu(this._lContainer,e);return r&&Js(ou(this._lContainer),e)!=null?new zi(r):null}_adjustIndex(n,e=0){return n??this.length+e}};function Np(t){return t[ra]}function ou(t){return t[ra]||(t[ra]=[])}function JC(t,n){let e,r=n[t.index];return Xt(r)?e=r:(e=Bm(r,n,null,t),n[t.index]=e,Id(n,e)),eE(e,n,t,r),new Km(e,t,n)}function XC(t,n){let e=t[_e],r=e.createComment(""),i=xt(n,t),o=e.parentNode(i);return ga(e,o,r,e.nextSibling(i),!1),r}var eE=rE,tE=()=>!1;function nE(t,n,e){return tE(t,n,e)}function rE(t,n,e,r){if(t[kn])return;let i;e.type&8?i=Ct(r):i=XC(n,e),t[kn]=i}var Fr=class{},Pd=class{};var Uu=class extends Fr{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new va(this);constructor(n,e,r,i=!0){super(),this.ngModuleType=n,this._parent=e;let o=og(n);this._bootstrapComponents=ym(o.bootstrap),this._r3Injector=Zg(n,e,[{provide:Fr,useValue:this},{provide:Pa,useValue:this.componentFactoryResolver},...r],ke(n),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},$u=class extends Pd{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new Uu(this.moduleType,n,[])}};var ya=class extends Fr{injector;componentFactoryResolver=new va(this);instance=null;constructor(n){super();let e=new $i([...n.providers,{provide:Fr,useValue:this},{provide:Pa,useValue:this.componentFactoryResolver}],n.parent||nd(),n.debugName,new Set(["environment"]));this.injector=e,n.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function Ji(t,n,e=null){return new ya({providers:t,parent:n,debugName:e,runEnvironmentInitializers:!0}).injector}var iE=(()=>{class t{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let r=sg(!1,e.type),i=r.length>0?Ji([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,i)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=E({token:t,providedIn:"environment",factory:()=>new t(N(Pe))})}return t})();function Ve(t){return Gi(()=>{let n=Qm(t),e=$(w({},n),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===rm.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:n.standalone?i=>i.get(iE).getOrCreateStandaloneInjector(e):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||St.Emulated,styles:t.styles||Qe,_:null,schemas:t.schemas||null,tView:null,id:""});n.standalone&&Gr("NgStandalone"),Jm(e);let r=t.dependencies;return e.directiveDefs=Rp(r,!1),e.pipeDefs=Rp(r,!0),e.id=cE(e),e})}function oE(t){return On(t)||Mb(t)}function sE(t){return t!==null}function Nt(t){return Gi(()=>({type:t.type,bootstrap:t.bootstrap||Qe,declarations:t.declarations||Qe,imports:t.imports||Qe,exports:t.exports||Qe,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function aE(t,n){if(t==null)return Rn;let e={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=Ra.None,l=null),e[o]=[r,a,l],n[o]=s}return e}function lE(t){if(t==null)return Rn;let n={};for(let e in t)t.hasOwnProperty(e)&&(n[t[e]]=e);return n}function se(t){return Gi(()=>{let n=Qm(t);return Jm(n),n})}function Fd(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Qm(t){let n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputConfig:t.inputs||Rn,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Qe,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:aE(t.inputs,n),outputs:lE(t.outputs),debugInfo:null}}function Jm(t){t.features?.forEach(n=>n(t))}function Rp(t,n){if(!t)return null;let e=n?Tb:oE;return()=>(typeof t=="function"?t():t).map(r=>e(r)).filter(sE)}function cE(t){let n=0,e=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,e,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))n=Math.imul(31,n)+o.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function uE(t){return Object.getPrototypeOf(t.prototype).constructor}function Ue(t){let n=uE(t.type),e=!0,r=[t];for(;n;){let i;if(Dt(t))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new C(903,!1);i=n.\u0275dir}if(i){if(e){r.push(i);let s=t;s.inputs=su(t.inputs),s.declaredInputs=su(t.declaredInputs),s.outputs=su(t.outputs);let a=i.hostBindings;a&&gE(t,a);let l=i.viewQuery,c=i.contentQueries;if(l&&hE(t,l),c&&pE(t,c),dE(t,i),ob(t.outputs,i.outputs),Dt(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Ue&&(e=!1)}}n=Object.getPrototypeOf(n)}fE(r)}function dE(t,n){for(let e in n.inputs){if(!n.inputs.hasOwnProperty(e)||t.inputs.hasOwnProperty(e))continue;let r=n.inputs[e];r!==void 0&&(t.inputs[e]=r,t.declaredInputs[e]=n.declaredInputs[e])}}function fE(t){let n=0,e=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=n+=i.hostVars,i.hostAttrs=Hi(i.hostAttrs,e=Hi(e,i.hostAttrs))}}function su(t){return t===Rn?{}:t===Qe?[]:t}function hE(t,n){let e=t.viewQuery;e?t.viewQuery=(r,i)=>{n(r,i),e(r,i)}:t.viewQuery=n}function pE(t,n){let e=t.contentQueries;e?t.contentQueries=(r,i,o)=>{n(r,i,o),e(r,i,o)}:t.contentQueries=n}function gE(t,n){let e=t.hostBindings;e?t.hostBindings=(r,i)=>{n(r,i),e(r,i)}:t.hostBindings=n}function Xm(t){return vE(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function mE(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{let e=t[Symbol.iterator](),r;for(;!(r=e.next()).done;)n(r.value)}}function vE(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function yE(t,n,e){return t[n]=e}function jn(t,n,e){let r=t[n];return Object.is(r,e)?!1:(t[n]=e,!0)}function _E(t,n,e,r){let i=jn(t,n,e);return jn(t,n+1,r)||i}function wE(t,n,e,r,i,o,s,a,l){let c=n.consts,u=kd(n,t,4,s||null,a||null);Ig()&&Gm(n,e,u,sa(c,l),xm),u.mergedAttrs=Hi(u.mergedAttrs,u.attrs),Fg(n,u);let d=u.tView=Cd(2,u,r,i,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,c,null);return n.queries!==null&&(n.queries.template(n,u),d.queries=n.queries.embeddedTView(u)),u}function bE(t,n,e,r,i,o,s,a,l,c){let u=e+ht,d=n.firstCreatePass?wE(u,n,t,r,i,o,s,a,l):n.data[u];Yi(d,!1);let p=DE(n,t,d,e);ld()&&Nd(n,t,p,d),Qi(p,t);let f=Bm(p,t,p,d);return t[u]=f,Id(t,f),nE(f,d,t),rd(d)&&Sd(n,t,d),l!=null&&Mm(t,d,c),d}function Z(t,n,e,r,i,o,s,a){let l=ee(),c=Le(),u=sa(c.consts,o);return bE(l,c,t,n,e,r,i,u,s,a),Z}var DE=CE;function CE(t,n,e,r){return cd(!0),n[_e].createComment("")}var ev=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var tv=new S("");var EE=(()=>{class t{static \u0275prov=E({token:t,providedIn:"root",factory:()=>new Bu})}return t})(),Bu=class{queuedEffectCount=0;queues=new Map;schedule(n){this.enqueue(n)}remove(n){let e=n.zone,r=this.queues.get(e);r.has(n)&&(r.delete(n),this.queuedEffectCount--)}enqueue(n){let e=n.zone;this.queues.has(e)||this.queues.set(e,new Set);let r=this.queues.get(e);r.has(n)||(this.queuedEffectCount++,r.add(n))}flush(){for(;this.queuedEffectCount>0;)for(let[n,e]of this.queues)n===null?this.flushQueue(e):n.run(()=>this.flushQueue(e))}flushQueue(n){for(let e of n)n.delete(e),this.queuedEffectCount--,e.run()}};function Bn(t){return!!t&&typeof t.then=="function"}function nv(t){return!!t&&typeof t.subscribe=="function"}var rv=new S("");function Ld(t){return Ia([{provide:rv,multi:!0,useValue:t}])}var iv=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((e,r)=>{this.resolve=e,this.reject=r});appInits=m(rv,{optional:!0})??[];injector=m(Ge);constructor(){}runInitializers(){if(this.initialized)return;let e=[];for(let i of this.appInits){let o=tt(this.injector,i);if(Bn(o))e.push(o);else if(nv(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),e.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Fa=new S("");function IE(){Rc(()=>{throw new C(600,!1)})}function SE(t){return t.isBoundToModule}var ME=10;var Vn=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=m(VD);afterRenderManager=m(dm);zonelessEnabled=m(fd);rootEffectScheduler=m(EE);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new pe;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=m(Br).hasPendingTasks.pipe(z(e=>!e));constructor(){m(qr,{optional:!0})}whenStable(){let e;return new Promise(r=>{e=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{e.unsubscribe()})}_injector=m(Pe);_rendererFactory=null;get injector(){return this._injector}bootstrap(e,r){return this.bootstrapImpl(e,r)}bootstrapImpl(e,r,i=Ge.NULL){Q(10);let o=e instanceof zm;if(!this._injector.get(iv).done){let f="";throw new C(405,f)}let a;o?a=e:a=this._injector.get(Pa).resolveComponentFactory(e),this.componentTypes.push(a.componentType);let l=SE(a)?void 0:this._injector.get(Fr),c=r||a.selector,u=a.create(i,[],c,l),d=u.location.nativeElement,p=u.injector.get(tv,null);return p?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Ws(this.components,u),p?.unregisterApplication(d)}),this._loadComponent(u),Q(11,u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Q(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(yd.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new C(101,!1);let e=B(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,B(e),this.afterTick.next(),Q(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(kr,null,{optional:!0}));let e=0;for(;this.dirtyFlags!==0&&e++<ME;)Q(14),this.synchronizeOnce(),Q(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let e=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)TE(r,i,e,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>Ta(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){let r=e;Ws(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Fa,[]).forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Ws(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new C(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ws(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function TE(t,n,e,r){if(!e&&!Ta(t))return;jm(t,n,e&&!r?0:1)}function Hn(t,n,e,r){let i=ee(),o=xa();if(jn(i,o,n)){let s=Le(),a=ad();V0(a,i,t,n,e,r)}return Hn}function xE(t,n,e,r){return jn(t,xa(),e)?n+Ca(e)+r:$n}function Hs(t,n){return t<<17|n<<2}function Un(t){return t>>17&32767}function AE(t){return(t&2)==2}function NE(t,n){return t&131071|n<<17}function Hu(t){return t|2}function Lr(t){return(t&131068)>>2}function au(t,n){return t&-131069|n<<2}function RE(t){return(t&1)===1}function zu(t){return t|1}function OE(t,n,e,r,i,o){let s=o?n.classBindings:n.styleBindings,a=Un(s),l=Lr(s);t[r]=e;let c=!1,u;if(Array.isArray(e)){let d=e;u=d[1],(u===null||Wi(d,u)>0)&&(c=!0)}else u=e;if(i)if(l!==0){let p=Un(t[a+1]);t[r+1]=Hs(p,a),p!==0&&(t[p+1]=au(t[p+1],r)),t[a+1]=NE(t[a+1],r)}else t[r+1]=Hs(a,0),a!==0&&(t[a+1]=au(t[a+1],r)),a=r;else t[r+1]=Hs(l,0),a===0?a=r:t[l+1]=au(t[l+1],r),l=r;c&&(t[r+1]=Hu(t[r+1])),Op(t,u,r,!0),Op(t,u,r,!1),kE(n,u,t,r,o),s=Hs(a,l),o?n.classBindings=s:n.styleBindings=s}function kE(t,n,e,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof n=="string"&&Wi(o,n)>=0&&(e[r+1]=zu(e[r+1]))}function Op(t,n,e,r){let i=t[e+1],o=n===null,s=r?Un(i):Lr(i),a=!1;for(;s!==0&&(a===!1||o);){let l=t[s],c=t[s+1];PE(l,n)&&(a=!0,t[s+1]=r?zu(c):Hu(c)),s=r?Un(c):Lr(c)}a&&(t[e+1]=r?Hu(i):zu(i))}function PE(t,n){return t===null||n==null||(Array.isArray(t)?t[1]:t)===n?!0:Array.isArray(t)&&typeof n=="string"?Wi(t,n)>=0:!1}function x(t,n,e){let r=ee(),i=xa();if(jn(r,i,n)){let o=Le(),s=ad();Tm(o,s,r,t,n,r[_e],e,!1)}return x}function kp(t,n,e,r,i){Md(n,t,e,i?"class":"style",r)}function La(t,n){return FE(t,n,null,!0),La}function FE(t,n,e,r){let i=ee(),o=Le(),s=aD(2);if(o.firstUpdatePass&&jE(o,t,s,r),n!==$n&&jn(i,s,n)){let a=o.data[$r()];HE(o,a,i,i[_e],t,i[s+1]=zE(n,e),r,s)}}function LE(t,n){return n>=t.expandoStartIndex}function jE(t,n,e,r){let i=t.data;if(i[e+1]===null){let o=i[$r()],s=LE(t,e);qE(o,r)&&n===null&&!s&&(n=!1),n=VE(i,o,n,r),OE(i,o,n,e,s,r)}}function VE(t,n,e,r){let i=dD(t),o=r?n.residualClasses:n.residualStyles;if(i===null)(r?n.classBindings:n.styleBindings)===0&&(e=lu(null,t,n,e,r),e=qi(e,n.attrs,r),o=null);else{let s=n.directiveStylingLast;if(s===-1||t[s]!==i)if(e=lu(i,t,n,e,r),o===null){let l=UE(t,n,r);l!==void 0&&Array.isArray(l)&&(l=lu(null,t,n,l[1],r),l=qi(l,n.attrs,r),$E(t,n,r,l))}else o=BE(t,n,r)}return o!==void 0&&(r?n.residualClasses=o:n.residualStyles=o),e}function UE(t,n,e){let r=e?n.classBindings:n.styleBindings;if(Lr(r)!==0)return t[Un(r)]}function $E(t,n,e,r){let i=e?n.classBindings:n.styleBindings;t[Un(i)]=r}function BE(t,n,e){let r,i=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=qi(r,s,e)}return qi(r,n.attrs,e)}function lu(t,n,e,r,i){let o=null,s=e.directiveEnd,a=e.directiveStylingLast;for(a===-1?a=e.directiveStart:a++;a<s&&(o=n[a],r=qi(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(e.directiveStylingLast=a),r}function qi(t,n,e){let r=e?1:2,i=-1;if(n!==null)for(let o=0;o<n.length;o++){let s=n[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Ib(t,s,e?!0:n[++o]))}return t===void 0?null:t}function HE(t,n,e,r,i,o,s,a){if(!(n.type&3))return;let l=t.data,c=l[a+1],u=RE(c)?Pp(l,n,e,i,Lr(c),s):void 0;if(!_a(u)){_a(o)||AE(c)&&(o=Pp(l,null,e,i,a,s));let d=yg($r(),e);sC(r,s,d,i,o)}}function Pp(t,n,e,r,i,o){let s=n===null,a;for(;i>0;){let l=t[i],c=Array.isArray(l),u=c?l[1]:l,d=u===null,p=e[i+1];p===$n&&(p=d?Qe:void 0);let f=d?Jc(p,r):u===r?p:void 0;if(c&&!_a(f)&&(f=Jc(l,r)),_a(f)&&(a=f,s))return a;let g=t[i+1];i=s?Un(g):Lr(g)}if(n!==null){let l=o?n.residualClasses:n.residualStyles;l!=null&&(a=Jc(l,r))}return a}function _a(t){return t!==void 0}function zE(t,n){return t==null||t===""||(typeof n=="string"?t=t+n:typeof t=="object"&&(t=ke(Na(t)))),t}function qE(t,n){return(t.flags&(n?8:16))!==0}function v(t,n,e,r){let i=ee(),o=Le(),s=ht+t,a=i[_e],l=o.firstCreatePass?Zm(s,o,i,n,xm,Ig(),e,r):o.data[s],c=GE(o,i,l,a,n,t);i[s]=c;let u=rd(l);return Yi(l,!0),Dm(a,c,l),!Am(l)&&ld()&&Nd(o,i,c,l),(Qb()===0||u)&&Qi(c,i),Jb(),u&&(Sd(o,i,l),pm(o,l,i)),r!==null&&Mm(i,l),v}function y(){let t=je();Mg()?iD():(t=t.parent,Yi(t,!1));let n=t;tD(n)&&nD(),Xb();let e=Le();return e.firstCreatePass&&Ym(e,n),n.classesWithoutHost!=null&&vD(n)&&kp(e,n,ee(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&yD(n)&&kp(e,n,ee(),n.stylesWithoutHost,!1),y}function J(t,n,e,r){return v(t,n,e,r),y(),J}var GE=(t,n,e,r,i,o)=>(cd(!0),wm(r,i,pD()));function Ie(){return ee()}var wa="en-US";var WE=wa;function ZE(t){typeof t=="string"&&(WE=t.toLowerCase().replace(/_/g,"-"))}function Fp(t,n,e){return function r(i){if(i===Function)return e;let o=Vr(t)?Et(t.index,n):n;Od(o,5);let s=n[Fe],a=Lp(n,s,e,i),l=r.__ngNextListenerFn__;for(;l;)a=Lp(n,s,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function Lp(t,n,e,r){let i=B(null);try{return Q(6,n,e),e(r)!==!1}catch(o){return YE(t,o),!1}finally{Q(7,n,e),B(i)}}function YE(t,n){let e=t[Ar],r=e?e.get(It,null):null;r&&r.handleError(n)}function jp(t,n,e,r,i,o){let s=n[e],a=n[q],c=a.data[e].outputs[r],u=s[c],d=a.firstCreatePass?Eg(a):null,p=Cg(n),f=u.subscribe(o),g=p.length;p.push(o,f),d&&d.push(i,t.index,g,-(g+1))}function U(t,n,e,r){let i=ee(),o=Le(),s=je();return ov(o,i,i[_e],s,t,n,r),U}function KE(t,n,e,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===e&&i[o+1]===r){let a=n[ta],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function ov(t,n,e,r,i,o,s){let a=rd(r),c=t.firstCreatePass?Eg(t):null,u=Cg(n),d=!0;if(r.type&3||s){let p=xt(r,n),f=s?s(p):p,g=u.length,_=s?I=>s(Ct(I[r.index])):r.index,b=null;if(!s&&a&&(b=KE(t,n,i,r.index)),b!==null){let I=b.__ngLastListenerFn__||b;I.__ngNextListenerFn__=o,b.__ngLastListenerFn__=o,d=!1}else{o=Fp(r,n,o),i0(n,f,i,o);let I=e.listen(f,i,o);u.push(o,I),c&&c.push(i,_,g,g+1)}}else o=Fp(r,n,o);if(d){let p=r.outputs?.[i],f=r.hostDirectiveOutputs?.[i];if(f&&f.length)for(let g=0;g<f.length;g+=2){let _=f[g],b=f[g+1];jp(r,n,_,b,i,o)}if(p&&p.length)for(let g of p)jp(r,n,g,i,i,o)}}function G(t=1){return hD(t)}function D(t,n=""){let e=ee(),r=Le(),i=t+ht,o=r.firstCreatePass?kd(r,i,1,n,null):r.data[i],s=QE(r,e,o,n,t);e[i]=s,ld()&&Nd(r,e,s,o),Yi(o,!1)}var QE=(t,n,e,r,i)=>(cd(!0),C0(n[_e],r));function Rt(t){return zn("",t,""),Rt}function zn(t,n,e){let r=ee(),i=xE(r,t,n,e);return i!==$n&&JE(r,$r(),i),zn}function JE(t,n,e){let r=yg(n,t);E0(t[_e],r,e)}function dn(t,n,e){tm(n)&&(n=n());let r=ee(),i=xa();if(jn(r,i,n)){let o=Le(),s=ad();Tm(o,s,r,t,n,r[_e],e,!1)}return dn}function qn(t,n){let e=tm(t);return e&&t.set(n),e}function fn(t,n){let e=ee(),r=Le(),i=je();return ov(r,e,e[_e],i,t,n),fn}function XE(t,n,e){let r=Le();if(r.firstCreatePass){let i=Dt(t);qu(e,r.data,r.blueprint,i,!0),qu(n,r.data,r.blueprint,i,!1)}}function qu(t,n,e,r,i){if(t=Te(t),Array.isArray(t))for(let o=0;o<t.length;o++)qu(t[o],n,e,r,i);else{let o=Le(),s=ee(),a=je(),l=xr(t)?t:Te(t.provide),c=cg(t),u=a.providerIndexes&1048575,d=a.directiveStart,p=a.providerIndexes>>20;if(xr(t)||!t.multi){let f=new Ln(c,i,M),g=uu(l,n,i?u:u+p,d);g===-1?(Cu(ua(a,s),o,l),cu(o,t,n.length),n.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),e.push(f),s.push(f)):(e[g]=f,s[g]=f)}else{let f=uu(l,n,u+p,d),g=uu(l,n,u,u+p),_=f>=0&&e[f],b=g>=0&&e[g];if(i&&!b||!i&&!_){Cu(ua(a,s),o,l);let I=nI(i?tI:eI,e.length,i,r,c);!i&&b&&(e[g].providerFactory=I),cu(o,t,n.length,0),n.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),e.push(I),s.push(I)}else{let I=sv(e[i?g:f],c,!i&&r);cu(o,t,f>-1?f:g,I)}!i&&r&&b&&e[g].componentProviders++}}}function cu(t,n,e,r){let i=xr(n),o=Ob(n);if(i||o){let l=(o?Te(n.useClass):n).prototype.ngOnDestroy;if(l){let c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&n.multi){let u=c.indexOf(e);u===-1?c.push(e,[r,l]):c[u+1].push(r,l)}else c.push(e,l)}}}function sv(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function uu(t,n,e,r){for(let i=e;i<r;i++)if(n[i]===t)return i;return-1}function eI(t,n,e,r,i){return Gu(this.multi,[])}function tI(t,n,e,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=da(r,r[q],this.providerFactory.index,i);s=l.slice(0,a),Gu(o,s);for(let c=a;c<l.length;c++)s.push(l[c])}else s=[],Gu(o,s);return s}function Gu(t,n){for(let e=0;e<t.length;e++){let r=t[e];n.push(r())}return n}function nI(t,n,e,r,i){let o=new Ln(t,e,M);return o.multi=[],o.index=n,o.componentProviders=0,sv(o,i,r&&!e),o}function Ot(t,n=[]){return e=>{e.providersResolver=(r,i)=>XE(r,i?i(t):t,n)}}function rI(t,n){let e=t[n];return e===$n?void 0:e}function iI(t,n,e,r,i,o,s){let a=n+e;return _E(t,a,i,o)?yE(t,a+2,s?r.call(s,i,o):r(i,o)):rI(t,a+2)}function ja(t,n){let e=Le(),r,i=t+ht;e.firstCreatePass?(r=oI(n,e.pipeRegistry),e.data[i]=r,r.onDestroy&&(e.destroyHooks??=[]).push(i,r.onDestroy)):r=e.data[i];let o=r.factory||(r.factory=Nn(r.type,!0)),s,a=Oe(M);try{let l=ca(!1),c=o();return ca(l),Wb(e,ee(),i,c),c}finally{Oe(a)}}function oI(t,n){if(n)for(let e=n.length-1;e>=0;e--){let r=n[e];if(t===r.name)return r}}function Va(t,n,e,r){let i=t+ht,o=ee(),s=Gb(o,i);return sI(o,i)?iI(o,oD(),n,s.transform,e,r,s):s.transform(e,r)}function sI(t,n){return t[q].data[n].pure}var Wu=class{ngModuleFactory;componentFactories;constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}},av=(()=>{class t{compileModuleSync(e){return new $u(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let r=this.compileModuleSync(e),i=og(e),o=ym(i.declarations).reduce((s,a)=>{let l=On(a);return l&&s.push(new Pr(l)),s},[]);return new Wu(r,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var aI=(()=>{class t{zone=m(ce);changeDetectionScheduler=m(Or);applicationRef=m(Vn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),lI=new S("",{factory:()=>!1});function lv({ngZoneFactory:t,ignoreChangesOutsideZone:n,scheduleInRootZone:e}){return t??=()=>new ce($(w({},uv()),{scheduleInRootZone:e})),[{provide:ce,useFactory:t},{provide:Ui,multi:!0,useFactory:()=>{let r=m(aI,{optional:!0});return()=>r.initialize()}},{provide:Ui,multi:!0,useFactory:()=>{let r=m(cI);return()=>{r.initialize()}}},n===!0?{provide:Kg,useValue:!0}:[],{provide:Qg,useValue:e??Yg}]}function cv(t){let n=t?.ignoreChangesOutsideZone,e=t?.scheduleInRootZone,r=lv({ngZoneFactory:()=>{let i=uv(t);return i.scheduleInRootZone=e,i.shouldCoalesceEventChangeDetection&&Gr("NgZone_CoalesceEvent"),new ce(i)},ignoreChangesOutsideZone:n,scheduleInRootZone:e});return Ia([{provide:lI,useValue:!0},{provide:fd,useValue:!1},r])}function uv(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var cI=(()=>{class t{subscription=new he;initialized=!1;zone=m(ce);pendingTasks=m(Br);initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ce.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ce.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var uI=(()=>{class t{appRef=m(Vn);taskService=m(Br);ngZone=m(ce);zonelessEnabled=m(fd);tracing=m(qr,{optional:!0});disableScheduling=m(Kg,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new he;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ha):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(m(Qg,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Tu||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;let r=!1;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?gp:Jg;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(e){return!(this.disableScheduling&&!e||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ha+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(e),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,gp(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function dI(){return typeof $localize<"u"&&$localize.locale||wa}var jd=new S("",{providedIn:"root",factory:()=>m(jd,L.Optional|L.SkipSelf)||dI()});var Zu=new S(""),fI=new S("");function Fi(t){return!t.moduleRef}function hI(t){let n=Fi(t)?t.r3Injector:t.moduleRef.injector,e=n.get(ce);return e.run(()=>{Fi(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=n.get(It,null),i;if(e.runOutsideAngular(()=>{i=e.onError.subscribe({next:o=>{r.handleError(o)}})}),Fi(t)){let o=()=>n.destroy(),s=t.platformInjector.get(Zu);s.add(o),n.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Zu);s.add(o),t.moduleRef.onDestroy(()=>{Ws(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return gI(r,e,()=>{let o=n.get(iv);return o.runInitializers(),o.donePromise.then(()=>{let s=n.get(jd,wa);if(ZE(s||wa),!n.get(fI,!0))return Fi(t)?n.get(Vn):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Fi(t)){let l=n.get(Vn);return t.rootComponent!==void 0&&l.bootstrap(t.rootComponent),l}else return pI(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function pI(t,n){let e=t.injector.get(Vn);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>e.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(e);else throw new C(-403,!1);n.push(t)}function gI(t,n,e){try{let r=e();return Bn(r)?r.catch(i=>{throw n.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>t.handleError(r)),r}}var Zs=null;function mI(t=[],n){return Ge.create({name:n,providers:[{provide:Sa,useValue:"platform"},{provide:Zu,useValue:new Set([()=>Zs=null])},...t]})}function vI(t=[]){if(Zs)return Zs;let n=mI(t);return Zs=n,IE(),yI(n),n}function yI(t){let n=t.get(md,null);tt(t,()=>{n?.forEach(e=>e())})}var Gn=(()=>{class t{static __NG_ELEMENT_ID__=_I}return t})();function _I(t){return wI(je(),ee(),(t&16)===16)}function wI(t,n,e){if(Vr(t)&&!e){let r=Et(t.index,n);return new zi(r,r)}else if(t.type&175){let r=n[bt];return new zi(r,n)}return null}var Yu=class{constructor(){}supports(n){return Xm(n)}create(n){return new Ku(n)}},bI=(t,n)=>n,Ku=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(n){this._trackByFn=n||bI}forEachItem(n){let e;for(e=this._itHead;e!==null;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,r=this._removalsHead,i=0,o=null;for(;e||r;){let s=!r||e&&e.currentIndex<Vp(r,i,o)?e:r,a=Vp(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(e=e._next,s.previousIndex==null)i++;else{o||(o=[]);let c=a-i,u=l-i;if(c!=u){for(let p=0;p<c;p++){let f=p<o.length?o[p]:o[p]=0,g=f+p;u<=g&&g<c&&(o[p]=f+1)}let d=s.previousIndex;o[d]=u-c}}a!==l&&n(s,a,l)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)n(e)}diff(n){if(n==null&&(n=[]),!Xm(n))throw new C(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._itHead,r=!1,i,o,s;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,o,s,a),r=!0):(r&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)),e=e._next}else i=0,mE(n,a=>{s=this._trackByFn(i,a),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,a,s,i),r=!0):(r&&(e=this._verifyReinsertion(e,a,s,i)),Object.is(e.item,a)||this._addIdentityChange(e,a)),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,r,i){let o;return n===null?o=this._itTail:(o=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),n!==null?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,o,i)):(n=this._linkedRecords===null?null:this._linkedRecords.get(r,i),n!==null?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,o,i)):n=this._addAfter(new Qu(e,r),o,i)),n}_verifyReinsertion(n,e,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?n=this._reinsertAfter(o,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;n!==null;){let e=n._next;this._addToRemovals(this._unlink(n)),n=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let i=n._prevRemoved,o=n._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(n,e,r),this._addToMoves(n,r),n}_moveAfter(n,e,r){return this._unlink(n),this._insertAfter(n,e,r),this._addToMoves(n,r),n}_addAfter(n,e,r){return this._insertAfter(n,e,r),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,e,r){let i=e===null?this._itHead:e._next;return n._next=i,n._prev=e,i===null?this._itTail=n:i._prev=n,e===null?this._itHead=n:e._next=n,this._linkedRecords===null&&(this._linkedRecords=new ba),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let e=n._prev,r=n._next;return e===null?this._itHead=r:e._next=r,r===null?this._itTail=e:r._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ba),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},Qu=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(n,e){this.item=n,this.trackById=e}},Ju=class{_head=null;_tail=null;add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let r;for(r=this._head;r!==null;r=r._nextDup)if((e===null||e<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){let e=n._prevDup,r=n._nextDup;return e===null?this._head=r:e._nextDup=r,r===null?this._tail=e:r._prevDup=e,this._head===null}},ba=class{map=new Map;put(n){let e=n.trackById,r=this.map.get(e);r||(r=new Ju,this.map.set(e,r)),r.add(n)}get(n,e){let r=n,i=this.map.get(r);return i?i.get(n,e):null}remove(n){let e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Vp(t,n,e){let r=t.previousIndex;if(r===null)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+n+i}function Up(){return new Vd([new Yu])}var Vd=(()=>{class t{factories;static \u0275prov=E({token:t,providedIn:"root",factory:Up});constructor(e){this.factories=e}static create(e,r){if(r!=null){let i=r.factories.slice();e=e.concat(i)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||Up()),deps:[[t,new Cb,new Db]]}}find(e){let r=this.factories.find(i=>i.supports(e));if(r!=null)return r;throw new C(901,!1)}}return t})();function dv(t){Q(8);try{let{rootComponent:n,appProviders:e,platformProviders:r}=t,i=vI(r),o=[lv({}),{provide:Or,useExisting:uI},...e||[]],s=new ya({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return hI({r3Injector:s.injector,platformInjector:i,rootComponent:n})}catch(n){return Promise.reject(n)}finally{Q(9)}}function hn(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function kt(t){return Pc(t)}function Zr(t,n){return Nc(t,n?.equal)}var $p=class{[Ye];constructor(n){this[Ye]=n}destroy(){this[Ye].destroy()}};function fv(t){let n=On(t);if(!n)return null;let e=new Pr(n);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}var be=new S("");var gv=null;function nt(){return gv}function Ud(t){gv??=t}var Xi=class{},eo=(()=>{class t{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=E({token:t,factory:()=>m(mv),providedIn:"platform"})}return t})(),$d=new S(""),mv=(()=>{class t extends eo{_location;_history;_doc=m(be);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return nt().getBaseHref(this._doc)}onPopState(e){let r=nt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){let r=nt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,i){this._history.pushState(e,r,i)}replaceState(e,r,i){this._history.replaceState(e,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=E({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function Ua(t,n){return t?n?t.endsWith("/")?n.startsWith("/")?t+n.slice(1):t+n:n.startsWith("/")?t+n:`${t}/${n}`:t:n}function hv(t){let n=t.search(/#|\?|$/);return t[n-1]==="/"?t.slice(0,n-1)+t.slice(n):t}function gt(t){return t&&t[0]!=="?"?`?${t}`:t}var mt=(()=>{class t{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=E({token:t,factory:()=>m(Ba),providedIn:"root"})}return t})(),$a=new S(""),Ba=(()=>{class t extends mt{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??m(be).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ua(this._baseHref,e)}path(e=!1){let r=this._platformLocation.pathname+gt(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,o){let s=this.prepareExternalUrl(i+gt(o));this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){let s=this.prepareExternalUrl(i+gt(o));this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||t)(N(eo),N($a,8))};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),pn=(()=>{class t{_subject=new pe;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let r=this._locationStrategy.getBaseHref();this._basePath=EI(hv(pv(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+gt(r))}normalize(e){return t.stripTrailingSlash(CI(this._basePath,pv(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+gt(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+gt(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=gt;static joinWithSlash=Ua;static stripTrailingSlash=hv;static \u0275fac=function(r){return new(r||t)(N(mt))};static \u0275prov=E({token:t,factory:()=>DI(),providedIn:"root"})}return t})();function DI(){return new pn(N(mt))}function CI(t,n){if(!t||!n.startsWith(t))return n;let e=n.substring(t.length);return e===""||["/",";","?","#"].includes(e[0])?e:n}function pv(t){return t.replace(/\/index.html$/,"")}function EI(t){if(new RegExp("^(https?:)?//").test(t)){let[,e]=t.split(/\/\/[^\/]+/);return e}return t}var Hd=(()=>{class t extends mt{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(e){let r=Ua(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,o){let s=this.prepareExternalUrl(i+gt(o))||this._platformLocation.pathname;this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){let s=this.prepareExternalUrl(i+gt(o))||this._platformLocation.pathname;this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||t)(N(eo),N($a,8))};static \u0275prov=E({token:t,factory:t.\u0275fac})}return t})();var Bd=/\s+/,vv=[],to=(()=>{class t{_ngEl;_renderer;initialClasses=vv;rawClass;stateMap=new Map;constructor(e,r){this._ngEl=e,this._renderer=r}set klass(e){this.initialClasses=e!=null?e.trim().split(Bd):vv}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(Bd):e}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let r of e)this._updateState(r,!0);else if(e!=null)for(let r of Object.keys(e))this._updateState(r,!!e[r]);this._applyStateDiff()}_updateState(e,r){let i=this.stateMap.get(e);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(e,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let r=e[0],i=e[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(e,r){e=e.trim(),e.length>0&&e.split(Bd).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||t)(M(At),M(en))};static \u0275dir=se({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var Ha=class{$implicit;ngForOf;index;count;constructor(n,e,r,i){this.$implicit=n,this.ngForOf=e,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},gn=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let r=this._viewContainer;e.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Ha(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),yv(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);yv(o,i)})}static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||t)(M(Wr),M(ka),M(Vd))};static \u0275dir=se({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function yv(t,n){t.context.$implicit=n.item}var vt=(()=>{class t{_viewContainer;_context=new za;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,r){this._viewContainer=e,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){_v(e,!1),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){_v(e,!1),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||t)(M(Wr),M(ka))};static \u0275dir=se({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),za=class{$implicit=null;ngIf=null};function _v(t,n){if(t&&!t.createEmbeddedView)throw new C(2020,!1)}var Pt=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Nt({type:t});static \u0275inj=Mt({})}return t})();function zd(t,n){n=encodeURIComponent(n);for(let e of t.split(";")){let r=e.indexOf("="),[i,o]=r==-1?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===n)return decodeURIComponent(o)}return null}var qd="browser",wv="server";function qa(t){return t===wv}var no=class{};var bv=(()=>{class t{static \u0275prov=E({token:t,providedIn:"root",factory:()=>new Gd(m(be),window)})}return t})(),Gd=class{document;window;offset=()=>[0,0];constructor(n,e){this.document=n,this.window=e}setOffset(n){Array.isArray(n)?this.offset=()=>n:this.offset=n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n){this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){let e=SI(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){this.window.history.scrollRestoration=n}scrollToElement(n){let e=n.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function SI(t,n){let e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}i=r.nextNode()}}return null}var Za=new S(""),Kd=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,r){this._zone=r,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,i,o){return this._findPluginFor(r).addEventListener(e,r,i,o)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(o=>o.supports(e)),!r)throw new C(5101,!1);return this._eventNameToPlugin.set(e,r),r}static \u0275fac=function(r){return new(r||t)(N(Za),N(ce))};static \u0275prov=E({token:t,factory:t.\u0275fac})}return t})(),io=class{_doc;constructor(n){this._doc=n}manager},Ga="ng-app-id";function Dv(t){for(let n of t)n.remove()}function Cv(t,n){let e=n.createElement("style");return e.textContent=t,e}function MI(t,n,e,r){let i=t.head?.querySelectorAll(`style[${Ga}="${n}"],link[${Ga}="${n}"]`);if(i)for(let o of i)o.removeAttribute(Ga),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&e.set(o.textContent,{usage:0,elements:[o]})}function Zd(t,n){let e=n.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",t),e}var Qd=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,r,i,o={}){this.doc=e,this.appId=r,this.nonce=i,this.isServer=qa(o),MI(e,r,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,r){for(let i of e)this.addUsage(i,this.inline,Cv);r?.forEach(i=>this.addUsage(i,this.external,Zd))}removeStyles(e,r){for(let i of e)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(e,r,i){let o=r.get(e);o?o.usage++:r.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(e,this.doc)))})}removeUsage(e,r){let i=r.get(e);i&&(i.usage--,i.usage<=0&&(Dv(i.elements),r.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])Dv(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(e,Cv(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(e,Zd(r,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Ga,this.appId),e.appendChild(r)}static \u0275fac=function(r){return new(r||t)(N(be),N(gd),N(vd,8),N(zr))};static \u0275prov=E({token:t,factory:t.\u0275fac})}return t})(),Wd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Jd=/%COMP%/g;var Iv="%COMP%",TI=`_nghost-${Iv}`,xI=`_ngcontent-${Iv}`,AI=!0,NI=new S("",{providedIn:"root",factory:()=>AI});function RI(t){return xI.replace(Jd,t)}function OI(t){return TI.replace(Jd,t)}function Sv(t,n){return n.map(e=>e.replace(Jd,t))}var Xd=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,r,i,o,s,a,l,c=null,u=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=u,this.platformIsServer=qa(a),this.defaultRenderer=new oo(e,s,l,this.platformIsServer,this.tracingService)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===St.ShadowDom&&(r=$(w({},r),{encapsulation:St.Emulated}));let i=this.getOrCreateRenderer(e,r);return i instanceof Wa?i.applyToHost(e):i instanceof so&&i.applyStyles(),i}getOrCreateRenderer(e,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,p=this.tracingService;switch(r.encapsulation){case St.Emulated:o=new Wa(l,c,r,this.appId,u,s,a,d,p);break;case St.ShadowDom:return new Yd(l,c,e,r,s,a,this.nonce,d,p);default:o=new so(l,c,r,u,s,a,d,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(r){return new(r||t)(N(Kd),N(Qd),N(gd),N(NI),N(be),N(zr),N(ce),N(vd),N(qr,8))};static \u0275prov=E({token:t,factory:t.\u0275fac})}return t})(),oo=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,e,r,i,o){this.eventManager=n,this.doc=e,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(n,e){return e?this.doc.createElementNS(Wd[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(Ev(n)?n.content:n).appendChild(e)}insertBefore(n,e,r){n&&(Ev(n)?n.content:n).insertBefore(e,r)}removeChild(n,e){e.remove()}selectRootElement(n,e){let r=typeof n=="string"?this.doc.querySelector(n):n;if(!r)throw new C(-5104,!1);return e||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,r,i){if(i){e=i+":"+e;let o=Wd[i];o?n.setAttributeNS(o,e,r):n.setAttribute(e,r)}else n.setAttribute(e,r)}removeAttribute(n,e,r){if(r){let i=Wd[r];i?n.removeAttributeNS(i,e):n.removeAttribute(`${r}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,r,i){i&(Qt.DashCase|Qt.Important)?n.style.setProperty(e,r,i&Qt.Important?"important":""):n.style[e]=r}removeStyle(n,e,r){r&Qt.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,r){n!=null&&(n[e]=r)}setValue(n,e){n.nodeValue=e}listen(n,e,r,i){if(typeof n=="string"&&(n=nt().getGlobalEventTarget(this.doc,n),!n))throw new C(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(n,e,o)),this.eventManager.addEventListener(n,e,o,i)}decoratePreventDefault(n){return e=>{if(e==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))===!1&&e.preventDefault()}}};function Ev(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Yd=class extends oo{sharedStylesHost;hostEl;shadowRoot;constructor(n,e,r,i,o,s,a,l,c){super(n,o,s,l,c),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=Sv(i.id,u);for(let p of u){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=p,this.shadowRoot.appendChild(f)}let d=i.getExternalStyles?.();if(d)for(let p of d){let f=Zd(p,o);a&&f.setAttribute("nonce",a),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,r){return super.insertBefore(this.nodeOrShadowRoot(n),e,r)}removeChild(n,e){return super.removeChild(null,e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},so=class extends oo{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,e,r,i,o,s,a,l,c){super(n,o,s,a,l),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=c?Sv(c,u):u,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Wa=class extends so{contentAttr;hostAttr;constructor(n,e,r,i,o,s,a,l,c){let u=i+"-"+r.id;super(n,e,r,o,s,a,l,c,u),this.contentAttr=RI(u),this.hostAttr=OI(u)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){let r=super.createElement(n,e);return super.setAttribute(r,this.contentAttr,""),r}};var Ya=class t extends Xi{supportsDOMEvents=!0;static makeCurrent(){Ud(new t)}onAndCancel(n,e,r,i){return n.addEventListener(e,r,i),()=>{n.removeEventListener(e,r,i)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.remove()}createElement(n,e){return e=e||this.getDefaultDocument(),e.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return e==="window"?window:e==="document"?n:e==="body"?n.body:null}getBaseHref(n){let e=kI();return e==null?null:PI(e)}resetBaseElement(){ao=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return zd(document.cookie,n)}},ao=null;function kI(){return ao=ao||document.head.querySelector("base"),ao?ao.getAttribute("href"):null}function PI(t){return new URL(t,document.baseURI).pathname}var FI=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=E({token:t,factory:t.\u0275fac})}return t})(),Tv=(()=>{class t extends io{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i,o){return e.addEventListener(r,i,o),()=>this.removeEventListener(e,r,i,o)}removeEventListener(e,r,i,o){return e.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(N(be))};static \u0275prov=E({token:t,factory:t.\u0275fac})}return t})(),Mv=["alt","control","meta","shift"],LI={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},jI={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},xv=(()=>{class t extends io{constructor(e){super(e)}supports(e){return t.parseEventName(e)!=null}addEventListener(e,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>nt().onAndCancel(e,s.domEventName,a,o))}static parseEventName(e){let r=e.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Mv.forEach(c=>{let u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(e,r){let i=LI[e.key]||e.key,o="";return r.indexOf("code.")>-1&&(i=e.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Mv.forEach(s=>{if(s!==i){let a=jI[s];a(e)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(e,r,i){return o=>{t.matchEventFullKeyCode(o,e)&&i.runGuarded(()=>r(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(r){return new(r||t)(N(be))};static \u0275prov=E({token:t,factory:t.\u0275fac})}return t})();function ef(t,n){return dv(w({rootComponent:t},VI(n)))}function VI(t){return{appProviders:[...zI,...t?.providers??[]],platformProviders:HI}}function UI(){Ya.makeCurrent()}function $I(){return new It}function BI(){return lm(document),document}var HI=[{provide:zr,useValue:qd},{provide:md,useValue:UI,multi:!0},{provide:be,useFactory:BI}];var zI=[{provide:Sa,useValue:"root"},{provide:It,useFactory:$I},{provide:Za,useClass:Tv,multi:!0,deps:[be]},{provide:Za,useClass:xv,multi:!0,deps:[be]},Xd,Qd,Kd,{provide:kr,useExisting:Xd},{provide:no,useClass:FI},[]];var Av=(()=>{class t{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(r){return new(r||t)(N(be))};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var F="primary",bo=Symbol("RouteTitle"),sf=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Yn(t){return new sf(t)}function jv(t,n,e){let r=e.path.split("/");if(r.length>t.length||e.pathMatch==="full"&&(n.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function GI(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!Ft(t[e],n[e]))return!1;return!0}function Ft(t,n){let e=t?af(t):void 0,r=n?af(n):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let o=0;o<e.length;o++)if(i=e[o],!Vv(t[i],n[i]))return!1;return!0}function af(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Vv(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;let e=[...t].sort(),r=[...n].sort();return e.every((i,o)=>r[o]===i)}else return t===n}function Uv(t){return t.length>0?t[t.length-1]:null}function wn(t){return Gc(t)?t:Bn(t)?ie(Promise.resolve(t)):R(t)}var WI={exact:Bv,subset:Hv},$v={exact:ZI,subset:YI,ignored:()=>!0};function Nv(t,n,e){return WI[e.paths](t.root,n.root,e.matrixParams)&&$v[e.queryParams](t.queryParams,n.queryParams)&&!(e.fragment==="exact"&&t.fragment!==n.fragment)}function ZI(t,n){return Ft(t,n)}function Bv(t,n,e){if(!Wn(t.segments,n.segments)||!Ja(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(let r in n.children)if(!t.children[r]||!Bv(t.children[r],n.children[r],e))return!1;return!0}function YI(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>Vv(t[e],n[e]))}function Hv(t,n,e){return zv(t,n,n.segments,e)}function zv(t,n,e,r){if(t.segments.length>e.length){let i=t.segments.slice(0,e.length);return!(!Wn(i,e)||n.hasChildren()||!Ja(i,e,r))}else if(t.segments.length===e.length){if(!Wn(t.segments,e)||!Ja(t.segments,e,r))return!1;for(let i in n.children)if(!t.children[i]||!Hv(t.children[i],n.children[i],r))return!1;return!0}else{let i=e.slice(0,t.segments.length),o=e.slice(t.segments.length);return!Wn(t.segments,i)||!Ja(t.segments,i,r)||!t.children[F]?!1:zv(t.children[F],n,o,r)}}function Ja(t,n,e){return n.every((r,i)=>$v[e](t[i].parameters,r.parameters))}var jt=class{root;queryParams;fragment;_queryParamMap;constructor(n=new Y([],{}),e={},r=null){this.root=n,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Yn(this.queryParams),this._queryParamMap}toString(){return JI.serialize(this)}},Y=class{segments;children;parent=null;constructor(n,e){this.segments=n,this.children=e,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xa(this)}},mn=class{path;parameters;_parameterMap;constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap??=Yn(this.parameters),this._parameterMap}toString(){return Gv(this)}};function KI(t,n){return Wn(t,n)&&t.every((e,r)=>Ft(e.parameters,n[r].parameters))}function Wn(t,n){return t.length!==n.length?!1:t.every((e,r)=>e.path===n[r].path)}function QI(t,n){let e=[];return Object.entries(t.children).forEach(([r,i])=>{r===F&&(e=e.concat(n(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==F&&(e=e.concat(n(i,r)))}),e}var Kn=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=E({token:t,factory:()=>new vn,providedIn:"root"})}return t})(),vn=class{parse(n){let e=new cf(n);return new jt(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){let e=`/${lo(n.root,!0)}`,r=tS(n.queryParams),i=typeof n.fragment=="string"?`#${XI(n.fragment)}`:"";return`${e}${r}${i}`}},JI=new vn;function Xa(t){return t.segments.map(n=>Gv(n)).join("/")}function lo(t,n){if(!t.hasChildren())return Xa(t);if(n){let e=t.children[F]?lo(t.children[F],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==F&&r.push(`${i}:${lo(o,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}else{let e=QI(t,(r,i)=>i===F?[lo(t.children[F],!1)]:[`${i}:${lo(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[F]!=null?`${Xa(t)}/${e[0]}`:`${Xa(t)}/(${e.join("//")})`}}function qv(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ka(t){return qv(t).replace(/%3B/gi,";")}function XI(t){return encodeURI(t)}function lf(t){return qv(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function el(t){return decodeURIComponent(t)}function Rv(t){return el(t.replace(/\+/g,"%20"))}function Gv(t){return`${lf(t.path)}${eS(t.parameters)}`}function eS(t){return Object.entries(t).map(([n,e])=>`;${lf(n)}=${lf(e)}`).join("")}function tS(t){let n=Object.entries(t).map(([e,r])=>Array.isArray(r)?r.map(i=>`${Ka(e)}=${Ka(i)}`).join("&"):`${Ka(e)}=${Ka(r)}`).filter(e=>e);return n.length?`?${n.join("&")}`:""}var nS=/^[^\/()?;#]+/;function tf(t){let n=t.match(nS);return n?n[0]:""}var rS=/^[^\/()?;=#]+/;function iS(t){let n=t.match(rS);return n?n[0]:""}var oS=/^[^=?&#]+/;function sS(t){let n=t.match(oS);return n?n[0]:""}var aS=/^[^&#]+/;function lS(t){let n=t.match(aS);return n?n[0]:""}var cf=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Y([],{}):new Y([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(r[F]=new Y(n,e)),r}parseSegment(){let n=tf(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new C(4009,!1);return this.capture(n),new mn(el(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let e=iS(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let i=tf(this.remaining);i&&(r=i,this.capture(r))}n[el(e)]=el(r)}parseQueryParam(n){let e=sS(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let s=lS(this.remaining);s&&(r=s,this.capture(r))}let i=Rv(e),o=Rv(r);if(n.hasOwnProperty(i)){let s=n[i];Array.isArray(s)||(s=[s],n[i]=s),s.push(o)}else n[i]=o}parseParens(n){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=tf(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new C(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=F);let s=this.parseChildren();e[o]=Object.keys(s).length===1?s[F]:new Y([],s),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new C(4011,!1)}};function Wv(t){return t.segments.length>0?new Y([],{[F]:t}):t}function Zv(t){let n={};for(let[r,i]of Object.entries(t.children)){let o=Zv(i);if(r===F&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[r]=o)}let e=new Y(t.segments,n);return cS(e)}function cS(t){if(t.numberOfChildren===1&&t.children[F]){let n=t.children[F];return new Y(t.segments.concat(n.segments),n.children)}return t}function yn(t){return t instanceof jt}function Yv(t,n,e=null,r=null){let i=Kv(t);return Qv(i,n,e,r)}function Kv(t){let n;function e(o){let s={};for(let l of o.children){let c=e(l);s[l.outlet]=c}let a=new Y(o.url,s);return o===t&&(n=a),a}let r=e(t.root),i=Wv(r);return n??i}function Qv(t,n,e,r){let i=t;for(;i.parent;)i=i.parent;if(n.length===0)return nf(i,i,i,e,r);let o=uS(n);if(o.toRoot())return nf(i,i,new Y([],{}),e,r);let s=dS(o,i,t),a=s.processChildren?uo(s.segmentGroup,s.index,o.commands):Xv(s.segmentGroup,s.index,o.commands);return nf(i,s.segmentGroup,a,e,r)}function nl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ho(t){return typeof t=="object"&&t!=null&&t.outlets}function nf(t,n,e,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;t===n?s=e:s=Jv(t,n,e);let a=Wv(Zv(s));return new jt(a,o,i)}function Jv(t,n,e){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===n?r[i]=e:r[i]=Jv(o,n,e)}),new Y(t.segments,r)}var rl=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,e,r){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=r,n&&r.length>0&&nl(r[0]))throw new C(4003,!1);let i=r.find(ho);if(i&&i!==Uv(r))throw new C(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function uS(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new rl(!0,0,t);let n=0,e=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?e=!0:a===".."?n++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new rl(e,n,r)}var Qr=class{segmentGroup;processChildren;index;constructor(n,e,r){this.segmentGroup=n,this.processChildren=e,this.index=r}};function dS(t,n,e){if(t.isAbsolute)return new Qr(n,!0,0);if(!e)return new Qr(n,!1,NaN);if(e.parent===null)return new Qr(e,!0,0);let r=nl(t.commands[0])?0:1,i=e.segments.length-1+r;return fS(e,i,t.numberOfDoubleDots)}function fS(t,n,e){let r=t,i=n,o=e;for(;o>i;){if(o-=i,r=r.parent,!r)throw new C(4005,!1);i=r.segments.length}return new Qr(r,!1,i-o)}function hS(t){return ho(t[0])?t[0].outlets:{[F]:t}}function Xv(t,n,e){if(t??=new Y([],{}),t.segments.length===0&&t.hasChildren())return uo(t,n,e);let r=pS(t,n,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Y(t.segments.slice(0,r.pathIndex),{});return o.children[F]=new Y(t.segments.slice(r.pathIndex),t.children),uo(o,0,i)}else return r.match&&i.length===0?new Y(t.segments,{}):r.match&&!t.hasChildren()?uf(t,n,e):r.match?uo(t,0,i):uf(t,n,e)}function uo(t,n,e){if(e.length===0)return new Y(t.segments,{});{let r=hS(e),i={};if(Object.keys(r).some(o=>o!==F)&&t.children[F]&&t.numberOfChildren===1&&t.children[F].segments.length===0){let o=uo(t.children[F],n,e);return new Y(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=Xv(t.children[o],n,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Y(t.segments,i)}}function pS(t,n,e){let r=0,i=n,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=e.length)return o;let s=t.segments[i],a=e[r];if(ho(a))break;let l=`${a}`,c=r<e.length-1?e[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!kv(l,c,s))return o;r+=2}else{if(!kv(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function uf(t,n,e){let r=t.segments.slice(0,n),i=0;for(;i<e.length;){let o=e[i];if(ho(o)){let l=gS(o.outlets);return new Y(r,l)}if(i===0&&nl(e[0])){let l=t.segments[n];r.push(new mn(l.path,Ov(e[0]))),i++;continue}let s=ho(o)?o.outlets[F]:`${o}`,a=i<e.length-1?e[i+1]:null;s&&a&&nl(a)?(r.push(new mn(s,Ov(a))),i+=2):(r.push(new mn(s,{})),i++)}return new Y(r,{})}function gS(t){let n={};return Object.entries(t).forEach(([e,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(n[e]=uf(new Y([],{}),0,r))}),n}function Ov(t){let n={};return Object.entries(t).forEach(([e,r])=>n[e]=`${r}`),n}function kv(t,n,e){return t==e.path&&Ft(n,e.parameters)}var tl="imperative",we=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(we||{}),Ze=class{id;url;constructor(n,e){this.id=n,this.url=e}},_n=class extends Ze{type=we.NavigationStart;navigationTrigger;restoredState;constructor(n,e,r="imperative",i=null){super(n,e),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},rt=class extends Ze{urlAfterRedirects;type=we.NavigationEnd;constructor(n,e,r){super(n,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},$e=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}($e||{}),Xr=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Xr||{}),Lt=class extends Ze{reason;code;type=we.NavigationCancel;constructor(n,e,r,i){super(n,e),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Vt=class extends Ze{reason;code;type=we.NavigationSkipped;constructor(n,e,r,i){super(n,e),this.reason=r,this.code=i}},ei=class extends Ze{error;target;type=we.NavigationError;constructor(n,e,r,i){super(n,e),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},po=class extends Ze{urlAfterRedirects;state;type=we.RoutesRecognized;constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},il=class extends Ze{urlAfterRedirects;state;type=we.GuardsCheckStart;constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ol=class extends Ze{urlAfterRedirects;state;shouldActivate;type=we.GuardsCheckEnd;constructor(n,e,r,i,o){super(n,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},sl=class extends Ze{urlAfterRedirects;state;type=we.ResolveStart;constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},al=class extends Ze{urlAfterRedirects;state;type=we.ResolveEnd;constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ll=class{route;type=we.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},cl=class{route;type=we.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ul=class{snapshot;type=we.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},dl=class{snapshot;type=we.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fl=class{snapshot;type=we.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hl=class{snapshot;type=we.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ti=class{routerEvent;position;anchor;type=we.Scroll;constructor(n,e,r){this.routerEvent=n,this.position=e,this.anchor=r}toString(){let n=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${n}')`}},go=class{},ni=class{url;navigationBehaviorOptions;constructor(n,e){this.url=n,this.navigationBehaviorOptions=e}};function mS(t,n){return t.providers&&!t._injector&&(t._injector=Ji(t.providers,n,`Route: ${t.path}`)),t._injector??n}function yt(t){return t.outlet||F}function vS(t,n){let e=t.filter(r=>yt(r)===n);return e.push(...t.filter(r=>yt(r)!==n)),e}function Do(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){let e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var pl=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Do(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new Qn(this.rootInjector)}},Qn=(()=>{class t{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,r){let i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){let r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new pl(this.rootInjector),this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(r){return new(r||t)(N(Pe))};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),gl=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){let e=df(n,this._root);return e?e.children.map(r=>r.value):[]}firstChild(n){let e=df(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){let e=ff(n,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return ff(n,this._root).map(e=>e.value)}};function df(t,n){if(t===n.value)return n;for(let e of n.children){let r=df(t,e);if(r)return r}return null}function ff(t,n){if(t===n.value)return[n];for(let e of n.children){let r=ff(t,e);if(r.length)return r.unshift(n),r}return[]}var We=class{value;children;constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}};function Kr(t){let n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}var mo=class extends gl{snapshot;constructor(n,e){super(n),this.snapshot=e,wf(this,n)}toString(){return this.snapshot.toString()}};function ey(t){let n=yS(t),e=new Ce([new mn("",{})]),r=new Ce({}),i=new Ce({}),o=new Ce({}),s=new Ce(""),a=new Ut(e,r,o,s,i,F,t,n.root);return a.snapshot=n.root,new mo(new We(a,[]),n)}function yS(t){let n={},e={},r={},i="",o=new Zn([],n,r,i,e,F,t,null,{});return new vo("",new We(o,[]))}var Ut=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,e,r,i,o,s,a,l){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(z(c=>c[bo]))??R(void 0),this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(z(n=>Yn(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(z(n=>Yn(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ml(t,n,e="emptyOnly"){let r,{routeConfig:i}=t;return n!==null&&(e==="always"||i?.path===""||!n.component&&!n.routeConfig?.loadComponent)?r={params:w(w({},n.params),t.params),data:w(w({},n.data),t.data),resolve:w(w(w(w({},t.data),n.data),i?.data),t._resolvedData)}:r={params:w({},t.params),data:w({},t.data),resolve:w(w({},t.data),t._resolvedData??{})},i&&ny(i)&&(r.resolve[bo]=i.title),r}var Zn=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[bo]}constructor(n,e,r,i,o,s,a,l,c){this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Yn(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Yn(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(r=>r.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${e}')`}},vo=class extends gl{url;constructor(n,e){super(e),this.url=n,wf(this,e)}toString(){return ty(this._root)}};function wf(t,n){n.value._routerState=t,n.children.forEach(e=>wf(t,e))}function ty(t){let n=t.children.length>0?` { ${t.children.map(ty).join(", ")} } `:"";return`${t.value}${n}`}function rf(t){if(t.snapshot){let n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,Ft(n.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),Ft(n.params,e.params)||t.paramsSubject.next(e.params),GI(n.url,e.url)||t.urlSubject.next(e.url),Ft(n.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function hf(t,n){let e=Ft(t.params,n.params)&&KI(t.url,n.url),r=!t.parent!=!n.parent;return e&&!r&&(!t.parent||hf(t.parent,n.parent))}function ny(t){return typeof t.title=="string"||t.title===null}var ry=new S(""),Co=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=F;activateEvents=new oe;deactivateEvents=new oe;attachEvents=new oe;detachEvents=new oe;routerOutletData=em(void 0);parentContexts=m(Qn);location=m(Wr);changeDetector=m(Gn);inputBinder=m(Eo,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new C(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new C(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new C(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new C(4013,!1);this._activatedRoute=e;let i=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new pf(e,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=se({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Tt]})}return t})(),pf=class{route;childContexts;parent;outletData;constructor(n,e,r,i){this.route=n,this.childContexts=e,this.parent=r,this.outletData=i}get(n,e){return n===Ut?this.route:n===Qn?this.childContexts:n===ry?this.outletData:this.parent.get(n,e)}},Eo=new S(""),bf=(()=>{class t{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:r}=e,i=ki([r.queryParams,r.params,r.data]).pipe(Ke(([o,s,a],l)=>(a=w(w(w({},o),s),a),l===0?R(a):Promise.resolve(a)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(e);return}let s=fv(r.component);if(!s){this.unsubscribeFromRouteData(e);return}for(let{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(e,i)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=E({token:t,factory:t.\u0275fac})}return t})(),Df=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ve({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&J(0,"router-outlet")},dependencies:[Co],encapsulation:2})}return t})();function Cf(t){let n=t.children&&t.children.map(Cf),e=n?$(w({},t),{children:n}):w({},t);return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==F&&(e.component=Df),e}function _S(t,n,e){let r=yo(t,n._root,e?e._root:void 0);return new mo(r,n)}function yo(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){let r=e.value;r._futureSnapshot=n.value;let i=wS(t,n,e);return new We(r,i)}else{if(t.shouldAttach(n.value)){let o=t.retrieve(n.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>yo(t,a)),s}}let r=bS(n.value),i=n.children.map(o=>yo(t,o));return new We(r,i)}}function wS(t,n,e){return n.children.map(r=>{for(let i of e.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return yo(t,r,i);return yo(t,r)})}function bS(t){return new Ut(new Ce(t.url),new Ce(t.params),new Ce(t.queryParams),new Ce(t.fragment),new Ce(t.data),t.outlet,t.component,t)}var ri=class{redirectTo;navigationBehaviorOptions;constructor(n,e){this.redirectTo=n,this.navigationBehaviorOptions=e}},iy="ngNavigationCancelingError";function vl(t,n){let{redirectTo:e,navigationBehaviorOptions:r}=yn(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=oy(!1,$e.Redirect);return i.url=e,i.navigationBehaviorOptions=r,i}function oy(t,n){let e=new Error(`NavigationCancelingError: ${t||""}`);return e[iy]=!0,e.cancellationCode=n,e}function DS(t){return sy(t)&&yn(t.url)}function sy(t){return!!t&&t[iy]}var CS=(t,n,e,r)=>z(i=>(new gf(n,i.targetRouterState,i.currentRouterState,e,r).activate(t),i)),gf=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,e,r,i,o){this.routeReuseStrategy=n,this.futureState=e,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(n){let e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,n),rf(this.futureState.root),this.activateChildRoutes(e,r,n)}deactivateChildRoutes(n,e,r){let i=Kr(e);n.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(n,e,r){let i=n.value,o=e?e.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(n,e,s.children)}else this.deactivateChildRoutes(n,e,r);else o&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){let r=e.getContext(n.value.outlet),i=r&&n.value.component?r.children:e,o=Kr(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,e){let r=e.getContext(n.value.outlet),i=r&&n.value.component?r.children:e,o=Kr(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,e,r){let i=Kr(e);n.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new hl(o.value.snapshot))}),n.children.length&&this.forwardEvent(new dl(n.value.snapshot))}activateRoutes(n,e,r){let i=n.value,o=e?e.value:null;if(rf(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,e,s.children)}else this.activateChildRoutes(n,e,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),rf(a.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,r)}},yl=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},Jr=class{component;route;constructor(n,e){this.component=n,this.route=e}};function ES(t,n,e){let r=t._root,i=n?n._root:null;return co(r,i,e,[r.value])}function IS(t){let n=t.routeConfig?t.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:t,guards:n}}function oi(t,n){let e=Symbol(),r=n.get(t,e);return r===e?typeof t=="function"&&!Zp(t)?t:n.get(t):r}function co(t,n,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Kr(n);return t.children.forEach(s=>{SS(s,o[s.value.outlet],e,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>fo(a,e.getContext(s),i)),i}function SS(t,n,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=n?n.value:null,a=e?e.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=MS(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new yl(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?co(t,n,a?a.children:null,r,i):co(t,n,e,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Jr(a.outlet.component,s))}else s&&fo(n,a,i),i.canActivateChecks.push(new yl(r)),o.component?co(t,null,a?a.children:null,r,i):co(t,null,e,r,i);return i}function MS(t,n,e){if(typeof e=="function")return e(t,n);switch(e){case"pathParamsChange":return!Wn(t.url,n.url);case"pathParamsOrQueryParamsChange":return!Wn(t.url,n.url)||!Ft(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hf(t,n)||!Ft(t.queryParams,n.queryParams);case"paramsChange":default:return!hf(t,n)}}function fo(t,n,e){let r=Kr(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?n?fo(s,n.children.getContext(o),e):fo(s,null,e):fo(s,n,e)}),i.component?n&&n.outlet&&n.outlet.isActivated?e.canDeactivateChecks.push(new Jr(n.outlet.component,i)):e.canDeactivateChecks.push(new Jr(null,i)):e.canDeactivateChecks.push(new Jr(null,i))}function Io(t){return typeof t=="function"}function TS(t){return typeof t=="boolean"}function xS(t){return t&&Io(t.canLoad)}function AS(t){return t&&Io(t.canActivate)}function NS(t){return t&&Io(t.canActivateChild)}function RS(t){return t&&Io(t.canDeactivate)}function OS(t){return t&&Io(t.canMatch)}function ay(t){return t instanceof Gt||t?.name==="EmptyError"}var Qa=Symbol("INITIAL_VALUE");function ii(){return Ke(t=>ki(t.map(n=>n.pipe(Zt(1),Kc(Qa)))).pipe(z(n=>{for(let e of n)if(e!==!0){if(e===Qa)return Qa;if(e===!1||kS(e))return e}return!0}),qe(n=>n!==Qa),Zt(1)))}function kS(t){return yn(t)||t instanceof ri}function PS(t,n){return le(e=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return s.length===0&&o.length===0?R($(w({},e),{guardsResult:!0})):FS(s,r,i,t).pipe(le(a=>a&&TS(a)?LS(r,o,t,n):R(a)),z(a=>$(w({},e),{guardsResult:a})))})}function FS(t,n,e,r){return ie(t).pipe(le(i=>BS(i.component,i.route,e,n,r)),Yt(i=>i!==!0,!0))}function LS(t,n,e,r){return ie(n).pipe(sn(i=>br(VS(i.route.parent,r),jS(i.route,r),$S(t,i.path,e),US(t,i.route,e))),Yt(i=>i!==!0,!0))}function jS(t,n){return t!==null&&n&&n(new fl(t)),R(!0)}function VS(t,n){return t!==null&&n&&n(new ul(t)),R(!0)}function US(t,n,e){let r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||r.length===0)return R(!0);let i=r.map(o=>Vs(()=>{let s=Do(n)??e,a=oi(o,s),l=AS(a)?a.canActivate(n,t):tt(s,()=>a(n,t));return wn(l).pipe(Yt())}));return R(i).pipe(ii())}function $S(t,n,e){let r=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>IS(s)).filter(s=>s!==null).map(s=>Vs(()=>{let a=s.guards.map(l=>{let c=Do(s.node)??e,u=oi(l,c),d=NS(u)?u.canActivateChild(r,t):tt(c,()=>u(r,t));return wn(d).pipe(Yt())});return R(a).pipe(ii())}));return R(o).pipe(ii())}function BS(t,n,e,r,i){let o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||o.length===0)return R(!0);let s=o.map(a=>{let l=Do(n)??i,c=oi(a,l),u=RS(c)?c.canDeactivate(t,n,e,r):tt(l,()=>c(t,n,e,r));return wn(u).pipe(Yt())});return R(s).pipe(ii())}function HS(t,n,e,r){let i=n.canLoad;if(i===void 0||i.length===0)return R(!0);let o=i.map(s=>{let a=oi(s,t),l=xS(a)?a.canLoad(n,e):tt(t,()=>a(n,e));return wn(l)});return R(o).pipe(ii(),ly(r))}function ly(t){return Bc(Ee(n=>{if(typeof n!="boolean")throw vl(t,n)}),z(n=>n===!0))}function zS(t,n,e,r){let i=n.canMatch;if(!i||i.length===0)return R(!0);let o=i.map(s=>{let a=oi(s,t),l=OS(a)?a.canMatch(n,e):tt(t,()=>a(n,e));return wn(l)});return R(o).pipe(ii(),ly(r))}var _o=class{segmentGroup;constructor(n){this.segmentGroup=n||null}},wo=class extends Error{urlTree;constructor(n){super(),this.urlTree=n}};function Yr(t){return _r(new _o(t))}function qS(t){return _r(new C(4e3,!1))}function GS(t){return _r(oy(!1,$e.GuardRejected))}var mf=class{urlSerializer;urlTree;constructor(n,e){this.urlSerializer=n,this.urlTree=e}lineralizeSegments(n,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return R(r);if(i.numberOfChildren>1||!i.children[F])return qS(`${n.redirectTo}`);i=i.children[F]}}applyRedirectCommands(n,e,r,i,o){if(typeof e!="string"){let a=e,{queryParams:l,fragment:c,routeConfig:u,url:d,outlet:p,params:f,data:g,title:_}=i,b=tt(o,()=>a({params:f,data:g,queryParams:l,fragment:c,routeConfig:u,url:d,outlet:p,title:_}));if(b instanceof jt)throw new wo(b);e=b}let s=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,r);if(e[0]==="/")throw new wo(s);return s}applyRedirectCreateUrlTree(n,e,r,i){let o=this.createSegmentGroup(n,e.root,r,i);return new jt(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){let r={};return Object.entries(n).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=e[a]}else r[i]=o}),r}createSegmentGroup(n,e,r,i){let o=this.createSegments(n,e.segments,r,i),s={};return Object.entries(e.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(n,l,r,i)}),new Y(o,s)}createSegments(n,e,r,i){return e.map(o=>o.path[0]===":"?this.findPosParam(n,o,i):this.findOrReturn(o,r))}findPosParam(n,e,r){let i=r[e.path.substring(1)];if(!i)throw new C(4001,!1);return i}findOrReturn(n,e){let r=0;for(let i of e){if(i.path===n.path)return e.splice(r),i;r++}return n}},vf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function WS(t,n,e,r,i){let o=cy(t,n,e);return o.matched?(r=mS(n,r),zS(r,n,e,i).pipe(z(s=>s===!0?o:w({},vf)))):R(o)}function cy(t,n,e){if(n.path==="**")return ZS(e);if(n.path==="")return n.pathMatch==="full"&&(t.hasChildren()||e.length>0)?w({},vf):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let i=(n.matcher||jv)(e,t,n);if(!i)return w({},vf);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?w(w({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function ZS(t){return{matched:!0,parameters:t.length>0?Uv(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Pv(t,n,e,r){return e.length>0&&QS(t,e,r)?{segmentGroup:new Y(n,KS(r,new Y(e,t.children))),slicedSegments:[]}:e.length===0&&JS(t,e,r)?{segmentGroup:new Y(t.segments,YS(t,e,r,t.children)),slicedSegments:e}:{segmentGroup:new Y(t.segments,t.children),slicedSegments:e}}function YS(t,n,e,r){let i={};for(let o of e)if(wl(t,n,o)&&!r[yt(o)]){let s=new Y([],{});i[yt(o)]=s}return w(w({},r),i)}function KS(t,n){let e={};e[F]=n;for(let r of t)if(r.path===""&&yt(r)!==F){let i=new Y([],{});e[yt(r)]=i}return e}function QS(t,n,e){return e.some(r=>wl(t,n,r)&&yt(r)!==F)}function JS(t,n,e){return e.some(r=>wl(t,n,r))}function wl(t,n,e){return(t.hasChildren()||n.length>0)&&e.pathMatch==="full"?!1:e.path===""}function XS(t,n,e){return n.length===0&&!t.children[e]}var yf=class{};function eM(t,n,e,r,i,o,s="emptyOnly"){return new _f(t,n,e,r,i,s,o).recognize()}var tM=31,_f=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,e,r,i,o,s,a){this.injector=n,this.configLoader=e,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new mf(this.urlSerializer,this.urlTree)}noMatchError(n){return new C(4002,`'${n.segmentGroup}'`)}recognize(){let n=Pv(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(z(({children:e,rootSnapshot:r})=>{let i=new We(r,e),o=new vo("",i),s=Yv(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(n){let e=new Zn([],Object.freeze({}),Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),F,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,F,e).pipe(z(r=>({children:r,rootSnapshot:e})),Wt(r=>{if(r instanceof wo)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof _o?this.noMatchError(r):r}))}processSegmentGroup(n,e,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(n,e,r,o):this.processSegment(n,e,r,r.segments,i,!0,o).pipe(z(s=>s instanceof We?[s]:[]))}processChildren(n,e,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return ie(o).pipe(sn(s=>{let a=r.children[s],l=vS(e,s);return this.processSegmentGroup(n,l,a,s,i)}),Yc((s,a)=>(s.push(...a),s)),an(null),Zc(),le(s=>{if(s===null)return Yr(r);let a=uy(s);return nM(a),R(a)}))}processSegment(n,e,r,i,o,s,a){return ie(e).pipe(sn(l=>this.processSegmentAgainstRoute(l._injector??n,e,l,r,i,o,s,a).pipe(Wt(c=>{if(c instanceof _o)return R(null);throw c}))),Yt(l=>!!l),Wt(l=>{if(ay(l))return XS(r,i,o)?R(new yf):Yr(r);throw l}))}processSegmentAgainstRoute(n,e,r,i,o,s,a,l){return yt(r)!==s&&(s===F||!wl(i,o,r))?Yr(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(n,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,i,e,r,o,s,l):Yr(i)}expandSegmentAgainstRouteUsingRedirect(n,e,r,i,o,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:p}=cy(e,i,o);if(!l)return Yr(e);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>tM&&(this.allowRedirects=!1));let f=new Zn(o,c,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,Fv(i),yt(i),i.component??i._loadedComponent??null,i,Lv(i)),g=ml(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(g.params),f.data=Object.freeze(g.data);let _=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,f,n);return this.applyRedirects.lineralizeSegments(i,_).pipe(le(b=>this.processSegment(n,r,e,b.concat(p),s,!1,a)))}matchSegmentAgainstRoute(n,e,r,i,o,s){let a=WS(e,r,i,n,this.urlSerializer);return r.path==="**"&&(e.children={}),a.pipe(Ke(l=>l.matched?(n=r._injector??n,this.getChildConfig(n,r,i).pipe(Ke(({routes:c})=>{let u=r._loadedInjector??n,{parameters:d,consumedSegments:p,remainingSegments:f}=l,g=new Zn(p,d,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,Fv(r),yt(r),r.component??r._loadedComponent??null,r,Lv(r)),_=ml(g,s,this.paramsInheritanceStrategy);g.params=Object.freeze(_.params),g.data=Object.freeze(_.data);let{segmentGroup:b,slicedSegments:I}=Pv(e,p,f,c);if(I.length===0&&b.hasChildren())return this.processChildren(u,c,b,g).pipe(z(ve=>new We(g,ve)));if(c.length===0&&I.length===0)return R(new We(g,[]));let fe=yt(r)===o;return this.processSegment(u,c,b,I,fe?F:o,!0,g).pipe(z(ve=>new We(g,ve instanceof We?[ve]:[])))}))):Yr(e)))}getChildConfig(n,e,r){return e.children?R({routes:e.children,injector:n}):e.loadChildren?e._loadedRoutes!==void 0?R({routes:e._loadedRoutes,injector:e._loadedInjector}):HS(n,e,r,this.urlSerializer).pipe(le(i=>i?this.configLoader.loadChildren(n,e).pipe(Ee(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):GS(e))):R({routes:[],injector:n})}};function nM(t){t.sort((n,e)=>n.value.outlet===F?-1:e.value.outlet===F?1:n.value.outlet.localeCompare(e.value.outlet))}function rM(t){let n=t.value.routeConfig;return n&&n.path===""}function uy(t){let n=[],e=new Set;for(let r of t){if(!rM(r)){n.push(r);continue}let i=n.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),e.add(i)):n.push(r)}for(let r of e){let i=uy(r.children);n.push(new We(r.value,i))}return n.filter(r=>!e.has(r))}function Fv(t){return t.data||{}}function Lv(t){return t.resolve||{}}function iM(t,n,e,r,i,o){return le(s=>eM(t,n,e,r,s.extractedUrl,i,o).pipe(z(({state:a,tree:l})=>$(w({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function oM(t,n){return le(e=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return R(e);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of dy(l))s.add(c);let a=0;return ie(s).pipe(sn(l=>o.has(l)?sM(l,r,t,n):(l.data=ml(l,l.parent,t).resolve,R(void 0))),Ee(()=>a++),Dr(1),le(l=>a===s.size?R(e):Ne))})}function dy(t){let n=t.children.map(e=>dy(e)).flat();return[t,...n]}function sM(t,n,e,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!ny(i)&&(o[bo]=i.title),aM(o,t,n,r).pipe(z(s=>(t._resolvedData=s,t.data=ml(t,t.parent,e).resolve,null)))}function aM(t,n,e,r){let i=af(t);if(i.length===0)return R({});let o={};return ie(i).pipe(le(s=>lM(t[s],n,e,r).pipe(Yt(),Ee(a=>{if(a instanceof ri)throw vl(new vn,a);o[s]=a}))),Dr(1),z(()=>o),Wt(s=>ay(s)?Ne:_r(s)))}function lM(t,n,e,r){let i=Do(n)??r,o=oi(t,i),s=o.resolve?o.resolve(n,e):tt(i,()=>o(n,e));return wn(s)}function of(t){return Ke(n=>{let e=t(n);return e?ie(e).pipe(z(()=>n)):R(n)})}var Ef=(()=>{class t{buildTitle(e){let r,i=e.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===F);return r}getResolvedTitleForRoute(e){return e.data[bo]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=E({token:t,factory:()=>m(fy),providedIn:"root"})}return t})(),fy=(()=>{class t extends Ef{title;constructor(e){super(),this.title=e}updateTitle(e){let r=this.buildTitle(e);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(N(Av))};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Jn=new S("",{providedIn:"root",factory:()=>({})}),Xn=new S(""),bl=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=m(av);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return R(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let r=wn(e.loadComponent()).pipe(z(py),Ee(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Pi(()=>{this.componentLoaders.delete(e)})),i=new yr(r,()=>new pe).pipe(vr());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return R({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=hy(r,this.compiler,e,this.onLoadEndListener).pipe(Pi(()=>{this.childrenLoaders.delete(r)})),s=new yr(o,()=>new pe).pipe(vr());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function hy(t,n,e,r){return wn(t.loadChildren()).pipe(z(py),le(i=>i instanceof Pd||Array.isArray(i)?R(i):ie(n.compileModuleAsync(i))),z(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(e).injector,s=o.get(Xn,[],{optional:!0,self:!0}).flat()),{routes:s.map(Cf),injector:o}}))}function cM(t){return t&&typeof t=="object"&&"default"in t}function py(t){return cM(t)?t.default:t}var Dl=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=E({token:t,factory:()=>m(uM),providedIn:"root"})}return t})(),uM=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static \u0275fac=function(r){return new(r||t)};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),If=new S(""),Sf=new S("");function gy(t,n,e){let r=t.get(Sf),i=t.get(be);return t.get(ce).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,s=new Promise(c=>{o=c}),a=i.startViewTransition(()=>(o(),dM(t))),{onViewTransitionCreated:l}=r;return l&&tt(t,()=>l({transition:a,from:n,to:e})),s})}function dM(t){return new Promise(n=>{_d({read:()=>setTimeout(n)},{injector:t})})}var Mf=new S(""),Cl=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new pe;transitionAbortSubject=new pe;configLoader=m(bl);environmentInjector=m(Pe);destroyRef=m(Ki);urlSerializer=m(Kn);rootContexts=m(Qn);location=m(pn);inputBindingEnabled=m(Eo,{optional:!0})!==null;titleStrategy=m(Ef);options=m(Jn,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=m(Dl);createViewTransition=m(If,{optional:!0});navigationErrorHandler=m(Mf,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>R(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=i=>this.events.next(new ll(i)),r=i=>this.events.next(new cl(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let r=++this.navigationId;this.transitions?.next($(w({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(e){return this.transitions=new Ce(null),this.transitions.pipe(qe(r=>r!==null),Ke(r=>{let i=!1,o=!1;return R(r).pipe(Ke(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",$e.SupersededByNewNavigation),Ne;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?$(w({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!a&&l!=="reload"){let c="";return this.events.next(new Vt(s.id,this.urlSerializer.serialize(s.rawUrl),c,Xr.IgnoredSameUrlNavigation)),s.resolve(!1),Ne}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return R(s).pipe(Ke(c=>(this.events.next(new _n(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?Ne:Promise.resolve(c))),iM(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),Ee(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=$(w({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let u=new po(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:c,extractedUrl:u,source:d,restoredState:p,extras:f}=s,g=new _n(c,this.urlSerializer.serialize(u),d,p);this.events.next(g);let _=ey(this.rootComponentType).snapshot;return this.currentTransition=r=$(w({},s),{targetSnapshot:_,urlAfterRedirects:u,extras:$(w({},f),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,R(r)}else{let c="";return this.events.next(new Vt(s.id,this.urlSerializer.serialize(s.extractedUrl),c,Xr.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Ne}}),Ee(s=>{let a=new il(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),z(s=>(this.currentTransition=r=$(w({},s),{guards:ES(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),PS(this.environmentInjector,s=>this.events.next(s)),Ee(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw vl(this.urlSerializer,s.guardsResult);let a=new ol(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),qe(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",$e.GuardRejected),!1)),of(s=>{if(s.guards.canActivateChecks.length!==0)return R(s).pipe(Ee(a=>{let l=new sl(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),Ke(a=>{let l=!1;return R(a).pipe(oM(this.paramsInheritanceStrategy,this.environmentInjector),Ee({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(a,"",$e.NoDataFromResolver)}}))}),Ee(a=>{let l=new al(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),of(s=>{let a=l=>{let c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(Ee(u=>{l.component=u}),z(()=>{})));for(let u of l.children)c.push(...a(u));return c};return ki(a(s.targetSnapshot.root)).pipe(an(null),Zt(1))}),of(()=>this.afterPreactivation()),Ke(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,l=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return l?ie(l).pipe(z(()=>r)):R(r)}),z(s=>{let a=_S(e.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=$(w({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),Ee(()=>{this.events.next(new go)}),CS(this.rootContexts,e.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Zt(1),Ee({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new rt(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Qc(this.transitionAbortSubject.pipe(Ee(s=>{throw s}))),Pi(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",$e.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Wt(s=>{if(this.destroyed)return r.resolve(!1),Ne;if(o=!0,sy(s))this.events.next(new Lt(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),DS(s)?this.events.next(new ni(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new ei(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let l=tt(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(l instanceof ri){let{message:c,cancellationCode:u}=vl(this.urlSerializer,l);this.events.next(new Lt(r.id,this.urlSerializer.serialize(r.extractedUrl),c,u)),this.events.next(new ni(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return Ne}))}))}cancelNavigationTransition(e,r,i){let o=new Lt(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function fM(t){return t!==tl}var my=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=E({token:t,factory:()=>m(hM),providedIn:"root"})}return t})(),_l=class{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}},hM=(()=>{class t extends _l{static \u0275fac=(()=>{let e;return function(i){return(e||(e=un(t)))(i||t)}})();static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),vy=(()=>{class t{urlSerializer=m(Kn);options=m(Jn,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=m(pn);urlHandlingStrategy=m(Dl);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new jt;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:r,targetBrowserUrl:i}){let o=e!==void 0?this.urlHandlingStrategy.merge(e,r):r,s=i??o;return s instanceof jt?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:e,finalUrl:r,initialUrl:i}){r&&e?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=e):this.rawUrlTree=i}routerState=ey(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=E({token:t,factory:()=>m(pM),providedIn:"root"})}return t})(),pM=(()=>{class t extends vy{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{e(r.url,r.state,"popstate")})})}handleRouterEvent(e,r){e instanceof _n?this.updateStateMemento():e instanceof Vt?this.commitTransition(r):e instanceof po?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof go?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof Lt&&(e.code===$e.GuardRejected||e.code===$e.NoDataFromResolver)?this.restoreHistory(r):e instanceof ei?this.restoreHistory(r,!0):e instanceof rt&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(e)||o){let a=this.browserPageId,l=w(w({},s),this.generateNgRouterState(i,a));this.location.replaceState(e,"",l)}else{let a=w(w({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(e,"",a)}}restoreHistory(e,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===e.finalUrl&&o===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=un(t)))(i||t)}})();static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function El(t,n){t.events.pipe(qe(e=>e instanceof rt||e instanceof Lt||e instanceof ei||e instanceof Vt),z(e=>e instanceof rt||e instanceof Vt?0:(e instanceof Lt?e.code===$e.Redirect||e.code===$e.SupersededByNewNavigation:!1)?2:1),qe(e=>e!==2),Zt(1)).subscribe(()=>{n()})}var gM={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},mM={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},De=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=m(ev);stateManager=m(vy);options=m(Jn,{optional:!0})||{};pendingTasks=m(Br);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=m(Cl);urlSerializer=m(Kn);location=m(pn);urlHandlingStrategy=m(Dl);_events=new pe;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=m(my);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=m(Xn,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!m(Eo,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new he;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Lt&&r.code!==$e.Redirect&&r.code!==$e.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof rt)this.navigated=!0;else if(r instanceof ni){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=w({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||fM(i.source)},s);this.scheduleNavigation(a,tl,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}yM(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),tl,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,r,i)=>{this.navigateToSyncWithBrowser(e,i,r)})}navigateToSyncWithBrowser(e,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=w({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(e);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Cf),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=w(w({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let p=i?i.snapshot:this.routerState.snapshot.root;d=Kv(p)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),d=this.currentUrlTree.root}return Qv(d,e,u,c??null)}navigateByUrl(e,r={skipLocationChange:!1}){let i=yn(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,tl,null,r)}navigate(e,r={skipLocationChange:!1}){return vM(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,r){let i;if(r===!0?i=w({},gM):r===!1?i=w({},mM):i=r,yn(e))return Nv(this.currentUrlTree,e,i);let o=this.parseUrl(e);return Nv(this.currentUrlTree,o,i)}removeEmptyProps(e){return Object.entries(e).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(e,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,p)=>{a=d,l=p});let u=this.pendingTasks.add();return El(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function vM(t){for(let n=0;n<t.length;n++)if(t[n]==null)throw new C(4008,!1)}function yM(t){return!(t instanceof go)&&!(t instanceof ni)}var Il=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new pe;constructor(e,r,i,o,s,a){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof rt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(yn(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let r=this.href===null?null:mm(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(e,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,e,r):i.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:yn(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(M(De),M(Ut),dd("tabindex"),M(en),M(At),M(mt))};static \u0275dir=se({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&U("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Hn("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",hn],skipLocationChange:[2,"skipLocationChange","skipLocationChange",hn],replaceUrl:[2,"replaceUrl","replaceUrl",hn],routerLink:"routerLink"},features:[Tt]})}return t})();var So=class{};var yy=(()=>{class t{router;injector;preloadingStrategy;loader;subscription;constructor(e,r,i,o){this.router=e,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(qe(e=>e instanceof rt),sn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Ji(o.providers,e,`Route: ${o.path}`));let s=o._injector??e,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return ie(i).pipe(wr())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(e,r):i=R(null);let o=i.pipe(le(s=>s===null?R(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return ie([o,s]).pipe(wr())}else return o})}static \u0275fac=function(r){return new(r||t)(N(De),N(Pe),N(So),N(bl))};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),_y=new S(""),_M=(()=>{class t{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(e,r,i,o,s={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof _n?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof rt?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Vt&&e.code===Xr.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof ti&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ti(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){qm()};static \u0275prov=E({token:t,factory:t.\u0275fac})}return t})();function xf(t,...n){return Ia([{provide:Xn,multi:!0,useValue:t},[],{provide:Ut,useFactory:wy,deps:[De]},{provide:Fa,multi:!0,useFactory:by},n.map(e=>e.\u0275providers)])}function wy(t){return t.routerState.root}function Mo(t,n){return{\u0275kind:t,\u0275providers:n}}function by(){let t=m(Ge);return n=>{let e=t.get(Vn);if(n!==e.components[0])return;let r=t.get(De),i=t.get(Dy);t.get(Af)===1&&r.initialNavigation(),t.get(Iy,null,L.Optional)?.setUpPreloading(),t.get(_y,null,L.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Dy=new S("",{factory:()=>new pe}),Af=new S("",{providedIn:"root",factory:()=>1});function Cy(){let t=[{provide:Af,useValue:0},Ld(()=>{let n=m(Ge);return n.get($d,Promise.resolve()).then(()=>new Promise(r=>{let i=n.get(De),o=n.get(Dy);El(i,()=>{r(!0)}),n.get(Cl).afterPreactivation=()=>(r(!0),o.closed?R(void 0):o),i.initialNavigation()}))})];return Mo(2,t)}function Ey(){let t=[Ld(()=>{m(De).setUpLocationChangeListener()}),{provide:Af,useValue:2}];return Mo(3,t)}var Iy=new S("");function Sy(t){return Mo(0,[{provide:Iy,useExisting:yy},{provide:So,useExisting:t}])}function My(){return Mo(8,[bf,{provide:Eo,useExisting:bf}])}function Ty(t){Gr("NgRouterViewTransitions");let n=[{provide:If,useValue:gy},{provide:Sf,useValue:w({skipNextTransition:!!t?.skipInitialTransition},t)}];return Mo(9,n)}var xy=[pn,{provide:Kn,useClass:vn},De,Qn,{provide:Ut,useFactory:wy,deps:[De]},bl,[]],Nf=(()=>{class t{constructor(){}static forRoot(e,r){return{ngModule:t,providers:[xy,[],{provide:Xn,multi:!0,useValue:e},[],r?.errorHandler?{provide:Mf,useValue:r.errorHandler}:[],{provide:Jn,useValue:r||{}},r?.useHash?bM():DM(),wM(),r?.preloadingStrategy?Sy(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?CM(r):[],r?.bindToComponentInputs?My().\u0275providers:[],r?.enableViewTransitions?Ty().\u0275providers:[],EM()]}}static forChild(e){return{ngModule:t,providers:[{provide:Xn,multi:!0,useValue:e}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Nt({type:t});static \u0275inj=Mt({})}return t})();function wM(){return{provide:_y,useFactory:()=>{let t=m(bv),n=m(ce),e=m(Jn),r=m(Cl),i=m(Kn);return e.scrollOffset&&t.setOffset(e.scrollOffset),new _M(i,r,t,n,e)}}}function bM(){return{provide:mt,useClass:Hd}}function DM(){return{provide:mt,useClass:Ba}}function CM(t){return[t.initialNavigation==="disabled"?Ey().\u0275providers:[],t.initialNavigation==="enabledBlocking"?Cy().\u0275providers:[]]}var Tf=new S("");function EM(){return[{provide:Tf,useFactory:by},{provide:Fa,multi:!0,useExisting:Tf}]}var Ay=t=>{let n;return t?n=t:typeof fetch>"u"?n=(...e)=>import("./chunk-X2RIVRQM.js").then(({default:r})=>r(...e)):n=fetch,(...e)=>n(...e)};var To=class extends Error{constructor(n,e="FunctionsError",r){super(n),this.name=e,this.context=r}},Sl=class extends To{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}},Ml=class extends To{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}},Tl=class extends To{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}},Of=function(t){return t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2",t}(Of||{});var IM=function(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})},xo=class{constructor(n,{headers:e={},customFetch:r,region:i=Of.Any}={}){this.url=n,this.headers=e,this.region=i,this.fetch=Ay(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,e={}){var r;return IM(this,void 0,void 0,function*(){try{let{headers:i,method:o,body:s}=e,a={},{region:l}=e;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=s):typeof s=="string"?(a["Content-Type"]="text/plain",c=s):typeof FormData<"u"&&s instanceof FormData?c=s:(a["Content-Type"]="application/json",c=JSON.stringify(s)));let u=yield this.fetch(`${this.url}/${n}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:c}).catch(g=>{throw new Sl(g)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new Ml(u);if(!u.ok)throw new Tl(u);let p=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),f;return p==="application/json"?f=yield u.json():p==="application/octet-stream"?f=yield u.blob():p==="text/event-stream"?f=u:p==="multipart/form-data"?f=yield u.formData():f=yield u.text(),{data:f,error:null}}catch(i){return{data:null,error:i}}})}};var Hy=Ew(By(),1),{PostgrestClient:zy,PostgrestQueryBuilder:vj,PostgrestFilterBuilder:yj,PostgrestTransformBuilder:_j,PostgrestBuilder:wj,PostgrestError:LM}=Hy.default;var qf;typeof window>"u"?qf=Gy():qf=window.WebSocket;var Wy=qf;var Zy="2.11.10";var Yy={"X-Client-Info":`realtime-js/${Zy}`},Ky="1.0.0";var Rl=1e4,Qy=1e3,ai=function(t){return t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed",t}(ai||{}),Ae=function(t){return t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving",t}(Ae||{}),it=function(t){return t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token",t}(it||{}),Gf=function(t){return t.websocket="websocket",t}(Gf||{}),er=function(t){return t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed",t}(er||{});var Ol=class{constructor(){this.HEADER_LENGTH=1}decode(n,e){return n.constructor===ArrayBuffer?e(this._binaryDecode(n)):e(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){let e=new DataView(n),r=new TextDecoder;return this._decodeBroadcast(n,e,r)}_decodeBroadcast(n,e,r){let i=e.getUint8(1),o=e.getUint8(2),s=this.HEADER_LENGTH+2,a=r.decode(n.slice(s,s+i));s=s+i;let l=r.decode(n.slice(s,s+o));s=s+o;let c=JSON.parse(r.decode(n.slice(s,n.byteLength)));return{ref:null,topic:a,event:l,payload:c}}};var li=class{constructor(n,e){this.callback=n,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var re=function(t){return t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange",t}(re||{}),Zf=(t,n,e={})=>{var r;let i=(r=e.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(n).reduce((o,s)=>(o[s]=jM(s,t,n,i),o),{})},jM=(t,n,e,r)=>{let i=n.find(a=>a.name===t),o=i?.type,s=e[t];return o&&!r.includes(o)?Jy(o,s):Wf(s)},Jy=(t,n)=>{if(t.charAt(0)==="_"){let e=t.slice(1,t.length);return BM(n,e)}switch(t){case re.bool:return VM(n);case re.float4:case re.float8:case re.int2:case re.int4:case re.int8:case re.numeric:case re.oid:return UM(n);case re.json:case re.jsonb:return $M(n);case re.timestamp:return HM(n);case re.abstime:case re.date:case re.daterange:case re.int4range:case re.int8range:case re.money:case re.reltime:case re.text:case re.time:case re.timestamptz:case re.timetz:case re.tsrange:case re.tstzrange:return Wf(n);default:return Wf(n)}},Wf=t=>t,VM=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},UM=t=>{if(typeof t=="string"){let n=parseFloat(t);if(!Number.isNaN(n))return n}return t},$M=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(n){return console.log(`JSON parse error: ${n}`),t}return t},BM=(t,n)=>{if(typeof t!="string")return t;let e=t.length-1,r=t[e];if(t[0]==="{"&&r==="}"){let o,s=t.slice(1,e);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>Jy(n,a))}return t},HM=t=>typeof t=="string"?t.replace(" ","T"):t,kl=t=>{let n=t;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")};var ci=class{constructor(n,e,r={},i=Rl){this.channel=n,this.event=e,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,e){var r;return this._hasReceived(n)&&e((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:n,callback:e}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let n=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:e}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(e))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}};var Fo=class t{constructor(n,e){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=e?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=t.syncState(this.state,i,o,s),this.pendingDiffs.forEach(l=>{this.state=t.syncDiff(this.state,l,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=t.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,e,r,i){let o=this.cloneDeep(n),s=this.transformState(e),a={},l={};return this.map(o,(c,u)=>{s[c]||(l[c]=u)}),this.map(s,(c,u)=>{let d=o[c];if(d){let p=u.map(b=>b.presence_ref),f=d.map(b=>b.presence_ref),g=u.filter(b=>f.indexOf(b.presence_ref)<0),_=d.filter(b=>p.indexOf(b.presence_ref)<0);g.length>0&&(a[c]=g),_.length>0&&(l[c]=_)}else a[c]=u}),this.syncDiff(o,{joins:a,leaves:l},r,i)}static syncDiff(n,e,r,i){let{joins:o,leaves:s}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,l)=>{var c;let u=(c=n[a])!==null&&c!==void 0?c:[];if(n[a]=this.cloneDeep(l),u.length>0){let d=n[a].map(f=>f.presence_ref),p=u.filter(f=>d.indexOf(f.presence_ref)<0);n[a].unshift(...p)}r(a,u,l)}),this.map(s,(a,l)=>{let c=n[a];if(!c)return;let u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),n[a]=c,i(a,c,l),c.length===0&&delete n[a]}),n}static map(n,e){return Object.getOwnPropertyNames(n).map(r=>e(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((e,r)=>{let i=n[r];return"metas"in i?e[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):e[r]=i,e},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var tn=function(t){return t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR",t}(tn||{});var Lo=class t{constructor(n,e={config:{}},r){this.topic=n,this.params=e,this.socket=r,this.bindings={},this.state=Ae.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},e.config),this.timeout=this.socket.timeout,this.joinPush=new ci(this,it.join,this.params,this.timeout),this.rejoinTimer=new li(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ae.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ae.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ae.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ae.errored,this.rejoinTimer.scheduleTimeout())}),this._on(it.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new Fo(this),this.broadcastEndpointURL=kl(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(n,e=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:o,presence:s,private:a}}=this.params;this._onError(u=>n?.(tn.CHANNEL_ERROR,u)),this._onClose(()=>n?.(tn.CLOSED));let l={},c={broadcast:o,presence:s,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",d=>h(this,[d],function*({postgres_changes:u}){var p;if(this.socket.setAuth(),u===void 0){n?.(tn.SUBSCRIBED);return}else{let f=this.bindings.postgres_changes,g=(p=f?.length)!==null&&p!==void 0?p:0,_=[];for(let b=0;b<g;b++){let I=f[b],{filter:{event:fe,schema:ve,table:A,filter:ne}}=I,ct=u&&u[b];if(ct&&ct.event===fe&&ct.schema===ve&&ct.table===A&&ct.filter===ne)_.push(Object.assign(Object.assign({},I),{id:ct.id}));else{this.unsubscribe(),this.state=Ae.errored,n?.(tn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,n&&n(tn.SUBSCRIBED);return}})).receive("error",u=>{this.state=Ae.errored,n?.(tn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{n?.(tn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return h(this,arguments,function*(n,e={}){return yield this.send({type:"presence",event:"track",payload:n},e.timeout||this.timeout)})}untrack(){return h(this,arguments,function*(n={}){return yield this.send({type:"presence",event:"untrack"},n)})}on(n,e,r){return this._on(n,e,r)}send(r){return h(this,arguments,function*(n,e={}){var i,o;if(!this._canPush()&&n.type==="broadcast"){let{event:s,payload:a}=n,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{let u=yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=e.timeout)!==null&&i!==void 0?i:this.timeout);return yield(o=u.body)===null||o===void 0?void 0:o.cancel(),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,c;let u=this._push(n.type,n,e.timeout||this.timeout);n.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Ae.leaving;let e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(it.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{let i=new ci(this,it.leave,{},n);i.receive("ok",()=>{e(),r("ok")}).receive("timeout",()=>{e(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}_fetchWithTimeout(n,e,r){return h(this,null,function*(){let i=new AbortController,o=setTimeout(()=>i.abort(),r),s=yield this.socket.fetch(n,Object.assign(Object.assign({},e),{signal:i.signal}));return clearTimeout(o),s})}_push(n,e,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new ci(this,n,e,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(n,e,r){return e}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,e,r){var i,o;let s=n.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=it;if(r&&[a,l,c,u].indexOf(s)>=0&&r!==this._joinRef())return;let p=this._onMessage(s,e,r);if(e&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var g,_,b;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((b=(_=f.filter)===null||_===void 0?void 0:_.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===s}).map(f=>f.callback(p,r)):(o=this.bindings[s])===null||o===void 0||o.filter(f=>{var g,_,b,I,fe,ve;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){let A=f.id,ne=(g=f.filter)===null||g===void 0?void 0:g.event;return A&&((_=e.ids)===null||_===void 0?void 0:_.includes(A))&&(ne==="*"||ne?.toLocaleLowerCase()===((b=e.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{let A=(fe=(I=f?.filter)===null||I===void 0?void 0:I.event)===null||fe===void 0?void 0:fe.toLocaleLowerCase();return A==="*"||A===((ve=e?.event)===null||ve===void 0?void 0:ve.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof p=="object"&&"ids"in p){let g=p.data,{schema:_,table:b,commit_timestamp:I,type:fe,errors:ve}=g;p=Object.assign(Object.assign({},{schema:_,table:b,commit_timestamp:I,eventType:fe,new:{},old:{},errors:ve}),this._getPayloadRecords(g))}f.callback(p,r)})}_isClosed(){return this.state===Ae.closed}_isJoined(){return this.state===Ae.joined}_isJoining(){return this.state===Ae.joining}_isLeaving(){return this.state===Ae.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,e,r){let i=n.toLocaleLowerCase(),o={type:i,filter:e,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(n,e){let r=n.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&t.isEqual(i.filter,e))}),this}static isEqual(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(let r in n)if(n[r]!==e[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(it.close,{},n)}_onError(n){this._on(it.error,{},e=>n(e))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ae.joining,this.joinPush.resend(n))}_getPayloadRecords(n){let e={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(e.new=Zf(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(e.old=Zf(n.columns,n.old_record)),e}};var Xy=()=>{},qM=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,jo=class{constructor(n,e){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=Yy,this.params={},this.timeout=Rl,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Xy,this.ref=0,this.logger=Xy,this.conn=null,this.sendBuffer=[],this.serializer=new Ol,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...a)=>import("./chunk-X2RIVRQM.js").then(({default:l})=>l(...a)):s=fetch,(...a)=>s(...a)},this.endPoint=`${n}/${Gf.websocket}`,this.httpEndpoint=kl(n),e?.transport?this.transport=e.transport:this.transport=null,e?.params&&(this.params=e.params),e?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),e.headers)),e?.timeout&&(this.timeout=e.timeout),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),e?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=e.heartbeatIntervalMs);let i=(r=e?.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=e?.reconnectAfterMs?e.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=e?.encode?e.encode:(o,s)=>s(JSON.stringify(o)),this.decode=e?.decode?e.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new li(()=>h(this,null,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(e?.fetch),e?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=e?.worker||!1,this.workerUrl=e?.workerUrl}this.accessToken=e?.accessToken||null}connect(){if(!this.conn){if(this.transport||(this.transport=Wy),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new Yf(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Ky}))}disconnect(n,e){this.conn&&(this.conn.onclose=function(){},n?this.conn.close(n,e??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}removeChannel(n){return h(this,null,function*(){let e=yield n.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==n._joinRef),this.channels.length===0&&this.disconnect(),e})}removeAllChannels(){return h(this,null,function*(){let n=yield Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),n})}log(n,e,r){this.logger(n,e,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ai.connecting:return er.Connecting;case ai.open:return er.Open;case ai.closing:return er.Closing;default:return er.Closed}}isConnected(){return this.connectionState()===er.Open}channel(n,e={config:{}}){let r=`realtime:${n}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{let o=new Lo(`realtime:${n}`,e,this);return this.channels.push(o),o}}push(n){let{topic:e,event:r,payload:i,ref:o}=n,s=()=>{this.encode(n,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${e} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(n=null){return h(this,null,function*(){let e=n||this.accessToken&&(yield this.accessToken())||this.accessTokenValue;this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(r=>{e&&r.updateJoinPayload({access_token:e,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(it.access_token,{access_token:e})}))})}sendHeartbeat(){return h(this,null,function*(){var n;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(n=this.conn)===null||n===void 0||n.close(Qy,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),yield this.setAuth()})}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let e=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));e&&(this.log("transport",`leaving duplicate topic "${n}"`),e.unsubscribe())}_remove(n){this.channels=this.channels.filter(e=>e.topic!==n.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_onConnMessage(n){this.decode(n.data,e=>{let{topic:r,event:i,payload:o,ref:s}=e;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(e.payload.status=="ok"?"ok":"error"),s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${i} ${s&&"("+s+")"||""}`,o),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,o,s)),this.stateChangeCallbacks.message.forEach(a=>a(e))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{e.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(n=>n())}_onConnClose(n){this.log("transport","close",n),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(e=>e(n))}_onConnError(n){this.log("transport",n.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(e=>e(n))}_triggerChanError(){this.channels.forEach(n=>n._trigger(it.error))}_appendParams(n,e){if(Object.keys(e).length===0)return n;let r=n.match(/\?/)?"&":"?",i=new URLSearchParams(e);return`${n}${r}${i}`}_workerObjectUrl(n){let e;if(n)e=n;else{let r=new Blob([qM],{type:"application/javascript"});e=URL.createObjectURL(r)}return e}};var Yf=class{constructor(n,e,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ai.connecting,this.send=()=>{},this.url=null,this.url=n,this.close=r.close}};var ui=class extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}};function me(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Pl=class extends ui{constructor(n,e){super(n),this.name="StorageApiError",this.status=e}toJSON(){return{name:this.name,message:this.message,status:this.status}}},tr=class extends ui{constructor(n,e){super(n),this.name="StorageUnknownError",this.originalError=e}};var GM=function(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})},Ll=t=>{let n;return t?n=t:typeof fetch>"u"?n=(...e)=>import("./chunk-X2RIVRQM.js").then(({default:r})=>r(...e)):n=fetch,(...e)=>n(...e)},e_=()=>GM(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-X2RIVRQM.js")).Response:Response}),Fl=t=>{if(Array.isArray(t))return t.map(e=>Fl(e));if(typeof t=="function"||t!==Object(t))return t;let n={};return Object.entries(t).forEach(([e,r])=>{let i=e.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));n[i]=Fl(r)}),n};var nr=function(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})},Kf=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),WM=(t,n,e)=>nr(void 0,void 0,void 0,function*(){let r=yield e_();t instanceof r&&!e?.noResolveJson?t.json().then(i=>{n(new Pl(Kf(i),t.status||500))}).catch(i=>{n(new tr(Kf(i),i))}):n(new tr(Kf(t),t))}),ZM=(t,n,e,r)=>{let i={method:t,headers:n?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},n?.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),e))};function Vo(t,n,e,r,i,o){return nr(this,void 0,void 0,function*(){return new Promise((s,a)=>{t(e,ZM(n,r,i,o)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>WM(l,a,r))})})}function di(t,n,e,r){return nr(this,void 0,void 0,function*(){return Vo(t,"GET",n,e,r)})}function $t(t,n,e,r,i){return nr(this,void 0,void 0,function*(){return Vo(t,"POST",n,r,i,e)})}function t_(t,n,e,r,i){return nr(this,void 0,void 0,function*(){return Vo(t,"PUT",n,r,i,e)})}function n_(t,n,e,r){return nr(this,void 0,void 0,function*(){return Vo(t,"HEAD",n,Object.assign(Object.assign({},e),{noResolveJson:!0}),r)})}function jl(t,n,e,r,i){return nr(this,void 0,void 0,function*(){return Vo(t,"DELETE",n,r,i,e)})}var Be=function(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})},YM={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},r_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},Vl=class{constructor(n,e={},r,i){this.url=n,this.headers=e,this.bucketId=r,this.fetch=Ll(i)}uploadOrUpdate(n,e,r,i){return Be(this,void 0,void 0,function*(){try{let o,s=Object.assign(Object.assign({},r_),i),a=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(s.upsert)}),l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));let c=this._removeEmptyFolders(e),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:n,body:o,headers:a},s?.duplex?{duplex:s.duplex}:{})),p=yield d.json();return d.ok?{data:{path:c,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(o){if(me(o))return{data:null,error:o};throw o}})}upload(n,e,r){return Be(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,e,r)})}uploadToSignedUrl(n,e,r,i){return Be(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(n),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",e);try{let l,c=Object.assign({upsert:r_.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);let d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),p=yield d.json();return d.ok?{data:{path:o,fullPath:p.Key},error:null}:{data:null,error:p}}catch(l){if(me(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(n,e){return Be(this,void 0,void 0,function*(){try{let r=this._getFinalPath(n),i=Object.assign({},this.headers);e?.upsert&&(i["x-upsert"]="true");let o=yield $t(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new ui("No token returned by API");return{data:{signedUrl:s.toString(),path:n,token:a},error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}})}update(n,e,r){return Be(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,e,r)})}move(n,e,r){return Be(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(me(i))return{data:null,error:i};throw i}})}copy(n,e,r){return Be(this,void 0,void 0,function*(){try{return{data:{path:(yield $t(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(me(i))return{data:null,error:i};throw i}})}createSignedUrl(n,e,r){return Be(this,void 0,void 0,function*(){try{let i=this._getFinalPath(n),o=yield $t(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(me(i))return{data:null,error:i};throw i}})}createSignedUrls(n,e,r){return Be(this,void 0,void 0,function*(){try{let i=yield $t(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:n},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(me(i))return{data:null,error:i};throw i}})}download(n,e){return Be(this,void 0,void 0,function*(){let i=typeof e?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(e?.transform||{}),s=o?`?${o}`:"";try{let a=this._getFinalPath(n);return{data:yield(yield di(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(me(a))return{data:null,error:a};throw a}})}info(n){return Be(this,void 0,void 0,function*(){let e=this._getFinalPath(n);try{let r=yield di(this.fetch,`${this.url}/object/info/${e}`,{headers:this.headers});return{data:Fl(r),error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}})}exists(n){return Be(this,void 0,void 0,function*(){let e=this._getFinalPath(n);try{return yield n_(this.fetch,`${this.url}/object/${e}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(me(r)&&r instanceof tr){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(n,e){let r=this._getFinalPath(n),i=[],o=e?.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&i.push(o);let a=typeof e?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(e?.transform||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(n){return Be(this,void 0,void 0,function*(){try{return{data:yield jl(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(e){if(me(e))return{data:null,error:e};throw e}})}list(n,e,r){return Be(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},YM),e),{prefix:n||""});return{data:yield $t(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(me(i))return{data:null,error:i};throw i}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){let e=[];return n.width&&e.push(`width=${n.width}`),n.height&&e.push(`height=${n.height}`),n.resize&&e.push(`resize=${n.resize}`),n.format&&e.push(`format=${n.format}`),n.quality&&e.push(`quality=${n.quality}`),e.join("&")}};var i_="2.7.1";var o_={"X-Client-Info":`storage-js/${i_}`};var fi=function(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})},Ul=class{constructor(n,e={},r){this.url=n,this.headers=Object.assign(Object.assign({},o_),e),this.fetch=Ll(r)}listBuckets(){return fi(this,void 0,void 0,function*(){try{return{data:yield di(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}})}getBucket(n){return fi(this,void 0,void 0,function*(){try{return{data:yield di(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(e){if(me(e))return{data:null,error:e};throw e}})}createBucket(n,e={public:!1}){return fi(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/bucket`,{id:n,name:n,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}})}updateBucket(n,e){return fi(this,void 0,void 0,function*(){try{return{data:yield t_(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}})}emptyBucket(n){return fi(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(me(e))return{data:null,error:e};throw e}})}deleteBucket(n){return fi(this,void 0,void 0,function*(){try{return{data:yield jl(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(e){if(me(e))return{data:null,error:e};throw e}})}};var Uo=class extends Ul{constructor(n,e={},r){super(n,e,r)}from(n){return new Vl(this.url,this.headers,n,this.fetch)}};var s_="2.50.0";var $o="";typeof Deno<"u"?$o="deno":typeof document<"u"?$o="web":typeof navigator<"u"&&navigator.product==="ReactNative"?$o="react-native":$o="node";var KM={"X-Client-Info":`supabase-js-${$o}/${s_}`},a_={headers:KM},l_={schema:"public"},c_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},u_={};Ch();var QM=function(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})},JM=t=>{let n;return t?n=t:typeof fetch>"u"?n=bh:n=fetch,(...e)=>n(...e)},XM=()=>typeof Headers>"u"?Dh:Headers,d_=(t,n,e)=>{let r=JM(e),i=XM();return(o,s)=>QM(void 0,void 0,void 0,function*(){var a;let l=(a=yield n())!==null&&a!==void 0?a:t,c=new i(s?.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},s),{headers:c}))})};var eT=function(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})};function f_(t){return t.endsWith("/")?t:t+"/"}function h_(t,n){var e,r;let{db:i,auth:o,realtime:s,global:a}=t,{db:l,auth:c,realtime:u,global:d}=n,p={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),o),realtime:Object.assign(Object.assign({},u),s),global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(e=d?.headers)!==null&&e!==void 0?e:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>eT(this,void 0,void 0,function*(){return""})};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}var $l="2.70.0";var rr=30*1e3,Bl=3,Hl=Bl*rr,p_="http://localhost:9999",g_="supabase.auth.token";var m_={"X-Client-Info":`gotrue-js/${$l}`};var Bo="X-Supabase-Api-Version",Qf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},v_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,y_=6e5;var Ho=class extends Error{constructor(n,e,r){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=e,this.code=r}};function O(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}var zl=class extends Ho{constructor(n,e,r){super(n,e,r),this.name="AuthApiError",this.status=e,this.code=r}};function __(t){return O(t)&&t.name==="AuthApiError"}var hi=class extends Ho{constructor(n,e){super(n),this.name="AuthUnknownError",this.originalError=e}},Bt=class extends Ho{constructor(n,e,r,i){super(n,r,i),this.name=e,this.status=r}},ot=class extends Bt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function w_(t){return O(t)&&t.name==="AuthSessionMissingError"}var ir=class extends Bt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},or=class extends Bt{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}},sr=class extends Bt{constructor(n,e=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function b_(t){return O(t)&&t.name==="AuthImplicitGrantRedirectError"}var zo=class extends Bt{constructor(n,e=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},pi=class extends Bt{constructor(n,e){super(n,"AuthRetryableFetchError",e,void 0)}};function ql(t){return O(t)&&t.name==="AuthRetryableFetchError"}var qo=class extends Bt{constructor(n,e,r){super(n,"AuthWeakPasswordError",e,"weak_password"),this.reasons=r}};var nn=class extends Bt{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}};var Gl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),D_=` 	
\r=`.split(""),tT=(()=>{let t=new Array(128);for(let n=0;n<t.length;n+=1)t[n]=-1;for(let n=0;n<D_.length;n+=1)t[D_[n].charCodeAt(0)]=-2;for(let n=0;n<Gl.length;n+=1)t[Gl[n].charCodeAt(0)]=n;return t})();function C_(t,n,e){if(t!==null)for(n.queue=n.queue<<8|t,n.queuedBits+=8;n.queuedBits>=6;){let r=n.queue>>n.queuedBits-6&63;e(Gl[r]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){let r=n.queue>>n.queuedBits-6&63;e(Gl[r]),n.queuedBits-=6}}function E_(t,n,e){let r=tT[t];if(r>-1)for(n.queue=n.queue<<6|r,n.queuedBits+=6;n.queuedBits>=8;)e(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Jf(t){let n=[],e=s=>{n.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{iT(s,r,e)};for(let s=0;s<t.length;s+=1)E_(t.charCodeAt(s),i,o);return n.join("")}function nT(t,n){if(t<=127){n(t);return}else if(t<=2047){n(192|t>>6),n(128|t&63);return}else if(t<=65535){n(224|t>>12),n(128|t>>6&63),n(128|t&63);return}else if(t<=1114111){n(240|t>>18),n(128|t>>12&63),n(128|t>>6&63),n(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function rT(t,n){for(let e=0;e<t.length;e+=1){let r=t.charCodeAt(e);if(r>55295&&r<=56319){let i=(r-55296)*1024&65535;r=(t.charCodeAt(e+1)-56320&65535|i)+65536,e+=1}nT(r,n)}}function iT(t,n,e){if(n.utf8seq===0){if(t<=127){e(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){n.utf8seq=r;break}if(n.utf8seq===2)n.codepoint=t&31;else if(n.utf8seq===3)n.codepoint=t&15;else if(n.utf8seq===4)n.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|t&63,n.utf8seq-=1,n.utf8seq===0&&e(n.codepoint)}}function I_(t){let n=[],e={queue:0,queuedBits:0},r=i=>{n.push(i)};for(let i=0;i<t.length;i+=1)E_(t.charCodeAt(i),e,r);return new Uint8Array(n)}function S_(t){let n=[];return rT(t,e=>n.push(e)),new Uint8Array(n)}function M_(t){let n=[],e={queue:0,queuedBits:0},r=i=>{n.push(i)};return t.forEach(i=>C_(i,e,r)),C_(null,e,r),n.join("")}function T_(t){return Math.round(Date.now()/1e3)+t}function x_(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){let n=Math.random()*16|0;return(t=="x"?n:n&3|8).toString(16)})}var st=()=>typeof window<"u"&&typeof document<"u",ar={tested:!1,writable:!1},bn=()=>{if(!st())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ar.tested)return ar.writable;let t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ar.tested=!0,ar.writable=!0}catch{ar.tested=!0,ar.writable=!1}return ar.writable};function A_(t){let n={},e=new URL(t);if(e.hash&&e.hash[0]==="#")try{new URLSearchParams(e.hash.substring(1)).forEach((i,o)=>{n[o]=i})}catch{}return e.searchParams.forEach((r,i)=>{n[i]=r}),n}var Wl=t=>{let n;return t?n=t:typeof fetch>"u"?n=(...e)=>import("./chunk-X2RIVRQM.js").then(({default:r})=>r(...e)):n=fetch,(...e)=>n(...e)},N_=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Xf=(t,n,e)=>h(null,null,function*(){yield t.setItem(n,JSON.stringify(e))}),Wo=(t,n)=>h(null,null,function*(){let e=yield t.getItem(n);if(!e)return null;try{return JSON.parse(e)}catch{return e}}),Zo=(t,n)=>h(null,null,function*(){yield t.removeItem(n)}),Go=class t{constructor(){this.promise=new t.promiseConstructor((n,e)=>{this.resolve=n,this.reject=e})}};Go.promiseConstructor=Promise;function Zl(t){let n=t.split(".");if(n.length!==3)throw new nn("Invalid JWT structure");for(let r=0;r<n.length;r++)if(!v_.test(n[r]))throw new nn("JWT not in base64url format");return{header:JSON.parse(Jf(n[0])),payload:JSON.parse(Jf(n[1])),signature:I_(n[2]),raw:{header:n[0],payload:n[1]}}}function R_(t){return h(this,null,function*(){return yield new Promise(n=>{setTimeout(()=>n(null),t)})})}function O_(t,n){return new Promise((r,i)=>{h(null,null,function*(){for(let o=0;o<1/0;o++)try{let s=yield t(o);if(!n(o,null,s)){r(s);return}}catch(s){if(!n(o,s)){i(s);return}}})})}function oT(t){return("0"+t.toString(16)).substr(-2)}function sT(){let n=new Uint32Array(56);if(typeof crypto>"u"){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=e.length,i="";for(let o=0;o<56;o++)i+=e.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(n),Array.from(n,oT).join("")}function aT(t){return h(this,null,function*(){let e=new TextEncoder().encode(t),r=yield crypto.subtle.digest("SHA-256",e),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")})}function lT(t){return h(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;let e=yield aT(t);return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function lr(t,n,e=!1){return h(this,null,function*(){let r=sT(),i=r;e&&(i+="/PASSWORD_RECOVERY"),yield Xf(t,`${n}-code-verifier`,i);let o=yield lT(r);return[o,r===o?"plain":"s256"]})}var cT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function k_(t){let n=t.headers.get(Bo);if(!n||!n.match(cT))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function P_(t){if(!t)throw new Error("Missing exp claim");let n=Math.floor(Date.now()/1e3);if(t<=n)throw new Error("JWT has expired")}function F_(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var uT=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function cr(t){if(!uT.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var dT=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e},ur=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),fT=[502,503,504];function L_(t){return h(this,null,function*(){var n;if(!N_(t))throw new pi(ur(t),0);if(fT.includes(t.status))throw new pi(ur(t),t.status);let e;try{e=yield t.json()}catch(o){throw new hi(ur(o),o)}let r,i=k_(t);if(i&&i.getTime()>=Qf["2024-01-01"].timestamp&&typeof e=="object"&&e&&typeof e.code=="string"?r=e.code:typeof e=="object"&&e&&typeof e.error_code=="string"&&(r=e.error_code),r){if(r==="weak_password")throw new qo(ur(e),t.status,((n=e.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(r==="session_not_found")throw new ot}else if(typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new qo(ur(e),t.status,e.weak_password.reasons);throw new zl(ur(e),t.status||500,r)})}var hT=(t,n,e,r)=>{let i={method:t,headers:n?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),e))};function j(t,n,e,r){return h(this,null,function*(){var i;let o=Object.assign({},r?.headers);o[Bo]||(o[Bo]=Qf["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=yield pT(t,n,e+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}})}function pT(t,n,e,r,i,o){return h(this,null,function*(){let s=hT(n,r,i,o),a;try{a=yield t(e,Object.assign({},s))}catch(l){throw console.error(l),new pi(ur(l),0)}if(a.ok||(yield L_(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(l){yield L_(l)}})}function Ht(t){var n;let e=null;gT(t)&&(e=Object.assign({},t),t.expires_at||(e.expires_at=T_(t.expires_in)));let r=(n=t.user)!==null&&n!==void 0?n:t;return{data:{session:e,user:r},error:null}}function eh(t){let n=Ht(t);return!n.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((e,r)=>e&&typeof r=="string",!0)&&(n.data.weak_password=t.weak_password),n}function zt(t){var n;return{data:{user:(n=t.user)!==null&&n!==void 0?n:t},error:null}}function j_(t){return{data:t,error:null}}function V_(t){let{action_link:n,email_otp:e,hashed_token:r,redirect_to:i,verification_type:o}=t,s=dT(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:n,email_otp:e,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function U_(t){return t}function gT(t){return t.access_token&&t.refresh_token&&t.expires_in}var Yl=["global","local","others"];var mT=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e},gi=class{constructor({url:n="",headers:e={},fetch:r}){this.url=n,this.headers=e,this.fetch=Wl(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(r){return h(this,arguments,function*(n,e=Yl[0]){if(Yl.indexOf(e)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Yl.join(", ")}`);try{return yield j(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(i){if(O(i))return{data:null,error:i};throw i}})}inviteUserByEmail(r){return h(this,arguments,function*(n,e={}){try{return yield j(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:zt})}catch(i){if(O(i))return{data:{user:null},error:i};throw i}})}generateLink(n){return h(this,null,function*(){try{let{options:e}=n,r=mT(n,["options"]),i=Object.assign(Object.assign({},r),e);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),yield j(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:V_,redirectTo:e?.redirectTo})}catch(e){if(O(e))return{data:{properties:null,user:null},error:e};throw e}})}createUser(n){return h(this,null,function*(){try{return yield j(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:zt})}catch(e){if(O(e))return{data:{user:null},error:e};throw e}})}listUsers(n){return h(this,null,function*(){var e,r,i,o,s,a,l;try{let c={nextPage:null,lastPage:0,total:0},u=yield j(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(e=n?.page)===null||e===void 0?void 0:e.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=n?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:U_});if(u.error)throw u.error;let d=yield u.json(),p=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(g=>{let _=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(g.split(";")[1].split("=")[1]);c[`${b}Page`]=_}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(O(c))return{data:{users:[]},error:c};throw c}})}getUserById(n){return h(this,null,function*(){cr(n);try{return yield j(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:zt})}catch(e){if(O(e))return{data:{user:null},error:e};throw e}})}updateUserById(n,e){return h(this,null,function*(){cr(n);try{return yield j(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:e,headers:this.headers,xform:zt})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}})}deleteUser(n,e=!1){return h(this,null,function*(){cr(n);try{return yield j(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:e},xform:zt})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}})}_listFactors(n){return h(this,null,function*(){cr(n.userId);try{let{data:e,error:r}=yield j(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:e,error:r}}catch(e){if(O(e))return{data:null,error:e};throw e}})}_deleteFactor(n){return h(this,null,function*(){cr(n.userId),cr(n.id);try{return{data:yield j(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(e){if(O(e))return{data:null,error:e};throw e}})}};var $_={getItem:t=>bn()?globalThis.localStorage.getItem(t):null,setItem:(t,n)=>{bn()&&globalThis.localStorage.setItem(t,n)},removeItem:t=>{bn()&&globalThis.localStorage.removeItem(t)}};function th(t={}){return{getItem:n=>t[n]||null,setItem:(n,e)=>{t[n]=e},removeItem:n=>{delete t[n]}}}function B_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var dr={debug:!!(globalThis&&bn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Yo=class extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}},Kl=class extends Yo{};function nh(t,n,e){return h(this,null,function*(){dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,n);let r=new globalThis.AbortController;return n>0&&setTimeout(()=>{r.abort(),dr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},n),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(t,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},i=>h(null,null,function*(){if(i){dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return yield e()}finally{dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(n===0)throw dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Kl(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(dr.debug)try{let o=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield e()}})))})}B_();var vT={url:p_,storageKey:g_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:m_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function H_(t,n,e){return h(this,null,function*(){return yield e()})}var rh=(()=>{class t{constructor(e){var r,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=t.nextInstanceID,t.nextInstanceID+=1,this.instanceID>0&&st()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let o=Object.assign(Object.assign({},vT),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new gi({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Wl(o.fetch),this.lock=o.lock||H_,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:st()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=nh:this.lock=H_,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:bn()?this.storage=$_:(this.memoryStorage={},this.storage=th(this.memoryStorage)):(this.memoryStorage={},this.storage=th(this.memoryStorage)),st()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",s=>h(this,null,function*(){this._debug("received broadcast notification from other tab or client",s),yield this._notifyAllSubscribers(s.data.event,s.data.session,!1)}))}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${$l}) ${new Date().toISOString()}`,...e),this}initialize(){return h(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=h(this,null,function*(){return yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return h(this,null,function*(){var e;try{let r=A_(window.location.href),i="none";if(this._isImplicitGrantCallback(r)?i="implicit":(yield this._isPKCECallback(r))&&(i="pkce"),st()&&this.detectSessionInUrl&&i!=="none"){let{data:o,error:s}=yield this._getSessionFromURL(r,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),b_(s)){let c=(e=s.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return yield this._removeSession(),{error:s}}let{session:a,redirectType:l}=o;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),yield this._saveSession(a),setTimeout(()=>h(this,null,function*(){l==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return O(r)?{error:r}:{error:new hi("Unexpected error during initialization",r)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(e){return h(this,null,function*(){var r,i,o;try{let s=yield j(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Ht}),{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};let c=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(O(s))return{data:{user:null,session:null},error:s};throw s}})}signUp(e){return h(this,null,function*(){var r,i,o;try{let s;if("email"in e){let{email:d,password:p,options:f}=e,g=null,_=null;this.flowType==="pkce"&&([g,_]=yield lr(this.storage,this.storageKey)),s=yield j(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:p,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:g,code_challenge_method:_},xform:Ht})}else if("phone"in e){let{phone:d,password:p,options:f}=e;s=yield j(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:p,data:(i=f?.data)!==null&&i!==void 0?i:{},channel:(o=f?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Ht})}else throw new or("You must provide either an email or phone number and a password");let{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};let c=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(O(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithPassword(e){return h(this,null,function*(){try{let r;if("email"in e){let{email:s,password:a,options:l}=e;r=yield j(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:eh})}else if("phone"in e){let{phone:s,password:a,options:l}=e;r=yield j(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:eh})}else throw new or("You must provide either an email or phone number and a password");let{data:i,error:o}=r;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new ir}:(i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(O(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(e){return h(this,null,function*(){var r,i,o,s;return yield this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(e){return h(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>h(this,null,function*(){return this._exchangeCodeForSession(e)}))})}signInWithWeb3(e){return h(this,null,function*(){let{chain:r}=e;if(r==="solana")return yield this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)})}signInWithSolana(e){return h(this,null,function*(){var r,i,o,s,a,l,c,u,d,p,f,g;let _,b;if("message"in e)_=e.message,b=e.signature;else{let{chain:I,wallet:fe,statement:ve,options:A}=e,ne;if(st())if(typeof fe=="object")ne=fe;else{let ae=window;if("solana"in ae&&typeof ae.solana=="object"&&("signIn"in ae.solana&&typeof ae.solana.signIn=="function"||"signMessage"in ae.solana&&typeof ae.solana.signMessage=="function"))ne=ae.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof fe!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");ne=fe}let ct=new URL((r=A?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in ne&&ne.signIn){let ae=yield ne.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A?.signInWithSolana),{version:"1",domain:ct.host,uri:ct.href}),ve?{statement:ve}:null)),He;if(Array.isArray(ae)&&ae[0]&&typeof ae[0]=="object")He=ae[0];else if(ae&&typeof ae=="object"&&"signedMessage"in ae&&"signature"in ae)He=ae;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in He&&"signature"in He&&(typeof He.signedMessage=="string"||He.signedMessage instanceof Uint8Array)&&He.signature instanceof Uint8Array)_=typeof He.signedMessage=="string"?He.signedMessage:new TextDecoder().decode(He.signedMessage),b=He.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in ne)||typeof ne.signMessage!="function"||!("publicKey"in ne)||typeof ne!="object"||!ne.publicKey||!("toBase58"in ne.publicKey)||typeof ne.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${ct.host} wants you to sign in with your Solana account:`,ne.publicKey.toBase58(),...ve?["",ve,""]:[""],"Version: 1",`URI: ${ct.href}`,`Issued At: ${(o=(i=A?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((s=A?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((a=A?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((l=A?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((c=A?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((u=A?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((p=(d=A?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||p===void 0)&&p.length?["Resources",...A.signInWithSolana.resources.map(He=>`- ${He}`)]:[]].join(`
`);let ae=yield ne.signMessage(new TextEncoder().encode(_),"utf8");if(!ae||!(ae instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=ae}}try{let{data:I,error:fe}=yield j(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:M_(b)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Ht});if(fe)throw fe;return!I||!I.session||!I.user?{data:{user:null,session:null},error:new ir}:(I.session&&(yield this._saveSession(I.session),yield this._notifyAllSubscribers("SIGNED_IN",I.session)),{data:Object.assign({},I),error:fe})}catch(I){if(O(I))return{data:{user:null,session:null},error:I};throw I}})}_exchangeCodeForSession(e){return h(this,null,function*(){let r=yield Wo(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{let{data:s,error:a}=yield j(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Ht});if(yield Zo(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new ir}:(s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:a})}catch(s){if(O(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}})}signInWithIdToken(e){return h(this,null,function*(){try{let{options:r,provider:i,token:o,access_token:s,nonce:a}=e,l=yield j(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Ht}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new ir}:(c.session&&(yield this._saveSession(c.session),yield this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(O(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(e){return h(this,null,function*(){var r,i,o,s,a;try{if("email"in e){let{email:l,options:c}=e,u=null,d=null;this.flowType==="pkce"&&([u,d]=yield lr(this.storage,this.storageKey));let{error:p}=yield j(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(i=c?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in e){let{phone:l,options:c}=e,{data:u,error:d}=yield j(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(o=c?.data)!==null&&o!==void 0?o:{},create_user:(s=c?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(a=c?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new or("You must provide either an email or phone number.")}catch(l){if(O(l))return{data:{user:null,session:null},error:l};throw l}})}verifyOtp(e){return h(this,null,function*(){var r,i;try{let o,s;"options"in e&&(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(i=e.options)===null||i===void 0?void 0:i.captchaToken);let{data:a,error:l}=yield j(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:Ht});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");let c=a.session,u=a.user;return c?.access_token&&(yield this._saveSession(c),yield this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(O(o))return{data:{user:null,session:null},error:o};throw o}})}signInWithSSO(e){return h(this,null,function*(){var r,i,o;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=yield lr(this.storage,this.storageKey)),yield j(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:j_})}catch(s){if(O(s))return{data:null,error:s};throw s}})}reauthenticate(){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return h(this,null,function*(){try{return yield this._useSession(e=>h(this,null,function*(){let{data:{session:r},error:i}=e;if(i)throw i;if(!r)throw new ot;let{error:o}=yield j(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}}))}catch(e){if(O(e))return{data:{user:null,session:null},error:e};throw e}})}resend(e){return h(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in e){let{email:i,type:o,options:s}=e,{error:a}=yield j(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){let{phone:i,type:o,options:s}=e,{data:a,error:l}=yield j(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:l}}throw new or("You must provide either an email or phone number and a type")}catch(r){if(O(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return this._useSession(r=>h(this,null,function*(){return r}))}))})}_acquireLock(e,r){return h(this,null,function*(){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=h(this,null,function*(){return yield i,yield r()});return this.pendingInLock.push(h(this,null,function*(){try{yield o}catch{}})),o}return yield this.lock(`lock:${this.storageKey}`,e,()=>h(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push(h(this,null,function*(){try{yield i}catch{}})),yield i;this.pendingInLock.length;){let o=[...this.pendingInLock];yield Promise.all(o),this.pendingInLock.splice(0,o.length)}return yield i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(e){return h(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield e(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return h(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null,r=yield Wo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!e)return{data:{session:null},error:null};let i=e.expires_at?e.expires_at*1e3-Date.now()<Hl:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.storage.isServer){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:e},error:null}}let{session:o,error:s}=yield this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(e){return h(this,null,function*(){return e?yield this._getUser(e):(yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._getUser()})))})}_getUser(e){return h(this,null,function*(){try{return e?yield j(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:zt}):yield this._useSession(r=>h(this,null,function*(){var i,o,s;let{data:a,error:l}=r;if(l)throw l;return!(!((i=a.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ot}:yield j(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:zt})}))}catch(r){if(O(r))return w_(r)&&(yield this._removeSession(),yield Zo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}})}updateUser(i){return h(this,arguments,function*(e,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._updateUser(e,r)}))})}_updateUser(i){return h(this,arguments,function*(e,r={}){try{return yield this._useSession(o=>h(this,null,function*(){let{data:s,error:a}=o;if(a)throw a;if(!s.session)throw new ot;let l=s.session,c=null,u=null;this.flowType==="pkce"&&e.email!=null&&([c,u]=yield lr(this.storage,this.storageKey));let{data:d,error:p}=yield j(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:u}),jwt:l.access_token,xform:zt});if(p)throw p;return l.user=d.user,yield this._saveSession(l),yield this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}}))}catch(o){if(O(o))return{data:{user:null},error:o};throw o}})}setSession(e){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._setSession(e)}))})}_setSession(e){return h(this,null,function*(){try{if(!e.access_token||!e.refresh_token)throw new ot;let r=Date.now()/1e3,i=r,o=!0,s=null,{payload:a}=Zl(e.access_token);if(a.exp&&(i=a.exp,o=i<=r),o){let{session:l,error:c}=yield this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{let{data:l,error:c}=yield this._getUser(e.access_token);if(c)throw c;s={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:i-r,expires_at:i},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(O(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(e){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._refreshSession(e)}))})}_refreshSession(e){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;if(!e){let{data:a,error:l}=r;if(l)throw l;e=(i=a.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new ot;let{session:o,error:s}=yield this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}}))}catch(r){if(O(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromURL(e,r){return h(this,null,function*(){try{if(!st())throw new sr("No browser detected.");if(e.error||e.error_description||e.error_code)throw new sr(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new zo("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new sr("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new zo("No code detected.");let{data:ve,error:A}=yield this._exchangeCodeForSession(e.code);if(A)throw A;let ne=new URL(window.location.href);return ne.searchParams.delete("code"),window.history.replaceState(window.history.state,"",ne.toString()),{data:{session:ve.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=e;if(!s||!l||!a||!u)throw new sr("No session defined in URL");let d=Math.round(Date.now()/1e3),p=parseInt(l),f=d+p;c&&(f=parseInt(c));let g=f-d;g*1e3<=rr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${p}s`);let _=f-p;d-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,f,d):d-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,f,d);let{data:b,error:I}=yield this._getUser(s);if(I)throw I;let fe={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:p,expires_at:f,refresh_token:a,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:fe,redirectType:e.type},error:null}}catch(i){if(O(i))return{data:{session:null,redirectType:null},error:i};throw i}})}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}_isPKCECallback(e){return h(this,null,function*(){let r=yield Wo(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)})}signOut(){return h(this,arguments,function*(e={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._signOut(e)}))})}_signOut(){return h(this,arguments,function*({scope:e}={scope:"global"}){return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return{error:s};let a=(i=o.session)===null||i===void 0?void 0:i.access_token;if(a){let{error:l}=yield this.admin.signOut(a,e);if(l&&!(__(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(yield this._removeSession(),yield Zo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(e){let r=x_(),i={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),h(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:i}}}_emitInitialSession(e){return h(this,null,function*(){return yield this._useSession(r=>h(this,null,function*(){var i,o;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){yield(o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}}))})}resetPasswordForEmail(i){return h(this,arguments,function*(e,r={}){let o=null,s=null;this.flowType==="pkce"&&([o,s]=yield lr(this.storage,this.storageKey,!0));try{return yield j(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:o,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(O(a))return{data:null,error:a};throw a}})}getUserIdentities(){return h(this,null,function*(){var e;try{let{data:r,error:i}=yield this.getUser();if(i)throw i;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(O(r))return{data:null,error:r};throw r}})}linkIdentity(e){return h(this,null,function*(){var r;try{let{data:i,error:o}=yield this._useSession(s=>h(this,null,function*(){var a,l,c,u,d;let{data:p,error:f}=s;if(f)throw f;let g=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return yield j(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})}));if(o)throw o;return st()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:e.provider,url:i?.url},error:null}}catch(i){if(O(i))return{data:{provider:e.provider,url:null},error:i};throw i}})}unlinkIdentity(e){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)throw a;return yield j(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})}))}catch(r){if(O(r))return{data:null,error:r};throw r}})}_refreshAccessToken(e){return h(this,null,function*(){let r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return yield O_(o=>h(this,null,function*(){return o>0&&(yield R_(200*Math.pow(2,o-1))),this._debug(r,"refreshing attempt",o),yield j(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ht})}),(o,s)=>{let a=200*Math.pow(2,o);return s&&ql(s)&&Date.now()+a-i<rr})}catch(i){if(this._debug(r,"error",i),O(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(r,"end")}})}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,r){return h(this,null,function*(){let i=yield this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",i),st()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}})}_recoverAndRefresh(){return h(this,null,function*(){var e;let r="#_recoverAndRefresh()";this._debug(r,"begin");try{let i=yield Wo(this.storage,this.storageKey);if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&(yield this._removeSession());return}let o=((e=i.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Hl;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Hl}s`),o){if(this.autoRefreshToken&&i.refresh_token){let{error:s}=yield this._callRefreshToken(i.refresh_token);s&&(console.error(s),ql(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),yield this._removeSession()))}}else yield this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}})}_callRefreshToken(e){return h(this,null,function*(){var r,i;if(!e)throw new ot;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Go;let{data:s,error:a}=yield this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new ot;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(o,"error",s),O(s)){let a={session:null,error:s};return ql(s)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}})}_notifyAllSubscribers(e,r,i=!0){return h(this,null,function*(){let o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(l=>h(this,null,function*(){try{yield l.callback(e,r)}catch(c){s.push(c)}}));if(yield Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(o,"end")}})}_saveSession(e){return h(this,null,function*(){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,yield Xf(this.storage,this.storageKey,e)})}_removeSession(){return h(this,null,function*(){this._debug("#_removeSession()"),yield Zo(this.storage,this.storageKey),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&st()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return h(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let e=setInterval(()=>this._autoRefreshTokenTick(),rr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(()=>h(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return h(this,null,function*(){this._debug("#_stopAutoRefresh()");let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)})}startAutoRefresh(){return h(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return h(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return h(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>h(this,null,function*(){try{let e=Date.now();try{return yield this._useSession(r=>h(this,null,function*(){let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-e)/rr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${rr}ms, refresh threshold is ${Bl} ticks`),o<=Bl&&(yield this._callRefreshToken(i.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(e.isAcquireTimeout||e instanceof Yo)this._debug("auto refresh token tick lock not available");else throw e}})}_handleVisibilityChange(){return h(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!st()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>h(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}})}_onVisibilityChanged(e){return h(this,null,function*(){let r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(e,r,i){return h(this,null,function*(){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[s,a]=yield lr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});o.push(l.toString())}if(i?.queryParams){let s=new URLSearchParams(i.queryParams);o.push(s.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${o.join("&")}`})}_unenroll(e){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;return s?{data:null,error:s}:yield j(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(O(r))return{data:null,error:r};throw r}})}_enroll(e){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)return{data:null,error:a};let l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=yield j(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((o=c?.totp)===null||o===void 0)&&o.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})}))}catch(r){if(O(r))return{data:null,error:r};throw r}})}_verify(e){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return{data:null,error:s};let{data:a,error:l}=yield j(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return l?{data:null,error:l}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})}))}catch(r){if(O(r))return{data:null,error:r};throw r}}))})}_challenge(e){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;return s?{data:null,error:s}:yield j(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(O(r))return{data:null,error:r};throw r}}))})}_challengeAndVerify(e){return h(this,null,function*(){let{data:r,error:i}=yield this._challenge({factorId:e.factorId});return i?{data:null,error:i}:yield this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})})}_listFactors(){return h(this,null,function*(){let{data:{user:e},error:r}=yield this.getUser();if(r)return{data:null,error:r};let i=e?.factors||[],o=i.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=i.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:i,totp:o,phone:s},error:null}})}_getAuthenticatorAssuranceLevel(){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){return yield this._useSession(e=>h(this,null,function*(){var r,i;let{data:{session:o},error:s}=e;if(s)return{data:null,error:s};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:a}=Zl(o.access_token),l=null;a.aal&&(l=a.aal);let c=l;((i=(r=o.user.factors)===null||r===void 0?void 0:r.filter(p=>p.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(c="aal2");let d=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}))})}fetchJwk(i){return h(this,arguments,function*(e,r={keys:[]}){let o=r.keys.find(l=>l.kid===e);if(o||(o=this.jwks.keys.find(l=>l.kid===e),o&&this.jwks_cached_at+y_>Date.now()))return o;let{data:s,error:a}=yield j(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!s.keys||s.keys.length===0)throw new nn("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),o=s.keys.find(l=>l.kid===e),!o)throw new nn("No matching signing key found in JWKS");return o})}getClaims(i){return h(this,arguments,function*(e,r={keys:[]}){try{let o=e;if(!o){let{data:_,error:b}=yield this.getSession();if(b||!_.session)return{data:null,error:b};o=_.session.access_token}let{header:s,payload:a,signature:l,raw:{header:c,payload:u}}=Zl(o);if(P_(a.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){let{error:_}=yield this.getUser(o);if(_)throw _;return{data:{claims:a,header:s,signature:l},error:null}}let d=F_(s.alg),p=yield this.fetchJwk(s.kid,r),f=yield crypto.subtle.importKey("jwk",p,d,!0,["verify"]);if(!(yield crypto.subtle.verify(d,f,l,S_(`${c}.${u}`))))throw new nn("Invalid JWT signature");return{data:{claims:a,header:s,signature:l},error:null}}catch(o){if(O(o))return{data:null,error:o};throw o}})}}return t.nextInstanceID=0,t})();var yT=rh,ih=yT;var Ql=class extends ih{constructor(n){super(n)}};var _T=function(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})},Jl=class{constructor(n,e,r){var i,o,s;if(this.supabaseUrl=n,this.supabaseKey=e,!n)throw new Error("supabaseUrl is required.");if(!e)throw new Error("supabaseKey is required.");let a=f_(n),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);let c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:l_,realtime:u_,auth:Object.assign(Object.assign({},c_),{storageKey:c}),global:a_},d=h_(r??{},u);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=d.global.headers)!==null&&o!==void 0?o:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(p,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=d.auth)!==null&&s!==void 0?s:{},this.headers,d.global.fetch),this.fetch=d_(e,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new zy(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new xo(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Uo(this.storageUrl.href,this.headers,this.fetch)}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,e={},r={}){return this.rest.rpc(n,e,r)}channel(n,e={config:{}}){return this.realtime.channel(n,e)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,e;return _T(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:null})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:e,detectSessionInUrl:r,storage:i,storageKey:o,flowType:s,lock:a,debug:l},c,u){let d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ql({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),c),storageKey:o,autoRefreshToken:n,persistSession:e,detectSessionInUrl:r,storage:i,flowType:s,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(n){return new jo(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,r)=>{this._handleTokenChanged(e,"CLIENT",r?.access_token)})}_handleTokenChanged(n,e,r){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:n==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var z_=(t,n,e)=>new Jl(t,n,e);var oh={production:!1,apiUrl:"https://blwxpuiompnnukaeukfp.supabase.co",publicAnonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJsd3hwdWlvbXBubnVrYWV1a2ZwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTAwODEwMTksImV4cCI6MjA2NTY1NzAxOX0.fbQR0Syppe8XMDSOwIsyXnYalOEuHWUEZD-ykKiBr1Y"};var at=class t{supabase;constructor(){this.supabase=z_(oh.apiUrl,oh.publicAnonKey)}obtenerUsuarioActual(n){return h(this,null,function*(){let{data:e,error:r}=yield this.supabase.from("usuarios").select("*").eq("user_auth_id",n).single();if(r)throw r;return e})}obtenerTodosLosUsuarios(){return h(this,null,function*(){let{data:n,error:e}=yield this.supabase.from("usuarios").select("*");if(e)throw e;return n})}actualizarEstadoEspecialista(n,e){return h(this,null,function*(){let{error:r}=yield this.supabase.from("usuarios").update({habilitado:e}).eq("user_auth_id",n);if(r)throw r})}agregarEspecialidad(n){return h(this,null,function*(){let{error:e}=yield this.supabase.from("especialidades").insert([{nombre:n}]);if(e)throw e})}getCliente(){return this.supabase}obtenerEspecialidades(){return h(this,null,function*(){let{data:n,error:e}=yield this.supabase.from("especialidades").select("nombre").order("nombre",{ascending:!0});if(e)throw console.error("Error al obtener especialidades:",e.message),new Error("No se pudieron cargar las especialidades.");return n.map(r=>r.nombre)})}registrarLoginUsuario(n,e){return h(this,null,function*(){let{error:r}=yield this.supabase.from("logins").insert([{user_auth_id:n,email:e,fecha_login:new Date().toISOString()}]);if(r)throw console.error("Error registrando login:",r.message),new Error("No se pudo registrar el inicio de sesi\xF3n.")})}static \u0275fac=function(e){return new(e||t)};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})};var lt=class t{constructor(n){this.dbService=n;this.supabase=n.getCliente(),this.cargarUsuarioDesdeSesion()}supabase;usuarioActual=null;cargarUsuarioDesdeSesion(){return h(this,null,function*(){let{data:{user:n}}=yield this.supabase.auth.getUser();this.usuarioActual=n||null})}login(n,e){return h(this,null,function*(){let{data:r,error:i}=yield this.supabase.auth.signInWithPassword({email:n,password:e});if(i||!r.user)throw new Error("Credenciales inv\xE1lidas");let o=yield this.dbService.obtenerUsuarioActual(r.user.id);if(!r.user.email_confirmed_at)throw new Error("Debe verificar su email para ingresar.");if(o.perfil==="especialista"&&!o.habilitado)throw new Error("Su cuenta a\xFAn no fue habilitada por un administrador.");return this.usuarioActual=r.user,r.user})}logout(){return h(this,null,function*(){yield this.supabase.auth.signOut(),this.usuarioActual=null})}getUsuarioActual(){return this.usuarioActual}estaLogueado(){return this.usuarioActual!==null}registrarUsuario(n,e){return h(this,null,function*(){let{data:r,error:i}=yield this.supabase.auth.signUp({email:n,password:e});if(i||!r.user)throw new Error("Error al registrar: "+i?.message);return r.user})}subirAvatar(n){return h(this,null,function*(){let{data:e,error:r}=yield this.supabase.storage.from("avatars").upload(`users/${Date.now()}_${n.name}`,n,{cacheControl:"3600",upsert:!1});if(r||!e?.path)throw new Error("Error al subir imagen: "+r?.message);let{data:i}=this.supabase.storage.from("avatars").getPublicUrl(e.path);return i.publicUrl})}guardarDatosUsuario(c,u,d,p,f,g,_){return h(this,arguments,function*(n,e,r,i,o,s,a,l={}){let b=w({user_auth_id:n.id,email:n.email,nombre:e,apellido:r,edad:i,dni:o,perfil:s,avatar_url:a,habilitado:s!=="especialista"},l),{error:I}=yield this.supabase.from("usuarios").insert(b);if(I)throw new Error("Error al guardar datos: "+I.message)})}getPerfilActual(){return h(this,null,function*(){let n=this.getUsuarioActual();return n&&(yield this.dbService.obtenerUsuarioActual(n.id)).perfil||null})}static \u0275fac=function(e){return new(e||t)(N(at))};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})};function wT(t,n){if(t&1){let e=Ie();v(0,"button",6),U("click",function(){ue(e);let i=G();return de(i.logout())}),D(1,` Cerrar sesi\xF3n
`),y()}}function bT(t,n){t&1&&(v(0,"div",7)(1,"a",8),D(2,"Ingresar"),y(),v(3,"a",9),D(4,"Registro"),y()())}function DT(t,n){if(t&1&&(v(0,"div",12),J(1,"img",13),v(2,"p"),D(3),y()()),t&2){let e=n.$implicit;x("routerLink",e.ruta),T(),x("src",e.imagen,bd)("alt",e.texto),T(2),Rt(e.texto)}}function CT(t,n){if(t&1&&(v(0,"div",10),Z(1,DT,4,4,"div",11),y()),t&2){let e=G();T(),x("ngForOf",e.botones)}}var Ko=class t{credencialesService=m(lt);usuario=this.credencialesService.getUsuarioActual();perfil=null;botones=[];logout(){this.credencialesService.logout(),this.usuario=null}ngOnInit(){return h(this,null,function*(){this.usuario&&(this.perfil=yield this.credencialesService.getPerfilActual(),this.cargarBotones())})}cargarBotones(){switch(this.perfil){case"paciente":this.botones=[{texto:"Mis turnos",imagen:"assets/img/botonTurnos.png",ruta:"/mis-turnos"},{texto:"Mi perfil",imagen:"assets/img/botonUsuarios.png",ruta:"/mi-perfil"}];break;case"especialista":this.botones=[{texto:"Turnos",imagen:"assets/img/botonTurnos.png",ruta:"/turnos-especialista"},{texto:"Mi perfil",imagen:"assets/img/botonUsuarios.png",ruta:"/mi-perfil"}];break;case"admin":this.botones=[{texto:"Administrar Turnos",imagen:"assets/img/botonTurnos.png",ruta:"/admin-turnos"},{texto:"Administrar Usuarios",imagen:"assets/img/botonUsuarios.png",ruta:"/usuarios"},{texto:"Estad\xEDsticas y Reportes",imagen:"assets/img/botonEstadisticas.png",ruta:"/estadisticas"}];break;default:this.botones=[]}}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=Ve({type:t,selectors:[["app-home"]],decls:7,vars:3,consts:[["class","btn-cerrar-sesion",3,"click",4,"ngIf"],[1,"home-wrapper","d-flex","flex-column","align-items-center"],[1,"overlay-card","p-5","rounded","shadow","mt-5"],[1,"mb-4"],["class","d-flex flex-column gap-3",4,"ngIf"],["class","zona-botones mt-5",4,"ngIf"],[1,"btn-cerrar-sesion",3,"click"],[1,"d-flex","flex-column","gap-3"],["routerLink","/login",1,"btn","btn-primary","btn-lg"],["routerLink","/registro",1,"btn","btn-outline-light","btn-lg"],[1,"zona-botones","mt-5"],["class","boton-card",3,"routerLink",4,"ngFor","ngForOf"],[1,"boton-card",3,"routerLink"],[3,"src","alt"]],template:function(e,r){e&1&&(Z(0,wT,2,0,"button",0),v(1,"div",1)(2,"div",2)(3,"h1",3),D(4,"Bienvenidos a Cl\xEDnica Online"),y(),Z(5,bT,5,0,"div",4),y(),Z(6,CT,2,1,"div",5),y()),e&2&&(x("ngIf",r.usuario),T(5),x("ngIf",!r.usuario),T(),x("ngIf",r.usuario))},dependencies:[Pt,gn,vt,Nf,Il],styles:["[_nghost-%COMP%]{display:block;height:100vh;margin:0;padding:0;overflow:hidden}.home-wrapper[_ngcontent-%COMP%]{height:100%;width:100%;background-image:url(/assets/img/fondoClinica.jpeg);background-size:cover;background-position:center;background-repeat:no-repeat;padding-top:3rem}.overlay-card[_ngcontent-%COMP%]{background-color:#ffffffd9;color:#036;padding:3rem;border-radius:1rem;max-width:500px;width:90%;text-align:center;box-shadow:0 0 20px #0000004d;font-family:Open Sans,sans-serif;margin:0 auto}.overlay-card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:600;margin-bottom:2rem;animation:_ngcontent-%COMP%_fadeSlideIn .8s ease-out forwards}.overlay-card[_ngcontent-%COMP%]   a.btn[_ngcontent-%COMP%]{font-size:1.2rem;padding:.75rem 1.5rem}.zona-botones[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:2rem;padding:2rem}.boton-card[_ngcontent-%COMP%]{background-color:#fffffff2;border-radius:12px;width:200px;height:180px;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:1rem;cursor:pointer;transition:transform .3s ease,box-shadow .3s ease;box-shadow:0 4px 12px #0003;font-family:Open Sans,sans-serif;color:#036;text-decoration:none}.boton-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:64px;height:64px;object-fit:contain;margin-bottom:.5rem}.boton-card[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 0 15px #0366}.boton-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-weight:600}@keyframes _ngcontent-%COMP%_fadeSlideIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.btn-cerrar-sesion[_ngcontent-%COMP%]{position:absolute;top:1rem;right:1rem;background-color:transparent;border:none;color:#036;font-weight:700;font-size:.9rem;cursor:pointer;transition:color .3s ease}.btn-cerrar-sesion[_ngcontent-%COMP%]:hover{color:#dc3545;text-decoration:underline}.spinner-border[_ngcontent-%COMP%]{width:1rem;height:1rem}"]})};var ew=(()=>{class t{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,r){this._renderer=e,this._elementRef=r}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(r){return new(r||t)(M(en),M(At))};static \u0275dir=se({type:t})}return t})(),uc=(()=>{class t extends ew{static \u0275fac=(()=>{let e;return function(i){return(e||(e=un(t)))(i||t)}})();static \u0275dir=se({type:t,features:[Ue]})}return t})(),wi=new S(""),ET={provide:wi,useExisting:et(()=>is),multi:!0},is=(()=>{class t extends uc{writeValue(e){this.setProperty("checked",e)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=un(t)))(i||t)}})();static \u0275dir=se({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&U("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Ot([ET]),Ue]})}return t})(),IT={provide:wi,useExisting:et(()=>En),multi:!0};function ST(){let t=nt()?nt().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var MT=new S(""),En=(()=>{class t extends ew{_compositionMode;_composing=!1;constructor(e,r,i){super(e,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!ST())}writeValue(e){let r=e??"";this.setProperty("value",r)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(r){return new(r||t)(M(en),M(At),M(MT,8))};static \u0275dir=se({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&U("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Ot([IT]),Ue]})}return t})();function uh(t){return t==null||dh(t)===0}function dh(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var os=new S(""),dc=new S(""),TT=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,te=class{static min(n){return xT(n)}static max(n){return AT(n)}static required(n){return tw(n)}static requiredTrue(n){return NT(n)}static email(n){return RT(n)}static minLength(n){return OT(n)}static maxLength(n){return kT(n)}static pattern(n){return PT(n)}static nullValidator(n){return ec()}static compose(n){return aw(n)}static composeAsync(n){return lw(n)}};function xT(t){return n=>{if(n.value==null||t==null)return null;let e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}function AT(t){return n=>{if(n.value==null||t==null)return null;let e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null}}function tw(t){return uh(t.value)?{required:!0}:null}function NT(t){return t.value===!0?null:{required:!0}}function RT(t){return uh(t.value)||TT.test(t.value)?null:{email:!0}}function OT(t){return n=>{let e=n.value?.length??dh(n.value);return e===null||e===0?null:e<t?{minlength:{requiredLength:t,actualLength:e}}:null}}function kT(t){return n=>{let e=n.value?.length??dh(n.value);return e!==null&&e>t?{maxlength:{requiredLength:t,actualLength:e}}:null}}function PT(t){if(!t)return ec;let n,e;return typeof t=="string"?(e="",t.charAt(0)!=="^"&&(e+="^"),e+=t,t.charAt(t.length-1)!=="$"&&(e+="$"),n=new RegExp(e)):(e=t.toString(),n=t),r=>{if(uh(r.value))return null;let i=r.value;return n.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}function ec(t){return null}function nw(t){return t!=null}function rw(t){return Bn(t)?ie(t):t}function iw(t){let n={};return t.forEach(e=>{n=e!=null?w(w({},n),e):n}),Object.keys(n).length===0?null:n}function ow(t,n){return n.map(e=>e(t))}function FT(t){return!t.validate}function sw(t){return t.map(n=>FT(n)?n:e=>n.validate(e))}function aw(t){if(!t)return null;let n=t.filter(nw);return n.length==0?null:function(e){return iw(ow(e,n))}}function fh(t){return t!=null?aw(sw(t)):null}function lw(t){if(!t)return null;let n=t.filter(nw);return n.length==0?null:function(e){let r=ow(e,n).map(rw);return Wc(r).pipe(z(iw))}}function hh(t){return t!=null?lw(sw(t)):null}function G_(t,n){return t===null?[n]:Array.isArray(t)?[...t,n]:[t,n]}function cw(t){return t._rawValidators}function uw(t){return t._rawAsyncValidators}function ah(t){return t?Array.isArray(t)?t:[t]:[]}function tc(t,n){return Array.isArray(t)?t.includes(n):t===n}function W_(t,n){let e=ah(n);return ah(t).forEach(i=>{tc(e,i)||e.push(i)}),e}function Z_(t,n){return ah(n).filter(e=>!tc(t,e))}var nc=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=fh(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=hh(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return this.control?this.control.hasError(n,e):!1}getError(n,e){return this.control?this.control.getError(n,e):null}},rn=class extends nc{name;get formDirective(){return null}get path(){return null}},Dn=class extends nc{_parent=null;name=null;valueAccessor=null},rc=class{_cd;constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},LT={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},D$=$(w({},LT),{"[class.ng-submitted]":"isSubmitted"}),bi=(()=>{class t extends rc{constructor(e){super(e)}static \u0275fac=function(r){return new(r||t)(M(Dn,2))};static \u0275dir=se({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&La("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Ue]})}return t})(),Di=(()=>{class t extends rc{constructor(e){super(e)}static \u0275fac=function(r){return new(r||t)(M(rn,10))};static \u0275dir=se({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&La("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Ue]})}return t})();var Jo="VALID",Xl="INVALID",mi="PENDING",Xo="DISABLED",Cn=class{},ic=class extends Cn{value;source;constructor(n,e){super(),this.value=n,this.source=e}},ts=class extends Cn{pristine;source;constructor(n,e){super(),this.pristine=n,this.source=e}},ns=class extends Cn{touched;source;constructor(n,e){super(),this.touched=n,this.source=e}},vi=class extends Cn{status;source;constructor(n,e){super(),this.status=n,this.source=e}},oc=class extends Cn{source;constructor(n){super(),this.source=n}},sc=class extends Cn{source;constructor(n){super(),this.source=n}};function ph(t){return(fc(t)?t.validators:t)||null}function jT(t){return Array.isArray(t)?fh(t):t||null}function gh(t,n){return(fc(n)?n.asyncValidators:t)||null}function VT(t){return Array.isArray(t)?hh(t):t||null}function fc(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function dw(t,n,e){let r=t.controls;if(!(n?Object.keys(r):r).length)throw new C(1e3,"");if(!r[e])throw new C(1001,"")}function fw(t,n,e){t._forEachChild((r,i)=>{if(e[i]===void 0)throw new C(1002,"")})}var yi=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,e){this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return kt(this.statusReactive)}set status(n){kt(()=>this.statusReactive.set(n))}_status=Zr(()=>this.statusReactive());statusReactive=Hr(void 0);get valid(){return this.status===Jo}get invalid(){return this.status===Xl}get pending(){return this.status==mi}get disabled(){return this.status===Xo}get enabled(){return this.status!==Xo}errors;get pristine(){return kt(this.pristineReactive)}set pristine(n){kt(()=>this.pristineReactive.set(n))}_pristine=Zr(()=>this.pristineReactive());pristineReactive=Hr(!0);get dirty(){return!this.pristine}get touched(){return kt(this.touchedReactive)}set touched(n){kt(()=>this.touchedReactive.set(n))}_touched=Zr(()=>this.touchedReactive());touchedReactive=Hr(!1);get untouched(){return!this.touched}_events=new pe;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(W_(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(W_(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(Z_(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(Z_(n,this._rawAsyncValidators))}hasValidator(n){return tc(this._rawValidators,n)}hasAsyncValidator(n){return tc(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let e=this.touched===!1;this.touched=!0;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched($(w({},n),{sourceControl:r})),e&&n.emitEvent!==!1&&this._events.next(new ns(!0,r))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(n))}markAsUntouched(n={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:r})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,r),e&&n.emitEvent!==!1&&this._events.next(new ns(!1,r))}markAsDirty(n={}){let e=this.pristine===!0;this.pristine=!1;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty($(w({},n),{sourceControl:r})),e&&n.emitEvent!==!1&&this._events.next(new ts(!1,r))}markAsPristine(n={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,r),e&&n.emitEvent!==!1&&this._events.next(new ts(!0,r))}markAsPending(n={}){this.status=mi;let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new vi(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending($(w({},n),{sourceControl:e}))}disable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=Xo,this.errors=null,this._forEachChild(i=>{i.disable($(w({},n),{onlySelf:!0}))}),this._updateValue();let r=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new ic(this.value,r)),this._events.next(new vi(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors($(w({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=Jo,this._forEachChild(r=>{r.enable($(w({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors($(w({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n,e){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Jo||this.status===mi)&&this._runAsyncValidator(r,n.emitEvent)}let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new ic(this.value,e)),this._events.next(new vi(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity($(w({},n),{sourceControl:e}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Xo:Jo}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,e){if(this.asyncValidator){this.status=mi,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let r=rw(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:e,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(n){let e=n;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(n,e){let r=e?this.get(e):this;return r&&r.errors?r.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,e,r){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||r)&&this._events.next(new vi(this.status,e)),this._parent&&this._parent._updateControlsErrors(n,e,r)}_initObservables(){this.valueChanges=new oe,this.statusChanges=new oe}_calculateStatus(){return this._allControlsDisabled()?Xo:this.errors?Xl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(mi)?mi:this._anyControlsHaveStatus(Xl)?Xl:Jo}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,e){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,e),i&&this._events.next(new ts(this.pristine,e))}_updateTouched(n={},e){this.touched=this._anyControlsTouched(),this._events.next(new ns(this.touched,e)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,e)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){fc(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let e=this._parent&&this._parent.dirty;return!n&&!!e&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=jT(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=VT(this._rawAsyncValidators)}},_i=class extends yi{constructor(n,e,r){super(ph(e),gh(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,r={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){fw(this,!0,n),Object.keys(n).forEach(r=>{dw(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){n!=null&&(Object.keys(n).forEach(r=>{let i=this.controls[r];i&&i.patchValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((r,i)=>{r.reset(n?n[i]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,r)=>(n[r]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,r)=>r._syncPendingControls()?!0:e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{let r=this.controls[e];r&&n(r,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[e,r]of Object.entries(this.controls))if(this.contains(e)&&n(r))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(n,e){let r=n;return this._forEachChild((i,o)=>{r=e(r,i,o)}),r}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var lh=class extends _i{};var Ci=new S("",{providedIn:"root",factory:()=>ss}),ss="always";function hw(t,n){return[...n.path,t]}function ac(t,n,e=ss){mh(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||e==="always")&&n.valueAccessor.setDisabledState?.(t.disabled),$T(t,n),HT(t,n),BT(t,n),UT(t,n)}function Y_(t,n,e=!0){let r=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(r),n.valueAccessor.registerOnTouched(r)),cc(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function lc(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function UT(t,n){if(n.valueAccessor.setDisabledState){let e=r=>{n.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}function mh(t,n){let e=cw(t);n.validator!==null?t.setValidators(G_(e,n.validator)):typeof e=="function"&&t.setValidators([e]);let r=uw(t);n.asyncValidator!==null?t.setAsyncValidators(G_(r,n.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();lc(n._rawValidators,i),lc(n._rawAsyncValidators,i)}function cc(t,n){let e=!1;if(t!==null){if(n.validator!==null){let i=cw(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==n.validator);o.length!==i.length&&(e=!0,t.setValidators(o))}}if(n.asyncValidator!==null){let i=uw(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==n.asyncValidator);o.length!==i.length&&(e=!0,t.setAsyncValidators(o))}}}let r=()=>{};return lc(n._rawValidators,r),lc(n._rawAsyncValidators,r),e}function $T(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&pw(t,n)})}function BT(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&pw(t,n),t.updateOn!=="submit"&&t.markAsTouched()})}function pw(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function HT(t,n){let e=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}function gw(t,n){t==null,mh(t,n)}function zT(t,n){return cc(t,n)}function mw(t,n){if(!t.hasOwnProperty("model"))return!1;let e=t.model;return e.isFirstChange()?!0:!Object.is(n,e.currentValue)}function qT(t){return Object.getPrototypeOf(t.constructor)===uc}function vw(t,n){t._syncPendingControls(),n.forEach(e=>{let r=e.control;r.updateOn==="submit"&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function yw(t,n){if(!n)return null;Array.isArray(n);let e,r,i;return n.forEach(o=>{o.constructor===En?e=o:qT(o)?r=o:i=o}),i||r||e||null}function GT(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}var WT={provide:rn,useExisting:et(()=>vh)},es=Promise.resolve(),vh=(()=>{class t extends rn{callSetDisabledState;get submitted(){return kt(this.submittedReactive)}_submitted=Zr(()=>this.submittedReactive());submittedReactive=Hr(!1);_directives=new Set;form;ngSubmit=new oe;options;constructor(e,r,i){super(),this.callSetDisabledState=i,this.form=new _i({},fh(e),hh(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){es.then(()=>{let r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),ac(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){es.then(()=>{let r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){es.then(()=>{let r=this._findContainer(e.path),i=new _i({});gw(i,e),r.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){es.then(()=>{let r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){es.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),vw(this.form,this._directives),this.ngSubmit.emit(e),this.form._events.next(new oc(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1),this.form._events.next(new sc(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static \u0275fac=function(r){return new(r||t)(M(os,10),M(dc,10),M(Ci,8))};static \u0275dir=se({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&U("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ot([WT]),Ue]})}return t})();function K_(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function Q_(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var rs=class extends yi{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,e,r){super(ph(e),gh(r,e)),this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),fc(e)&&(e.nonNullable||e.initialValueIsDefault)&&(Q_(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){K_(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){K_(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){Q_(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var ZT=t=>t instanceof rs;var YT={provide:Dn,useExisting:et(()=>as)},J_=Promise.resolve(),as=(()=>{class t extends Dn{_changeDetectorRef;callSetDisabledState;control=new rs;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new oe;constructor(e,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=yw(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),mw(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){ac(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){J_.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let r=e.isDisabled.currentValue,i=r!==0&&hn(r);J_.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?hw(e,this._parent):[e]}static \u0275fac=function(r){return new(r||t)(M(rn,9),M(os,10),M(dc,10),M(wi,10),M(Gn,8),M(Ci,8))};static \u0275dir=se({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Ot([YT]),Ue,Tt]})}return t})();var Ei=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=se({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})(),KT={provide:wi,useExisting:et(()=>yh),multi:!0},yh=(()=>{class t extends uc{writeValue(e){let r=e??"";this.setProperty("value",r)}registerOnChange(e){this.onChange=r=>{e(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=un(t)))(i||t)}})();static \u0275dir=se({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&U("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Ot([KT]),Ue]})}return t})(),QT={provide:wi,useExisting:et(()=>_h),multi:!0};var JT=(()=>{class t{_accessors=[];add(e,r){this._accessors.push([e,r])}remove(e){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===e){this._accessors.splice(r,1);return}}select(e){this._accessors.forEach(r=>{this._isSameGroup(r,e)&&r[1]!==e&&r[1].fireUncheck(e.value)})}_isSameGroup(e,r){return e[0].control?e[0]._parent===r._control._parent&&e[1].name===r.name:!1}static \u0275fac=function(r){return new(r||t)};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),_h=(()=>{class t extends uc{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=m(Ci,{optional:!0})??ss;constructor(e,r,i,o){super(e,r),this._registry=i,this._injector=o}ngOnInit(){this._control=this._injector.get(Dn),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}setDisabledState(e){(this.setDisabledStateFired||e||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",e),this.setDisabledStateFired=!0}fireUncheck(e){this.writeValue(e)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(r){return new(r||t)(M(en),M(At),M(JT),M(Ge))};static \u0275dir=se({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,i){r&1&&U("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[Ot([QT]),Ue]})}return t})();var _w=new S("");var XT={provide:rn,useExisting:et(()=>ls)},ls=(()=>{class t extends rn{callSetDisabledState;get submitted(){return kt(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=Zr(()=>this._submittedReactive());_submittedReactive=Hr(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new oe;constructor(e,r,i){super(),this.callSetDisabledState=i,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(cc(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let r=this.form.get(e.path);return ac(r,e,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){Y_(e.control||null,e,!1),GT(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this._submittedReactive.set(!0),vw(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new oc(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new sc(this.form))}_updateDomValue(){this.directives.forEach(e=>{let r=e.control,i=this.form.get(e.path);r!==i&&(Y_(r||null,e),ZT(i)&&(ac(i,e,this.callSetDisabledState),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let r=this.form.get(e.path);gw(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let r=this.form.get(e.path);r&&zT(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){mh(this.form,this),this._oldForm&&cc(this._oldForm,this)}static \u0275fac=function(r){return new(r||t)(M(os,10),M(dc,10),M(Ci,8))};static \u0275dir=se({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&U("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ot([XT]),Ue,Tt]})}return t})();var ex={provide:Dn,useExisting:et(()=>cs)},cs=(()=>{class t extends Dn{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new oe;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=yw(this,o)}ngOnChanges(e){this._added||this._setUpControl(),mw(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return hw(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||t)(M(rn,13),M(os,10),M(dc,10),M(wi,10),M(_w,8))};static \u0275dir=se({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Ot([ex]),Ue,Tt]})}return t})();var tx=(()=>{class t{_validator=ec;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){let r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):ec,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static \u0275fac=function(r){return new(r||t)};static \u0275dir=se({type:t,features:[Tt]})}return t})();var nx={provide:os,useExisting:et(()=>us),multi:!0};var us=(()=>{class t extends tx{required;inputName="required";normalizeInput=hn;createValidator=e=>tw;enabled(e){return e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=un(t)))(i||t)}})();static \u0275dir=se({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Hn("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Ot([nx]),Ue]})}return t})();var ww=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Nt({type:t});static \u0275inj=Mt({})}return t})(),ch=class extends yi{constructor(n,e,r){super(ph(e),gh(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(n){return this.controls[this._adjustIndex(n)]}push(n,e={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(n,e,r={}){this.controls.splice(n,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(n,e={}){let r=this._adjustIndex(n);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(n,e,r={}){let i=this._adjustIndex(n);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),e&&(this.controls.splice(i,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,e={}){fw(this,!1,n),n.forEach((r,i)=>{dw(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){n!=null&&(n.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n=[],e={}){this._forEachChild((r,i)=>{r.reset(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((e,r)=>r._syncPendingControls()?!0:e,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((e,r)=>{n(e,r)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(e=>e.enabled&&n(e))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(let n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}};function X_(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var hc=(()=>{class t{useNonNullable=!1;get nonNullable(){let e=new t;return e.useNonNullable=!0,e}group(e,r=null){let i=this._reduceControls(e),o={};return X_(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new _i(i,o)}record(e,r=null){let i=this._reduceControls(e);return new lh(i,r)}control(e,r,i){let o={};return this.useNonNullable?(X_(r)?o=r:(o.validators=r,o.asyncValidators=i),new rs(e,$(w({},o),{nonNullable:!0}))):new rs(e,r,i)}array(e,r,i){let o=e.map(s=>this._createControl(s));return new ch(o,r,i)}_reduceControls(e){let r={};return Object.keys(e).forEach(i=>{r[i]=this._createControl(e[i])}),r}_createControl(e){if(e instanceof rs)return e;if(e instanceof yi)return e;if(Array.isArray(e)){let r=e[0],i=e.length>1?e[1]:null,o=e.length>2?e[2]:null;return this.control(r,i,o)}else return this.control(e)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Ii=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Ci,useValue:e.callSetDisabledState??ss}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Nt({type:t});static \u0275inj=Mt({imports:[ww]})}return t})(),pc=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:_w,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Ci,useValue:e.callSetDisabledState??ss}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Nt({type:t});static \u0275inj=Mt({imports:[ww]})}return t})();var Si=class t{transform(n,e){if(!n||!e)return n||[];let r=e.toLowerCase();return n.filter(i=>i.toLowerCase().includes(r))}static \u0275fac=function(e){return new(e||t)};static \u0275pipe=Fd({name:"filtro",type:t,pure:!0})};function rx(t,n){if(t&1){let e=Ie();v(0,"div",1)(1,"span",2),D(2),y(),v(3,"button",3),U("click",function(){ue(e);let i=G();return de(i.cerrar())}),D(4,"\u2716"),y()()}if(t&2){let e=G();x("ngClass",e.tipo),T(2),Rt(e.mensaje)}}var In=class t{tipo="info";mensaje="";autoCerrar=!0;duracion=4e3;visible=!0;ngOnInit(){this.autoCerrar&&setTimeout(()=>this.visible=!1,this.duracion)}cerrar(){this.visible=!1}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=Ve({type:t,selectors:[["app-mensaje"]],inputs:{tipo:"tipo",mensaje:"mensaje",autoCerrar:"autoCerrar",duracion:"duracion"},decls:1,vars:1,consts:[["class","alerta",3,"ngClass",4,"ngIf"],[1,"alerta",3,"ngClass"],[1,"contenido"],[1,"cerrar",3,"click"]],template:function(e,r){e&1&&Z(0,rx,5,2,"div",0),e&2&&x("ngIf",r.visible)},dependencies:[vt,to],styles:[".alerta[_ngcontent-%COMP%]{position:fixed;top:2rem;left:50%;transform:translate(-50%);z-index:1050;padding:1rem 1.5rem;border-radius:1rem;font-weight:600;font-family:Open Sans,sans-serif;box-shadow:0 4px 12px #00000040;color:#fff;display:flex;justify-content:space-between;align-items:center;animation:_ngcontent-%COMP%_fadeIn .2s ease-in-out;max-width:90vw;width:fit-content;min-width:280px}.alerta.success[_ngcontent-%COMP%]{background-color:#28a745e6;border-left:5px solid #0f0}.alerta.error[_ngcontent-%COMP%]{background-color:#dc3545e6;border-left:5px solid #f66}.alerta.warning[_ngcontent-%COMP%]{background-color:#fd7e14e6;border-left:5px solid #ffc107}.alerta.info[_ngcontent-%COMP%]{background-color:#007bffe6;border-left:5px solid #66d9ff}.cerrar[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:1.2rem;font-weight:700;cursor:pointer;margin-left:1rem}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}"]})};function ix(t,n){if(t&1&&J(0,"app-mensaje",6),t&2){let e=G();x("mensaje",e.mensajeTexto)("tipo",e.mensajeTipo)("autoCerrar",!0)}}function ox(t,n){if(t&1){let e=Ie();v(0,"div",7)(1,"button",8),U("click",function(){ue(e);let i=G();return de(i.seleccionarPerfil("paciente"))}),D(2,"Paciente"),y(),v(3,"button",9),U("click",function(){ue(e);let i=G();return de(i.seleccionarPerfil("especialista"))}),D(4,"Especialista"),y()()}}function sx(t,n){t&1&&(v(0,"div",22),D(1," Ingrese un nombre v\xE1lido (solo letras). "),y())}function ax(t,n){t&1&&(v(0,"div",22),D(1," Ingrese un apellido v\xE1lido (solo letras). "),y())}function lx(t,n){t&1&&(v(0,"div",22),D(1," Ingrese una edad v\xE1lida (solo n\xFAmeros). "),y())}function cx(t,n){t&1&&(v(0,"div",22),D(1," Ingrese un DNI v\xE1lido (solo n\xFAmeros). "),y())}function ux(t,n){t&1&&(v(0,"div",22),D(1," Ingrese un email v\xE1lido. "),y())}function dx(t,n){t&1&&(v(0,"div",22),D(1," La contrase\xF1a es obligatoria. "),y())}function fx(t,n){if(t&1){let e=Ie();v(0,"div"),J(1,"input",23),v(2,"label",24),D(3,"Foto de perfil:"),y(),v(4,"input",25),U("change",function(i){ue(e);let o=G(2);return de(o.seleccionarArchivoPaciente1(i))}),y(),v(5,"label",24),D(6,"Segunda imagen:"),y(),v(7,"input",25),U("change",function(i){ue(e);let o=G(2);return de(o.seleccionarArchivoPaciente2(i))}),y()()}}function hx(t,n){if(t&1){let e=Ie();v(0,"li",34),U("click",function(){let i,o=ue(e).$implicit,s=G(4);return de((i=s.registroForm.get("especialidad"))==null?null:i.setValue(o))}),D(1),y()}if(t&2){let e=n.$implicit;T(),zn(" ",e," ")}}function px(t,n){if(t&1&&(v(0,"ul",32),Z(1,hx,2,1,"li",33),ja(2,"filtro"),y()),t&2){let e,r=G(3);T(),x("ngForOf",Va(2,1,r.especialidades,(e=r.registroForm.get("especialidad"))==null?null:e.value))}}function gx(t,n){t&1&&J(0,"input",35)}function mx(t,n){if(t&1){let e=Ie();v(0,"div")(1,"label",24),D(2,"Especialidad:"),y(),J(3,"input",26),Z(4,px,3,4,"ul",27),v(5,"div",28),J(6,"input",29),v(7,"label",30),D(8,"Agregar especialidad manualmente"),y()(),Z(9,gx,1,0,"input",31),v(10,"label",24),D(11,"Foto de perfil:"),y(),v(12,"input",25),U("change",function(i){ue(e);let o=G(2);return de(o.seleccionarArchivoEspecialista(i))}),y()()}if(t&2){let e,r=G(2);T(3),Hn("autocomplete","off"),T(),x("ngIf",r.especialidades.length&&((e=r.registroForm.get("especialidad"))==null?null:e.value)),T(5),x("ngIf",r.agregarEspecialidadManualmente)}}function vx(t,n){if(t&1){let e=Ie();v(0,"form",10),U("ngSubmit",function(){ue(e);let i=G();return de(i.registrar())}),J(1,"input",11),Z(2,sx,2,0,"div",12),J(3,"input",13),Z(4,ax,2,0,"div",12),J(5,"input",14),Z(6,lx,2,0,"div",12),J(7,"input",15),Z(8,cx,2,0,"div",12),J(9,"input",16),Z(10,ux,2,0,"div",12),J(11,"input",17),Z(12,dx,2,0,"div",12)(13,fx,8,0,"div",18)(14,mx,13,3,"div",18),v(15,"div",19)(16,"button",20),D(17,"Registrar"),y(),v(18,"button",21),U("click",function(){ue(e);let i=G();return de(i.cancelar())}),D(19,"Cancelar"),y()()()}if(t&2){let e,r,i,o,s,a,l=G();x("formGroup",l.registroForm),T(2),x("ngIf",((e=l.registroForm.get("nombre"))==null?null:e.touched)&&((e=l.registroForm.get("nombre"))==null?null:e.invalid)),T(2),x("ngIf",((r=l.registroForm.get("apellido"))==null?null:r.touched)&&((r=l.registroForm.get("apellido"))==null?null:r.invalid)),T(2),x("ngIf",((i=l.registroForm.get("edad"))==null?null:i.touched)&&((i=l.registroForm.get("edad"))==null?null:i.invalid)),T(2),x("ngIf",((o=l.registroForm.get("dni"))==null?null:o.touched)&&((o=l.registroForm.get("dni"))==null?null:o.invalid)),T(2),x("ngIf",((s=l.registroForm.get("email"))==null?null:s.touched)&&((s=l.registroForm.get("email"))==null?null:s.invalid)),T(2),x("ngIf",((a=l.registroForm.get("contrasena"))==null?null:a.touched)&&((a=l.registroForm.get("contrasena"))==null?null:a.invalid)),T(),x("ngIf",l.perfilSeleccionado==="paciente"),T(),x("ngIf",l.perfilSeleccionado==="especialista")}}var gc=class t{fb=m(hc);dbService=m(at);credencialesService=m(lt);router=m(De);mensajeTexto="";mensajeTipo="success";mensajeVisible=!1;registroForm;perfilSeleccionado=null;especialidades=[];agregarEspecialidadManualmente=!1;imagenPaciente1=null;imagenPaciente2=null;imagenEspecialista=null;ngOnInit(){return h(this,null,function*(){this.registroForm=this.fb.group({nombre:["",[te.required,te.pattern("^[a-zA-Z\xE1\xE9\xED\xF3\xFA\xC1\xC9\xCD\xD3\xDA\xF1\xD1\\s]+$")]],apellido:["",[te.required,te.pattern("^[a-zA-Z\xE1\xE9\xED\xF3\xFA\xC1\xC9\xCD\xD3\xDA\xF1\xD1\\s]+$")]],edad:["",[te.required,te.pattern("^[0-9]+$")]],dni:["",[te.required,te.pattern("^[0-9]+$")]],email:["",[te.required,te.email]],contrasena:["",[te.required]],obraSocial:[""],especialidad:[""],nuevaEspecialidad:[""],agregarEspecialidadManualmente:[!1]});try{this.especialidades=yield this.dbService.obtenerEspecialidades()}catch(n){console.error("Error cargando especialidades:",n)}})}seleccionarPerfil(n){this.perfilSeleccionado=n}seleccionarArchivoPaciente1(n){this.imagenPaciente1=n.target.files[0]}seleccionarArchivoPaciente2(n){this.imagenPaciente2=n.target.files[0]}seleccionarArchivoEspecialista(n){this.imagenEspecialista=n.target.files[0]}registrar(){return h(this,null,function*(){try{if(this.registroForm.invalid||!this.perfilSeleccionado)throw this.registroForm.markAllAsTouched(),new Error("Complete todos los campos requeridos.");let n=this.registroForm.value,e=yield this.credencialesService.registrarUsuario(n.email,n.contrasena);console.log("contrase\xF1a: ",n.contrasena);let r="",i="";if(this.perfilSeleccionado==="paciente"){if(!this.imagenPaciente1||!this.imagenPaciente2)throw new Error("Debe subir las 2 im\xE1genes");r=yield this.credencialesService.subirAvatar(this.imagenPaciente1),i=yield this.credencialesService.subirAvatar(this.imagenPaciente2)}else{if(!this.imagenEspecialista)throw new Error("Debe subir una imagen");r=yield this.credencialesService.subirAvatar(this.imagenEspecialista),this.agregarEspecialidadManualmente&&n.nuevaEspecialidad&&(yield this.dbService.agregarEspecialidad(n.nuevaEspecialidad))}let o={};this.perfilSeleccionado==="paciente"?(o.obra_social=n.obraSocial,o.imagen_extra_1=i):o.especialidad=this.agregarEspecialidadManualmente?n.nuevaEspecialidad:n.especialidad,yield this.credencialesService.guardarDatosUsuario(e,n.nombre,n.apellido,+n.edad,n.dni,this.perfilSeleccionado,r,o),this.mensajeTexto="Registro exitoso. Por favor, verifique su email.",this.mensajeTipo="success",this.mensajeVisible=!0,this.router.navigate(["/home"])}catch(n){this.mensajeTexto=n.message||"Ocurri\xF3 un error",this.mensajeTipo="error",this.mensajeVisible=!0}})}cancelar(){this.router.navigate(["/home"])}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=Ve({type:t,selectors:[["app-registro"]],decls:7,vars:3,consts:[[1,"registro-wrapper"],[3,"mensaje","tipo","autoCerrar",4,"ngIf"],[1,"registro-card"],[1,"text-center","mb-4"],["class","perfil-selector mb-3 d-flex gap-3 justify-content-center",4,"ngIf"],["class","formulario",3,"formGroup","ngSubmit",4,"ngIf"],[3,"mensaje","tipo","autoCerrar"],[1,"perfil-selector","mb-3","d-flex","gap-3","justify-content-center"],[1,"btn","btn-outline-primary",3,"click"],[1,"btn","btn-outline-secondary",3,"click"],[1,"formulario",3,"ngSubmit","formGroup"],["type","text","formControlName","nombre","placeholder","Nombre",1,"form-control"],["class","text-danger small mt-1",4,"ngIf"],["type","text","formControlName","apellido","placeholder","Apellido",1,"form-control"],["type","text","formControlName","edad","placeholder","Edad",1,"form-control"],["type","text","formControlName","dni","placeholder","DNI",1,"form-control"],["type","email","formControlName","email","placeholder","Email",1,"form-control"],["type","password","formControlName","contrasena","placeholder","Contrase\xF1a","required","",1,"form-control"],[4,"ngIf"],[1,"d-flex","justify-content-between","mt-4"],["type","submit",1,"btn","btn-primary","w-50","me-2"],["type","button",1,"btn","btn-secondary","w-50","ms-2",3,"click"],[1,"text-danger","small","mt-1"],["type","text","formControlName","obraSocial","placeholder","Obra Social","required","",1,"form-control"],[1,"form-label","mt-3"],["type","file","required","",1,"form-control",3,"change"],["type","text","formControlName","especialidad","placeholder","Escriba una especialidad...",1,"form-control"],["class","list-group mt-1",4,"ngIf"],[1,"form-check","mb-2"],["type","checkbox","id","nuevaEspecialidad","formControlName","agregarEspecialidadManualmente","name","nuevaEspecialidad",1,"form-check-input"],["for","nuevaEspecialidad",1,"form-check-label"],["type","text","class","form-control","formControlName","nuevaEspecialidad","placeholder","Nueva especialidad","required","",4,"ngIf"],[1,"list-group","mt-1"],["class","list-group-item list-group-item-action",3,"click",4,"ngFor","ngForOf"],[1,"list-group-item","list-group-item-action",3,"click"],["type","text","formControlName","nuevaEspecialidad","placeholder","Nueva especialidad","required","",1,"form-control"]],template:function(e,r){e&1&&(v(0,"div",0),Z(1,ix,1,3,"app-mensaje",1),v(2,"div",2)(3,"h2",3),D(4,"Registro"),y(),Z(5,ox,5,0,"div",4)(6,vx,20,9,"form",5),y()()),e&2&&(T(),x("ngIf",r.mensajeVisible),T(4),x("ngIf",!r.perfilSeleccionado),T(),x("ngIf",r.perfilSeleccionado))},dependencies:[Pt,gn,vt,pc,Ei,En,is,bi,Di,us,ls,cs,Si,In,Ii],styles:[".registro-wrapper[_ngcontent-%COMP%]{height:100vh;background-image:url(/assets/img/fondoClinica.jpeg);background-size:cover;background-position:center;background-repeat:no-repeat;display:flex;justify-content:center;align-items:center;font-family:Open Sans,sans-serif;padding:1rem}.registro-card[_ngcontent-%COMP%]{background-color:#ffffffe6;padding:2rem;border-radius:1rem;max-width:600px;width:100%;box-shadow:0 0 15px #0000004d}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{margin-bottom:1rem}.list-group-item[_ngcontent-%COMP%]{cursor:pointer}.list-group-item[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}"]})};function yx(t,n){t&1&&(v(0,"span"),D(1,"Acceso R\xE1pido"),y())}function _x(t,n){t&1&&(v(0,"div",15)(1,"span",16),D(2,"Cargando..."),y()())}function wx(t,n){if(t&1&&J(0,"app-mensaje",17),t&2){let e=G();x("mensaje",e.mensajeTexto)("tipo",e.mensajeTipo)("autoCerrar",!1)}}var mc=class t{constructor(n,e,r){this.credencialesService=n;this.supabaseDb=e;this.router=r}usuario="";contrasena="";mensajeVisible=!1;mensajeTexto="";mensajeTipo="info";cargando=!1;onLoginSuccess=new oe;onCancel=new oe;login(){return h(this,null,function*(){try{if(!this.usuario||!this.contrasena){this.mostrarMensaje("Debe ingresar el correo y la contrase\xF1a.","warning");return}let n=yield this.credencialesService.login(this.usuario,this.contrasena);if(!n.email)throw new Error("El usuario no tiene un email v\xE1lido");yield this.supabaseDb.registrarLoginUsuario(n.id,n.email),this.mostrarMensaje("Inicio de sesi\xF3n exitoso","success"),this.onLoginSuccess.emit(n),this.router.navigate(["/home"])}catch(n){console.error(n),this.mostrarMensaje("Credenciales inv\xE1lidas.","error")}})}cancelar(){this.onCancel.emit()}irARegistro(){this.router.navigate(["/registro"])}loginRapido(){return h(this,null,function*(){this.cargando=!0,this.usuario="unemaildeprueba987@gmail.com",this.contrasena="123456";try{yield this.login()}finally{this.cargando=!1}})}mostrarMensaje(n,e="info"){this.mensajeTexto=n,this.mensajeTipo=e,this.mensajeVisible=!0,setTimeout(()=>this.mensajeVisible=!1,4e3)}static \u0275fac=function(e){return new(e||t)(M(lt),M(at),M(De))};static \u0275cmp=Ve({type:t,selectors:[["app-login"]],outputs:{onLoginSuccess:"onLoginSuccess",onCancel:"onCancel"},decls:23,vars:6,consts:[[1,"login-wrapper"],[1,"login-card"],[1,"btn-close",3,"click"],[1,"text-center","mb-4"],[1,"d-flex","flex-column","gap-3",3,"ngSubmit"],["for","usuario",1,"form-label"],["id","usuario","type","email","name","usuario","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","contrasena",1,"form-label"],["id","contrasena","type","password","name","contrasena","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary","w-100"],["type","button",1,"btn","btn-outline-secondary","w-100",3,"click"],["type","button",1,"btn","btn-outline-success","w-100","d-flex","justify-content-center","align-items-center",3,"click","disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm text-success ms-2","role","status",4,"ngIf"],[3,"mensaje","tipo","autoCerrar",4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm","text-success","ms-2"],[1,"visually-hidden"],[3,"mensaje","tipo","autoCerrar"]],template:function(e,r){e&1&&(v(0,"div",0)(1,"div",1)(2,"button",2),U("click",function(){return r.cancelar()}),D(3,"\xD7"),y(),v(4,"h2",3),D(5,"Iniciar Sesi\xF3n"),y(),v(6,"form",4),U("ngSubmit",function(){return r.login()}),v(7,"div")(8,"label",5),D(9,"Correo electr\xF3nico"),y(),v(10,"input",6),fn("ngModelChange",function(o){return qn(r.usuario,o)||(r.usuario=o),o}),y()(),v(11,"div")(12,"label",7),D(13,"Contrase\xF1a"),y(),v(14,"input",8),fn("ngModelChange",function(o){return qn(r.contrasena,o)||(r.contrasena=o),o}),y()(),v(15,"button",9),D(16,"Ingresar"),y(),v(17,"button",10),U("click",function(){return r.irARegistro()}),D(18,"Registrarme"),y(),v(19,"button",11),U("click",function(){return r.loginRapido()}),Z(20,yx,2,0,"span",12)(21,_x,3,0,"div",13),y()(),Z(22,wx,1,3,"app-mensaje",14),y()()),e&2&&(T(10),dn("ngModel",r.usuario),T(4),dn("ngModel",r.contrasena),T(5),x("disabled",r.cargando),T(),x("ngIf",!r.cargando),T(),x("ngIf",r.cargando),T(),x("ngIf",r.mensajeVisible))},dependencies:[Pt,vt,Ii,Ei,En,bi,Di,us,as,vh,In],styles:[".login-wrapper[_ngcontent-%COMP%]{background-image:url(/assets/img/fondo-azul.jpg);display:flex;justify-content:center;align-items:center;padding:3rem 1rem;min-height:100vh;background-color:#f5f5f5}.login-card[_ngcontent-%COMP%]{background-color:#fff;padding:2rem;border-radius:12px;box-shadow:0 0 12px #0000001a;width:100%;max-width:400px;position:relative}.btn-close[_ngcontent-%COMP%]{position:absolute;top:1rem;right:1rem;background:none;border:none;font-size:1.5rem;color:#333;cursor:pointer}.form-label[_ngcontent-%COMP%]{font-weight:500;margin-bottom:.5rem;display:block}.form-control[_ngcontent-%COMP%]{width:100%;padding:.75rem;font-size:1rem;border-radius:6px;border:1px solid #ccc}.btn[_ngcontent-%COMP%]{padding:.75rem;font-size:1rem;border-radius:6px}"]})};var bw=(t,n)=>h(null,null,function*(){let e=m(lt),r=m(at),i=m(De),o=e.getUsuarioActual();if(!o)return i.navigate(["/home"]),!1;try{if((yield r.obtenerUsuarioActual(o.id)).perfil==="admin")return!0}catch(s){console.error("Error en adminGuard:",s)}return i.navigate(["/home"]),!1});function bx(t,n){if(t&1&&J(0,"app-mensaje",20),t&2){let e=G();x("mensaje",e.mensajeTexto)("tipo",e.mensajeTipo)("autoCerrar",!1)}}function Dx(t,n){if(t&1&&(v(0,"span",23),D(1),y()),t&2){let e=G().$implicit;x("ngClass",e.habilitado?"bg-success":"bg-secondary"),T(),zn(" ",e.habilitado?"Habilitado":"Inhabilitado"," ")}}function Cx(t,n){if(t&1){let e=Ie();v(0,"button",24),U("click",function(){ue(e);let i=G().$implicit,o=G();return de(o.alternarHabilitacion(i))}),D(1," Cambiar estado "),y()}}function Ex(t,n){if(t&1&&(v(0,"tr")(1,"td"),D(2),y(),v(3,"td"),D(4),y(),v(5,"td"),D(6),y(),v(7,"td"),D(8),y(),v(9,"td"),Z(10,Dx,2,2,"span",21),y(),v(11,"td"),Z(12,Cx,2,0,"button",22),y()()),t&2){let e=n.$implicit;T(2),Rt(e.nombre),T(2),Rt(e.apellido),T(2),Rt(e.perfil),T(2),Rt(e.email),T(2),x("ngIf",e.perfil==="especialista"),T(2),x("ngIf",e.perfil==="especialista")}}function Ix(t,n){if(t&1){let e=Ie();v(0,"div"),J(1,"input",34),v(2,"label",35),D(3,"Foto de perfil:"),y(),v(4,"input",36),U("change",function(i){ue(e);let o=G(2);return de(o.seleccionarArchivoPaciente1(i))}),y(),v(5,"label",35),D(6,"Segunda imagen:"),y(),v(7,"input",36),U("change",function(i){ue(e);let o=G(2);return de(o.seleccionarArchivoPaciente2(i))}),y()()}}function Sx(t,n){if(t&1){let e=Ie();v(0,"li",45),U("click",function(){let i,o=ue(e).$implicit,s=G(4);return de((i=s.registroForm.get("especialidad"))==null?null:i.setValue(o))}),D(1),y()}if(t&2){let e=n.$implicit;T(),zn(" ",e," ")}}function Mx(t,n){if(t&1&&(v(0,"ul",43),Z(1,Sx,2,1,"li",44),ja(2,"filtro"),y()),t&2){let e,r=G(3);T(),x("ngForOf",Va(2,1,r.especialidades,(e=r.registroForm.get("especialidad"))==null?null:e.value))}}function Tx(t,n){t&1&&J(0,"input",46)}function xx(t,n){if(t&1){let e=Ie();v(0,"div"),J(1,"input",37),Z(2,Mx,3,4,"ul",38),v(3,"div",39),J(4,"input",40),v(5,"label",41),D(6,"Agregar especialidad manualmente"),y()(),Z(7,Tx,1,0,"input",42),v(8,"label",35),D(9,"Foto de perfil:"),y(),v(10,"input",36),U("change",function(i){ue(e);let o=G(2);return de(o.seleccionarArchivoEspecialista(i))}),y()()}if(t&2){let e,r=G(2);T(2),x("ngIf",r.especialidades.length&&((e=r.registroForm.get("especialidad"))==null?null:e.value)),T(5),x("ngIf",r.agregarEspecialidadManualmente)}}function Ax(t,n){if(t&1){let e=Ie();v(0,"div")(1,"label",35),D(2,"Foto de perfil:"),y(),v(3,"input",36),U("change",function(i){ue(e);let o=G(2);return de(o.seleccionarArchivoAdmin(i))}),y()()}}function Nx(t,n){if(t&1){let e=Ie();v(0,"form",25),U("ngSubmit",function(){ue(e);let i=G();return de(i.crearUsuario())}),J(1,"input",26)(2,"input",27)(3,"input",28)(4,"input",29)(5,"input",30)(6,"input",31),Z(7,Ix,8,0,"div",32)(8,xx,11,2,"div",32)(9,Ax,4,0,"div",32),v(10,"button",33),D(11,"Crear Usuario"),y()()}if(t&2){let e=G();x("formGroup",e.registroForm),T(7),x("ngIf",e.perfilSeleccionado==="paciente"),T(),x("ngIf",e.perfilSeleccionado==="especialista"),T(),x("ngIf",e.perfilSeleccionado==="admin")}}var vc=class t{constructor(n,e,r,i){this.supabaseDb=n;this.credencialesService=e;this.fb=r;this.router=i}usuarios=[];registroForm;mensajeVisible=!1;mensajeTexto="";mensajeTipo="info";perfilSeleccionado=null;especialidades=[];agregarEspecialidadManualmente=!1;imagenPaciente1=null;imagenPaciente2=null;imagenEspecialista=null;imagenAdmin=null;ngOnInit(){return h(this,null,function*(){this.obtenerUsuarios(),this.registroForm=this.fb.group({nombre:["",[te.required,te.pattern("^[a-zA-Z\xE1\xE9\xED\xF3\xFA\xC1\xC9\xCD\xD3\xDA\xF1\xD1\\s]+$")]],apellido:["",[te.required,te.pattern("^[a-zA-Z\xE1\xE9\xED\xF3\xFA\xC1\xC9\xCD\xD3\xDA\xF1\xD1\\s]+$")]],edad:["",[te.required,te.pattern("^[0-9]+$")]],dni:["",[te.required,te.pattern("^[0-9]+$")]],email:["",[te.required,te.email]],contrasena:["",[te.required]],obraSocial:[""],especialidad:[""],nuevaEspecialidad:[""],agregarEspecialidadManualmente:[!1]});try{this.especialidades=yield this.supabaseDb.obtenerEspecialidades()}catch{this.mostrarMensaje("Error al cargar especialidades","error")}})}obtenerUsuarios(){return h(this,null,function*(){try{this.usuarios=yield this.supabaseDb.obtenerTodosLosUsuarios()}catch{this.mostrarMensaje("Error al cargar usuarios","error")}})}seleccionarPerfil(n){this.perfilSeleccionado=n,this.registroForm.reset(),this.agregarEspecialidadManualmente=!1,this.imagenPaciente1=null,this.imagenPaciente2=null,this.imagenEspecialista=null,this.imagenAdmin=null}seleccionarArchivoPaciente1(n){this.imagenPaciente1=n.target.files[0]}seleccionarArchivoPaciente2(n){this.imagenPaciente2=n.target.files[0]}seleccionarArchivoEspecialista(n){this.imagenEspecialista=n.target.files[0]}seleccionarArchivoAdmin(n){this.imagenAdmin=n.target.files[0]}crearUsuario(){return h(this,null,function*(){try{if(this.registroForm.invalid||!this.perfilSeleccionado)throw this.registroForm.markAllAsTouched(),new Error("Complete todos los campos requeridos.");let n=this.registroForm.value,e=yield this.credencialesService.registrarUsuario(n.email,n.contrasena),r="",i="",o={};if(this.perfilSeleccionado==="paciente"){if(!this.imagenPaciente1||!this.imagenPaciente2)throw new Error("Debe subir ambas im\xE1genes del paciente.");r=yield this.credencialesService.subirAvatar(this.imagenPaciente1),i=yield this.credencialesService.subirAvatar(this.imagenPaciente2),o.obra_social=n.obraSocial,o.imagen_extra_1=i}if(this.perfilSeleccionado==="especialista"){if(!this.imagenEspecialista)throw new Error("Debe subir una imagen de perfil.");r=yield this.credencialesService.subirAvatar(this.imagenEspecialista),n.agregarEspecialidadManualmente&&n.nuevaEspecialidad?(yield this.supabaseDb.agregarEspecialidad(n.nuevaEspecialidad),o.especialidad=n.nuevaEspecialidad):o.especialidad=n.especialidad}if(this.perfilSeleccionado==="admin"){if(!this.imagenAdmin)throw new Error("Debe subir una imagen de perfil.");r=yield this.credencialesService.subirAvatar(this.imagenAdmin)}yield this.credencialesService.guardarDatosUsuario(e,n.nombre,n.apellido,+n.edad,n.dni,this.perfilSeleccionado,r,o),this.mostrarMensaje("Usuario creado con \xE9xito","success"),this.registroForm.reset(),this.perfilSeleccionado=null,this.obtenerUsuarios()}catch(n){this.mostrarMensaje(n.message||"Error al crear el usuario","error")}})}alternarHabilitacion(n){return h(this,null,function*(){try{yield this.supabaseDb.actualizarEstadoEspecialista(n.user_auth_id,!n.habilitado),this.mostrarMensaje("Estado actualizado correctamente","success"),this.obtenerUsuarios()}catch{this.mostrarMensaje("Error al actualizar estado","error")}})}mostrarMensaje(n,e){this.mensajeTexto=n,this.mensajeTipo=e,this.mensajeVisible=!0,setTimeout(()=>this.mensajeVisible=!1,4e3)}cerrarSesion(){this.credencialesService.logout(),this.router.navigate(["/home"])}static \u0275fac=function(e){return new(e||t)(M(at),M(lt),M(hc),M(De))};static \u0275cmp=Ve({type:t,selectors:[["app-usuarios"]],decls:45,vars:6,consts:[[1,"text-end","mb-3"],[1,"btn-cerrar-sesion","btn-sm",3,"click"],[1,"usuarios-wrapper"],[3,"mensaje","tipo","autoCerrar",4,"ngIf"],[1,"mb-4"],[1,"usuarios-lista","mb-5"],[1,"mb-3"],[1,"table-responsive"],[1,"table","table-bordered","table-striped"],[4,"ngFor","ngForOf"],[1,"crear-usuario"],[1,"perfil-selector","d-flex","gap-3","mb-3"],[1,"form-check"],["type","radio","id","paciente","name","perfil","value","paciente",1,"form-check-input",3,"ngModelChange","ngModel"],["for","paciente",1,"form-check-label"],["type","radio","id","especialista","name","perfil","value","especialista",1,"form-check-input",3,"ngModelChange","ngModel"],["for","especialista",1,"form-check-label"],["type","radio","id","admin","name","perfil","value","admin",1,"form-check-input",3,"ngModelChange","ngModel"],["for","admin",1,"form-check-label"],["class","formulario-admin",3,"formGroup","ngSubmit",4,"ngIf"],[3,"mensaje","tipo","autoCerrar"],["class","badge",3,"ngClass",4,"ngIf"],["class","btn btn-sm btn-outline-primary btn-toggle",3,"click",4,"ngIf"],[1,"badge",3,"ngClass"],[1,"btn","btn-sm","btn-outline-primary","btn-toggle",3,"click"],[1,"formulario-admin",3,"ngSubmit","formGroup"],["type","text","formControlName","nombre","placeholder","Nombre",1,"form-control"],["type","text","formControlName","apellido","placeholder","Apellido",1,"form-control"],["type","number","formControlName","edad","placeholder","Edad",1,"form-control"],["type","text","formControlName","dni","placeholder","DNI",1,"form-control"],["type","email","formControlName","email","placeholder","Email",1,"form-control"],["type","password","formControlName","contrasena","placeholder","Contrase\xF1a",1,"form-control"],[4,"ngIf"],["type","submit",1,"btn","btn-success","mt-3"],["type","text","formControlName","obraSocial","placeholder","Obra Social",1,"form-control"],[1,"form-label","mt-2"],["type","file",1,"form-control",3,"change"],["type","text","formControlName","especialidad","placeholder","Escriba una especialidad...",1,"form-control","mt-2"],["class","list-group mt-1",4,"ngIf"],[1,"form-check","mt-2"],["type","checkbox","id","nuevaEspecialidad","formControlName","agregarEspecialidadManualmente",1,"form-check-input"],["for","nuevaEspecialidad",1,"form-check-label"],["type","text","class","form-control","formControlName","nuevaEspecialidad","placeholder","Nueva especialidad",4,"ngIf"],[1,"list-group","mt-1"],["class","list-group-item list-group-item-action",3,"click",4,"ngFor","ngForOf"],[1,"list-group-item","list-group-item-action",3,"click"],["type","text","formControlName","nuevaEspecialidad","placeholder","Nueva especialidad",1,"form-control"]],template:function(e,r){e&1&&(v(0,"div",0)(1,"button",1),U("click",function(){return r.cerrarSesion()}),D(2,"Cerrar sesi\xF3n"),y()(),v(3,"div",2),Z(4,bx,1,3,"app-mensaje",3),v(5,"h2",4),D(6,"Gesti\xF3n de Usuarios"),y(),v(7,"div",5)(8,"h4",6),D(9,"Usuarios registrados"),y(),v(10,"div",7)(11,"table",8)(12,"thead")(13,"tr")(14,"th"),D(15,"Nombre"),y(),v(16,"th"),D(17,"Apellido"),y(),v(18,"th"),D(19,"Perfil"),y(),v(20,"th"),D(21,"Email"),y(),v(22,"th"),D(23,"Estado"),y(),v(24,"th"),D(25,"Acci\xF3n"),y()()(),v(26,"tbody"),Z(27,Ex,13,6,"tr",9),y()()()(),v(28,"div",10)(29,"h4",6),D(30,"Crear nuevo usuario"),y(),v(31,"div",11)(32,"div",12)(33,"input",13),fn("ngModelChange",function(o){return qn(r.perfilSeleccionado,o)||(r.perfilSeleccionado=o),o}),y(),v(34,"label",14),D(35,"Paciente"),y()(),v(36,"div",12)(37,"input",15),fn("ngModelChange",function(o){return qn(r.perfilSeleccionado,o)||(r.perfilSeleccionado=o),o}),y(),v(38,"label",16),D(39,"Especialista"),y()(),v(40,"div",12)(41,"input",17),fn("ngModelChange",function(o){return qn(r.perfilSeleccionado,o)||(r.perfilSeleccionado=o),o}),y(),v(42,"label",18),D(43,"Administrador"),y()()(),Z(44,Nx,12,4,"form",19),y()()),e&2&&(T(4),x("ngIf",r.mensajeVisible),T(23),x("ngForOf",r.usuarios),T(6),dn("ngModel",r.perfilSeleccionado),T(4),dn("ngModel",r.perfilSeleccionado),T(4),dn("ngModel",r.perfilSeleccionado),T(3),x("ngIf",r.perfilSeleccionado))},dependencies:[Pt,to,gn,vt,pc,Ei,En,yh,is,_h,bi,Di,ls,cs,Ii,as,In,Si],styles:["[_nghost-%COMP%]{display:block;height:100vh;overflow-y:auto;background-image:url(/assets/img/fondoClinica.jpeg);background-size:cover;background-position:center;background-repeat:no-repeat;padding:2rem;font-family:Open Sans,sans-serif}.usuarios-wrapper[_ngcontent-%COMP%]{background-color:#fffffff2;border-radius:12px;padding:2rem;max-width:1000px;margin:0 auto;box-shadow:0 0 12px #00000040}h2[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{color:#036}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#036;color:#fff}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f2f2f2}.badge[_ngcontent-%COMP%], .btn-toggle[_ngcontent-%COMP%]{font-size:.75rem}.perfil-selector[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:2rem;margin-bottom:1.5rem}.perfil-selector[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-weight:600;color:#036}.formulario-admin[_ngcontent-%COMP%]{margin-top:2rem}input.form-control[_ngcontent-%COMP%], select.form-control[_ngcontent-%COMP%]{margin-bottom:1rem}.formulario-admin[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:1rem;width:auto;min-width:180px;align-self:center;display:block}.text-danger[_ngcontent-%COMP%]{font-size:.85rem}.btn-cerrar-sesion[_ngcontent-%COMP%]{position:absolute;top:1rem;right:1rem;background-color:transparent;border:none;color:#036;font-weight:700;font-size:.9rem;cursor:pointer;transition:color .3s ease}.btn-cerrar-sesion[_ngcontent-%COMP%]:hover{color:#dc3545;text-decoration:underline}"]})};var Dw=[{path:"",component:Ko},{path:"home",component:Ko},{path:"registro",component:gc},{path:"login",component:mc},{path:"usuarios",component:vc,canActivate:[bw]}];var Cw={providers:[cv({eventCoalescing:!0}),xf(Dw)]};var yc=class t{title="clinicaOnline";static \u0275fac=function(e){return new(e||t)};static \u0275cmp=Ve({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(e,r){e&1&&J(0,"router-outlet")},dependencies:[Co],encapsulation:2})};ef(yc,Cw).catch(t=>console.error(t));
